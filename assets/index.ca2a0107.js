const su=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))e(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&e(o)}).observe(document,{childList:!0,subtree:!0});function t(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerpolicy&&(a.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?a.credentials="include":n.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function e(n){if(n.ep)return;n.ep=!0;const a=t(n);fetch(n.href,a)}};su();const hu=128,uu=128,lu=.5;var Me=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function fu(i){if(i.__esModule)return i;var r=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(i).forEach(function(t){var e=Object.getOwnPropertyDescriptor(i,t);Object.defineProperty(r,t,e.get?e:{enumerable:!0,get:function(){return i[t]}})}),r}var es={};(function(i){(function(r){var t=r.Promise,e=t&&"resolve"in t&&"reject"in t&&"all"in t&&"race"in t&&function(){var _;return new t(function(P){_=P}),typeof _=="function"}();i?(i.Promise=e?t:E,i.Polyfill=E):e||(r.Promise=E);var n="pending",a="sealed",o="fulfilled",s="rejected",h=function(){};function u(_){return Object.prototype.toString.call(_)==="[object Array]"}var c=typeof setImmediate!="undefined"?setImmediate:setTimeout,f=[],l;function d(){for(var _=0;_<f.length;_++)f[_][0](f[_][1]);f=[],l=!1}function p(_,P){f.push([_,P]),l||(l=!0,c(d,0))}function v(_,P){function S(F){x(P,F)}function R(F){T(P,F)}try{_(S,R)}catch(F){R(F)}}function y(_){var P=_.owner,S=P.state_,R=P.data_,F=_[S],z=_.then;if(typeof F=="function"){S=o;try{R=F(R)}catch(M){T(z,M)}}g(z,R)||(S===o&&x(z,R),S===s&&T(z,R))}function g(_,P){var S;try{if(_===P)throw new TypeError("A promises callback cannot return that same promise.");if(P&&(typeof P=="function"||typeof P=="object")){var R=P.then;if(typeof R=="function")return R.call(P,function(F){S||(S=!0,P!==F?x(_,F):m(_,F))},function(F){S||(S=!0,T(_,F))}),!0}}catch(F){return S||T(_,F),!0}return!1}function x(_,P){(_===P||!g(_,P))&&m(_,P)}function m(_,P){_.state_===n&&(_.state_=a,_.data_=P,p(w,_))}function T(_,P){_.state_===n&&(_.state_=a,_.data_=P,p(N,_))}function b(_){var P=_.then_;_.then_=void 0;for(var S=0;S<P.length;S++)y(P[S])}function w(_){_.state_=o,b(_)}function N(_){_.state_=s,b(_)}function E(_){if(typeof _!="function")throw new TypeError("Promise constructor takes a function argument");if(!(this instanceof E))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],v(_,this)}E.prototype={constructor:E,state_:n,then_:null,data_:void 0,then:function(_,P){var S={owner:this,then:new this.constructor(h),fulfilled:_,rejected:P};return this.state_===o||this.state_===s?p(y,S):this.then_.push(S),S.then},catch:function(_){return this.then(null,_)}},E.all=function(_){var P=this;if(!u(_))throw new TypeError("You must pass an array to Promise.all().");return new P(function(S,R){var F=[],z=0;function M(Ft){return z++,function(Mt){F[Ft]=Mt,--z||S(F)}}for(var C=0,O;C<_.length;C++)O=_[C],O&&typeof O.then=="function"?O.then(M(C),R):F[C]=O;z||S(F)})},E.race=function(_){var P=this;if(!u(_))throw new TypeError("You must pass an array to Promise.race().");return new P(function(S,R){for(var F=0,z;F<_.length;F++)z=_[F],z&&typeof z.then=="function"?z.then(S,R):S(z)})},E.resolve=function(_){var P=this;return _&&typeof _=="object"&&_.constructor===P?_:new P(function(S){S(_)})},E.reject=function(_){var P=this;return new P(function(S,R){R(_)})}})(typeof window!="undefined"?window:typeof Me!="undefined"?Me:typeof self!="undefined"?self:Me)})(es);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Ia=Object.getOwnPropertySymbols,cu=Object.prototype.hasOwnProperty,du=Object.prototype.propertyIsEnumerable;function pu(i){if(i==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(i)}function vu(){try{if(!Object.assign)return!1;var i=new String("abc");if(i[5]="de",Object.getOwnPropertyNames(i)[0]==="5")return!1;for(var r={},t=0;t<10;t++)r["_"+String.fromCharCode(t)]=t;var e=Object.getOwnPropertyNames(r).map(function(a){return r[a]});if(e.join("")!=="0123456789")return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(a){n[a]=a}),Object.keys(Object.assign({},n)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var yu=vu()?Object.assign:function(i,r){for(var t,e=pu(i),n,a=1;a<arguments.length;a++){t=Object(arguments[a]);for(var o in t)cu.call(t,o)&&(e[o]=t[o]);if(Ia){n=Ia(t);for(var s=0;s<n.length;s++)du.call(t,n[s])&&(e[n[s]]=t[n[s]])}}return e};/*!
 * @pixi/polyfill - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */window.Promise||(window.Promise=es.Polyfill);Object.assign||(Object.assign=yu);var mu=16;Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()});if(!(window.performance&&window.performance.now)){var gu=Date.now();window.performance||(window.performance={}),window.performance.now=function(){return Date.now()-gu}}var yi=Date.now(),Ea=["ms","moz","webkit","o"];for(var mi=0;mi<Ea.length&&!window.requestAnimationFrame;++mi){var gi=Ea[mi];window.requestAnimationFrame=window[gi+"RequestAnimationFrame"],window.cancelAnimationFrame=window[gi+"CancelAnimationFrame"]||window[gi+"CancelRequestAnimationFrame"]}window.requestAnimationFrame||(window.requestAnimationFrame=function(i){if(typeof i!="function")throw new TypeError(i+"is not a function");var r=Date.now(),t=mu+yi-r;return t<0&&(t=0),yi=r,window.setTimeout(function(){yi=Date.now(),i(performance.now())},t)});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(i){return clearTimeout(i)});Math.sign||(Math.sign=function(r){return r=Number(r),r===0||isNaN(r)?r:r>0?1:-1});Number.isInteger||(Number.isInteger=function(r){return typeof r=="number"&&isFinite(r)&&Math.floor(r)===r});window.ArrayBuffer||(window.ArrayBuffer=Array);window.Float32Array||(window.Float32Array=Array);window.Uint32Array||(window.Uint32Array=Array);window.Uint16Array||(window.Uint16Array=Array);window.Uint8Array||(window.Uint8Array=Array);window.Int32Array||(window.Int32Array=Array);var _i=/iPhone/i,Sa=/iPod/i,Aa=/iPad/i,Oa=/\biOS-universal(?:.+)Mac\b/i,xi=/\bAndroid(?:.+)Mobile\b/i,Ca=/Android/i,Ee=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Or=/Silk/i,Bt=/Windows Phone/i,Ra=/\bWindows(?:.+)ARM\b/i,Fa=/BlackBerry/i,Ma=/BB10/i,La=/Opera Mini/i,Na=/\b(CriOS|Chrome)(?:.+)Mobile/i,Da=/Mobile(?:.+)Firefox\b/i,Ua=function(i){return typeof i!="undefined"&&i.platform==="MacIntel"&&typeof i.maxTouchPoints=="number"&&i.maxTouchPoints>1&&typeof MSStream=="undefined"};function _u(i){return function(r){return r.test(i)}}function xu(i){var r={userAgent:"",platform:"",maxTouchPoints:0};!i&&typeof navigator!="undefined"?r={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof i=="string"?r.userAgent=i:i&&i.userAgent&&(r={userAgent:i.userAgent,platform:i.platform,maxTouchPoints:i.maxTouchPoints||0});var t=r.userAgent,e=t.split("[FBAN");typeof e[1]!="undefined"&&(t=e[0]),e=t.split("Twitter"),typeof e[1]!="undefined"&&(t=e[0]);var n=_u(t),a={apple:{phone:n(_i)&&!n(Bt),ipod:n(Sa),tablet:!n(_i)&&(n(Aa)||Ua(r))&&!n(Bt),universal:n(Oa),device:(n(_i)||n(Sa)||n(Aa)||n(Oa)||Ua(r))&&!n(Bt)},amazon:{phone:n(Ee),tablet:!n(Ee)&&n(Or),device:n(Ee)||n(Or)},android:{phone:!n(Bt)&&n(Ee)||!n(Bt)&&n(xi),tablet:!n(Bt)&&!n(Ee)&&!n(xi)&&(n(Or)||n(Ca)),device:!n(Bt)&&(n(Ee)||n(Or)||n(xi)||n(Ca))||n(/\bokhttp\b/i)},windows:{phone:n(Bt),tablet:n(Ra),device:n(Bt)||n(Ra)},other:{blackberry:n(Fa),blackberry10:n(Ma),opera:n(La),firefox:n(Da),chrome:n(Na),device:n(Fa)||n(Ma)||n(La)||n(Da)||n(Na)},any:!1,phone:!1,tablet:!1};return a.any=a.apple.device||a.android.device||a.windows.device||a.other.device,a.phone=a.apple.phone||a.android.phone||a.windows.phone,a.tablet=a.apple.tablet||a.android.tablet||a.windows.tablet,a}/*!
 * @pixi/settings - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Pt=xu(window.navigator);function bu(i){var r=!0;if(Pt.tablet||Pt.phone){if(Pt.apple.device){var t=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(t){var e=parseInt(t[1],10);e<11&&(r=!1)}}if(Pt.android.device){var t=navigator.userAgent.match(/Android\s([0-9.]*)/);if(t){var e=parseInt(t[1],10);e<7&&(r=!1)}}}return r?i:4}function Tu(){return!Pt.apple.device}var D={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:bu(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:Pt.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:Tu(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},rs={exports:{}};(function(i){var r=Object.prototype.hasOwnProperty,t="~";function e(){}Object.create&&(e.prototype=Object.create(null),new e().__proto__||(t=!1));function n(h,u,c){this.fn=h,this.context=u,this.once=c||!1}function a(h,u,c,f,l){if(typeof c!="function")throw new TypeError("The listener must be a function");var d=new n(c,f||h,l),p=t?t+u:u;return h._events[p]?h._events[p].fn?h._events[p]=[h._events[p],d]:h._events[p].push(d):(h._events[p]=d,h._eventsCount++),h}function o(h,u){--h._eventsCount===0?h._events=new e:delete h._events[u]}function s(){this._events=new e,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)r.call(c,f)&&u.push(t?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=t?t+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var l=0,d=f.length,p=new Array(d);l<d;l++)p[l]=f[l].fn;return p},s.prototype.listenerCount=function(u){var c=t?t+u:u,f=this._events[c];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,c,f,l,d,p){var v=t?t+u:u;if(!this._events[v])return!1;var y=this._events[v],g=arguments.length,x,m;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),g){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,c),!0;case 3:return y.fn.call(y.context,c,f),!0;case 4:return y.fn.call(y.context,c,f,l),!0;case 5:return y.fn.call(y.context,c,f,l,d),!0;case 6:return y.fn.call(y.context,c,f,l,d,p),!0}for(m=1,x=new Array(g-1);m<g;m++)x[m-1]=arguments[m];y.fn.apply(y.context,x)}else{var T=y.length,b;for(m=0;m<T;m++)switch(y[m].once&&this.removeListener(u,y[m].fn,void 0,!0),g){case 1:y[m].fn.call(y[m].context);break;case 2:y[m].fn.call(y[m].context,c);break;case 3:y[m].fn.call(y[m].context,c,f);break;case 4:y[m].fn.call(y[m].context,c,f,l);break;default:if(!x)for(b=1,x=new Array(g-1);b<g;b++)x[b-1]=arguments[b];y[m].fn.apply(y[m].context,x)}}return!0},s.prototype.on=function(u,c,f){return a(this,u,c,f,!1)},s.prototype.once=function(u,c,f){return a(this,u,c,f,!0)},s.prototype.removeListener=function(u,c,f,l){var d=t?t+u:u;if(!this._events[d])return this;if(!c)return o(this,d),this;var p=this._events[d];if(p.fn)p.fn===c&&(!l||p.once)&&(!f||p.context===f)&&o(this,d);else{for(var v=0,y=[],g=p.length;v<g;v++)(p[v].fn!==c||l&&!p[v].once||f&&p[v].context!==f)&&y.push(p[v]);y.length?this._events[d]=y.length===1?y[0]:y:o(this,d)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=t?t+u:u,this._events[c]&&o(this,c)):(this._events=new e,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=t,s.EventEmitter=s,i.exports=s})(rs);var $e=rs.exports,Yn={exports:{}};Yn.exports=ui;Yn.exports.default=ui;function ui(i,r,t){t=t||2;var e=r&&r.length,n=e?r[0]*t:i.length,a=is(i,0,n,t,!0),o=[];if(!a||a.next===a.prev)return o;var s,h,u,c,f,l,d;if(e&&(a=Su(i,r,a,t)),i.length>80*t){s=u=i[0],h=c=i[1];for(var p=t;p<n;p+=t)f=i[p],l=i[p+1],f<s&&(s=f),l<h&&(h=l),f>u&&(u=f),l>c&&(c=l);d=Math.max(u-s,c-h),d=d!==0?32767/d:0}return cr(a,o,t,s,h,d,0),o}function is(i,r,t,e,n){var a,o;if(n===Ji(i,r,t,e)>0)for(a=r;a<t;a+=e)o=Ba(a,i[a],i[a+1],o);else for(a=t-e;a>=r;a-=e)o=Ba(a,i[a],i[a+1],o);return o&&li(o,o.next)&&(pr(o),o=o.next),o}function _e(i,r){if(!i)return i;r||(r=i);var t=i,e;do if(e=!1,!t.steiner&&(li(t,t.next)||et(t.prev,t,t.next)===0)){if(pr(t),t=r=t.prev,t===t.next)break;e=!0}else t=t.next;while(e||t!==r);return r}function cr(i,r,t,e,n,a,o){if(!!i){!o&&a&&Fu(i,e,n,a);for(var s=i,h,u;i.prev!==i.next;){if(h=i.prev,u=i.next,a?Pu(i,e,n,a):wu(i)){r.push(h.i/t|0),r.push(i.i/t|0),r.push(u.i/t|0),pr(i),i=u.next,s=u.next;continue}if(i=u,i===s){o?o===1?(i=Iu(_e(i),r,t),cr(i,r,t,e,n,a,2)):o===2&&Eu(i,r,t,e,n,a):cr(_e(i),r,t,e,n,a,1);break}}}}function wu(i){var r=i.prev,t=i,e=i.next;if(et(r,t,e)>=0)return!1;for(var n=r.x,a=t.x,o=e.x,s=r.y,h=t.y,u=e.y,c=n<a?n<o?n:o:a<o?a:o,f=s<h?s<u?s:u:h<u?h:u,l=n>a?n>o?n:o:a>o?a:o,d=s>h?s>u?s:u:h>u?h:u,p=e.next;p!==r;){if(p.x>=c&&p.x<=l&&p.y>=f&&p.y<=d&&Fe(n,s,a,h,o,u,p.x,p.y)&&et(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function Pu(i,r,t,e){var n=i.prev,a=i,o=i.next;if(et(n,a,o)>=0)return!1;for(var s=n.x,h=a.x,u=o.x,c=n.y,f=a.y,l=o.y,d=s<h?s<u?s:u:h<u?h:u,p=c<f?c<l?c:l:f<l?f:l,v=s>h?s>u?s:u:h>u?h:u,y=c>f?c>l?c:l:f>l?f:l,g=Zi(d,p,r,t,e),x=Zi(v,y,r,t,e),m=i.prevZ,T=i.nextZ;m&&m.z>=g&&T&&T.z<=x;){if(m.x>=d&&m.x<=v&&m.y>=p&&m.y<=y&&m!==n&&m!==o&&Fe(s,c,h,f,u,l,m.x,m.y)&&et(m.prev,m,m.next)>=0||(m=m.prevZ,T.x>=d&&T.x<=v&&T.y>=p&&T.y<=y&&T!==n&&T!==o&&Fe(s,c,h,f,u,l,T.x,T.y)&&et(T.prev,T,T.next)>=0))return!1;T=T.nextZ}for(;m&&m.z>=g;){if(m.x>=d&&m.x<=v&&m.y>=p&&m.y<=y&&m!==n&&m!==o&&Fe(s,c,h,f,u,l,m.x,m.y)&&et(m.prev,m,m.next)>=0)return!1;m=m.prevZ}for(;T&&T.z<=x;){if(T.x>=d&&T.x<=v&&T.y>=p&&T.y<=y&&T!==n&&T!==o&&Fe(s,c,h,f,u,l,T.x,T.y)&&et(T.prev,T,T.next)>=0)return!1;T=T.nextZ}return!0}function Iu(i,r,t){var e=i;do{var n=e.prev,a=e.next.next;!li(n,a)&&ns(n,e,e.next,a)&&dr(n,a)&&dr(a,n)&&(r.push(n.i/t|0),r.push(e.i/t|0),r.push(a.i/t|0),pr(e),pr(e.next),e=i=a),e=e.next}while(e!==i);return _e(e)}function Eu(i,r,t,e,n,a){var o=i;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&Nu(o,s)){var h=as(o,s);o=_e(o,o.next),h=_e(h,h.next),cr(o,r,t,e,n,a,0),cr(h,r,t,e,n,a,0);return}s=s.next}o=o.next}while(o!==i)}function Su(i,r,t,e){var n=[],a,o,s,h,u;for(a=0,o=r.length;a<o;a++)s=r[a]*e,h=a<o-1?r[a+1]*e:i.length,u=is(i,s,h,e,!1),u===u.next&&(u.steiner=!0),n.push(Lu(u));for(n.sort(Au),a=0;a<n.length;a++)t=Ou(n[a],t);return t}function Au(i,r){return i.x-r.x}function Ou(i,r){var t=Cu(i,r);if(!t)return r;var e=as(t,i);return _e(e,e.next),_e(t,t.next)}function Cu(i,r){var t=r,e=i.x,n=i.y,a=-1/0,o;do{if(n<=t.y&&n>=t.next.y&&t.next.y!==t.y){var s=t.x+(n-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(s<=e&&s>a&&(a=s,o=t.x<t.next.x?t:t.next,s===e))return o}t=t.next}while(t!==r);if(!o)return null;var h=o,u=o.x,c=o.y,f=1/0,l;t=o;do e>=t.x&&t.x>=u&&e!==t.x&&Fe(n<c?e:a,n,u,c,n<c?a:e,n,t.x,t.y)&&(l=Math.abs(n-t.y)/(e-t.x),dr(t,i)&&(l<f||l===f&&(t.x>o.x||t.x===o.x&&Ru(o,t)))&&(o=t,f=l)),t=t.next;while(t!==h);return o}function Ru(i,r){return et(i.prev,i,r.prev)<0&&et(r.next,i,i.next)<0}function Fu(i,r,t,e){var n=i;do n.z===0&&(n.z=Zi(n.x,n.y,r,t,e)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next;while(n!==i);n.prevZ.nextZ=null,n.prevZ=null,Mu(n)}function Mu(i){var r,t,e,n,a,o,s,h,u=1;do{for(t=i,i=null,a=null,o=0;t;){for(o++,e=t,s=0,r=0;r<u&&(s++,e=e.nextZ,!!e);r++);for(h=u;s>0||h>0&&e;)s!==0&&(h===0||!e||t.z<=e.z)?(n=t,t=t.nextZ,s--):(n=e,e=e.nextZ,h--),a?a.nextZ=n:i=n,n.prevZ=a,a=n;t=e}a.nextZ=null,u*=2}while(o>1);return i}function Zi(i,r,t,e,n){return i=(i-t)*n|0,r=(r-e)*n|0,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,r=(r|r<<8)&16711935,r=(r|r<<4)&252645135,r=(r|r<<2)&858993459,r=(r|r<<1)&1431655765,i|r<<1}function Lu(i){var r=i,t=i;do(r.x<t.x||r.x===t.x&&r.y<t.y)&&(t=r),r=r.next;while(r!==i);return t}function Fe(i,r,t,e,n,a,o,s){return(n-o)*(r-s)>=(i-o)*(a-s)&&(i-o)*(e-s)>=(t-o)*(r-s)&&(t-o)*(a-s)>=(n-o)*(e-s)}function Nu(i,r){return i.next.i!==r.i&&i.prev.i!==r.i&&!Du(i,r)&&(dr(i,r)&&dr(r,i)&&Uu(i,r)&&(et(i.prev,i,r.prev)||et(i,r.prev,r))||li(i,r)&&et(i.prev,i,i.next)>0&&et(r.prev,r,r.next)>0)}function et(i,r,t){return(r.y-i.y)*(t.x-r.x)-(r.x-i.x)*(t.y-r.y)}function li(i,r){return i.x===r.x&&i.y===r.y}function ns(i,r,t,e){var n=Rr(et(i,r,t)),a=Rr(et(i,r,e)),o=Rr(et(t,e,i)),s=Rr(et(t,e,r));return!!(n!==a&&o!==s||n===0&&Cr(i,t,r)||a===0&&Cr(i,e,r)||o===0&&Cr(t,i,e)||s===0&&Cr(t,r,e))}function Cr(i,r,t){return r.x<=Math.max(i.x,t.x)&&r.x>=Math.min(i.x,t.x)&&r.y<=Math.max(i.y,t.y)&&r.y>=Math.min(i.y,t.y)}function Rr(i){return i>0?1:i<0?-1:0}function Du(i,r){var t=i;do{if(t.i!==i.i&&t.next.i!==i.i&&t.i!==r.i&&t.next.i!==r.i&&ns(t,t.next,i,r))return!0;t=t.next}while(t!==i);return!1}function dr(i,r){return et(i.prev,i,i.next)<0?et(i,r,i.next)>=0&&et(i,i.prev,r)>=0:et(i,r,i.prev)<0||et(i,i.next,r)<0}function Uu(i,r){var t=i,e=!1,n=(i.x+r.x)/2,a=(i.y+r.y)/2;do t.y>a!=t.next.y>a&&t.next.y!==t.y&&n<(t.next.x-t.x)*(a-t.y)/(t.next.y-t.y)+t.x&&(e=!e),t=t.next;while(t!==i);return e}function as(i,r){var t=new Ki(i.i,i.x,i.y),e=new Ki(r.i,r.x,r.y),n=i.next,a=r.prev;return i.next=r,r.prev=i,t.next=n,n.prev=t,e.next=t,t.prev=e,a.next=e,e.prev=a,e}function Ba(i,r,t,e){var n=new Ki(i,r,t);return e?(n.next=e.next,n.prev=e,e.next.prev=n,e.next=n):(n.prev=n,n.next=n),n}function pr(i){i.next.prev=i.prev,i.prev.next=i.next,i.prevZ&&(i.prevZ.nextZ=i.nextZ),i.nextZ&&(i.nextZ.prevZ=i.prevZ)}function Ki(i,r,t){this.i=i,this.x=r,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}ui.deviation=function(i,r,t,e){var n=r&&r.length,a=n?r[0]*t:i.length,o=Math.abs(Ji(i,0,a,t));if(n)for(var s=0,h=r.length;s<h;s++){var u=r[s]*t,c=s<h-1?r[s+1]*t:i.length;o-=Math.abs(Ji(i,u,c,t))}var f=0;for(s=0;s<e.length;s+=3){var l=e[s]*t,d=e[s+1]*t,p=e[s+2]*t;f+=Math.abs((i[l]-i[p])*(i[d+1]-i[l+1])-(i[l]-i[d])*(i[p+1]-i[l+1]))}return o===0&&f===0?0:Math.abs((f-o)/o)};function Ji(i,r,t,e){for(var n=0,a=r,o=t-e;a<t;a+=e)n+=(i[o]-i[a])*(i[a+1]+i[o+1]),o=a;return n}ui.flatten=function(i){for(var r=i[0][0].length,t={vertices:[],holes:[],dimensions:r},e=0,n=0;n<i.length;n++){for(var a=0;a<i[n].length;a++)for(var o=0;o<r;o++)t.vertices.push(i[n][a][o]);n>0&&(e+=i[n-1].length,t.holes.push(e))}return t};var $n=Yn.exports,Ie={},Qi={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */(function(i,r){(function(t){var e=r&&!r.nodeType&&r,n=i&&!i.nodeType&&i,a=typeof Me=="object"&&Me;(a.global===a||a.window===a||a.self===a)&&(t=a);var o,s=2147483647,h=36,u=1,c=26,f=38,l=700,d=72,p=128,v="-",y=/^xn--/,g=/[^\x20-\x7E]/,x=/[\x2E\u3002\uFF0E\uFF61]/g,m={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},T=h-u,b=Math.floor,w=String.fromCharCode,N;function E(L){throw new RangeError(m[L])}function _(L,B){for(var H=L.length,$=[];H--;)$[H]=B(L[H]);return $}function P(L,B){var H=L.split("@"),$="";H.length>1&&($=H[0]+"@",L=H[1]),L=L.replace(x,".");var Z=L.split("."),rt=_(Z,B).join(".");return $+rt}function S(L){for(var B=[],H=0,$=L.length,Z,rt;H<$;)Z=L.charCodeAt(H++),Z>=55296&&Z<=56319&&H<$?(rt=L.charCodeAt(H++),(rt&64512)==56320?B.push(((Z&1023)<<10)+(rt&1023)+65536):(B.push(Z),H--)):B.push(Z);return B}function R(L){return _(L,function(B){var H="";return B>65535&&(B-=65536,H+=w(B>>>10&1023|55296),B=56320|B&1023),H+=w(B),H}).join("")}function F(L){return L-48<10?L-22:L-65<26?L-65:L-97<26?L-97:h}function z(L,B){return L+22+75*(L<26)-((B!=0)<<5)}function M(L,B,H){var $=0;for(L=H?b(L/l):L>>1,L+=b(L/B);L>T*c>>1;$+=h)L=b(L/T);return b($+(T+1)*L/(L+f))}function C(L){var B=[],H=L.length,$,Z=0,rt=p,K=d,tt,ot,j,it,Y,X,nt,yt,_t;for(tt=L.lastIndexOf(v),tt<0&&(tt=0),ot=0;ot<tt;++ot)L.charCodeAt(ot)>=128&&E("not-basic"),B.push(L.charCodeAt(ot));for(j=tt>0?tt+1:0;j<H;){for(it=Z,Y=1,X=h;j>=H&&E("invalid-input"),nt=F(L.charCodeAt(j++)),(nt>=h||nt>b((s-Z)/Y))&&E("overflow"),Z+=nt*Y,yt=X<=K?u:X>=K+c?c:X-K,!(nt<yt);X+=h)_t=h-yt,Y>b(s/_t)&&E("overflow"),Y*=_t;$=B.length+1,K=M(Z-it,$,it==0),b(Z/$)>s-rt&&E("overflow"),rt+=b(Z/$),Z%=$,B.splice(Z++,0,rt)}return R(B)}function O(L){var B,H,$,Z,rt,K,tt,ot,j,it,Y,X=[],nt,yt,_t,qt;for(L=S(L),nt=L.length,B=p,H=0,rt=d,K=0;K<nt;++K)Y=L[K],Y<128&&X.push(w(Y));for($=Z=X.length,Z&&X.push(v);$<nt;){for(tt=s,K=0;K<nt;++K)Y=L[K],Y>=B&&Y<tt&&(tt=Y);for(yt=$+1,tt-B>b((s-H)/yt)&&E("overflow"),H+=(tt-B)*yt,B=tt,K=0;K<nt;++K)if(Y=L[K],Y<B&&++H>s&&E("overflow"),Y==B){for(ot=H,j=h;it=j<=rt?u:j>=rt+c?c:j-rt,!(ot<it);j+=h)qt=ot-it,_t=h-it,X.push(w(z(it+qt%_t,0))),ot=b(qt/_t);X.push(w(z(ot,0))),rt=M(H,yt,$==Z),H=0,++$}++H,++B}return X.join("")}function Ft(L){return P(L,function(B){return y.test(B)?C(B.slice(4).toLowerCase()):B})}function Mt(L){return P(L,function(B){return g.test(B)?"xn--"+O(B):B})}if(o={version:"1.4.1",ucs2:{decode:S,encode:R},decode:C,encode:O,toASCII:Mt,toUnicode:Ft},e&&n)if(i.exports==e)n.exports=o;else for(N in o)o.hasOwnProperty(N)&&(e[N]=o[N]);else t.punycode=o})(Me)})(Qi,Qi.exports);var Bu=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var r={},t=Symbol("test"),e=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(e)!=="[object Symbol]")return!1;var n=42;r[t]=n;for(t in r)return!1;if(typeof Object.keys=="function"&&Object.keys(r).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(r).length!==0)return!1;var a=Object.getOwnPropertySymbols(r);if(a.length!==1||a[0]!==t||!Object.prototype.propertyIsEnumerable.call(r,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(r,t);if(o.value!==n||o.enumerable!==!0)return!1}return!0},ka=typeof Symbol!="undefined"&&Symbol,ku=Bu,Xu=function(){return typeof ka!="function"||typeof Symbol!="function"||typeof ka("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:ku()},Xa={foo:{}},Gu=Object,Hu=function(){return{__proto__:Xa}.foo===Xa.foo&&!({__proto__:null}instanceof Gu)},ju="Function.prototype.bind called on incompatible ",bi=Array.prototype.slice,Vu=Object.prototype.toString,zu="[object Function]",Wu=function(r){var t=this;if(typeof t!="function"||Vu.call(t)!==zu)throw new TypeError(ju+t);for(var e=bi.call(arguments,1),n,a=function(){if(this instanceof n){var c=t.apply(this,e.concat(bi.call(arguments)));return Object(c)===c?c:this}else return t.apply(r,e.concat(bi.call(arguments)))},o=Math.max(0,t.length-e.length),s=[],h=0;h<o;h++)s.push("$"+h);if(n=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(a),t.prototype){var u=function(){};u.prototype=t.prototype,n.prototype=new u,u.prototype=null}return n},Yu=Wu,qn=Function.prototype.bind||Yu,$u=qn,qu=$u.call(Function.call,Object.prototype.hasOwnProperty),W,Ue=SyntaxError,os=Function,Le=TypeError,Ti=function(i){try{return os('"use strict"; return ('+i+").constructor;")()}catch{}},ye=Object.getOwnPropertyDescriptor;if(ye)try{ye({},"")}catch{ye=null}var wi=function(){throw new Le},Zu=ye?function(){try{return arguments.callee,wi}catch{try{return ye(arguments,"callee").get}catch{return wi}}}():wi,Se=Xu(),Ku=Hu(),ft=Object.getPrototypeOf||(Ku?function(i){return i.__proto__}:null),Re={},Ju=typeof Uint8Array=="undefined"||!ft?W:ft(Uint8Array),me={"%AggregateError%":typeof AggregateError=="undefined"?W:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?W:ArrayBuffer,"%ArrayIteratorPrototype%":Se&&ft?ft([][Symbol.iterator]()):W,"%AsyncFromSyncIteratorPrototype%":W,"%AsyncFunction%":Re,"%AsyncGenerator%":Re,"%AsyncGeneratorFunction%":Re,"%AsyncIteratorPrototype%":Re,"%Atomics%":typeof Atomics=="undefined"?W:Atomics,"%BigInt%":typeof BigInt=="undefined"?W:BigInt,"%BigInt64Array%":typeof BigInt64Array=="undefined"?W:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array=="undefined"?W:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?W:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?W:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?W:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?W:FinalizationRegistry,"%Function%":os,"%GeneratorFunction%":Re,"%Int8Array%":typeof Int8Array=="undefined"?W:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?W:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?W:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Se&&ft?ft(ft([][Symbol.iterator]())):W,"%JSON%":typeof JSON=="object"?JSON:W,"%Map%":typeof Map=="undefined"?W:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!Se||!ft?W:ft(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?W:Promise,"%Proxy%":typeof Proxy=="undefined"?W:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?W:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?W:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!Se||!ft?W:ft(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?W:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Se&&ft?ft(""[Symbol.iterator]()):W,"%Symbol%":Se?Symbol:W,"%SyntaxError%":Ue,"%ThrowTypeError%":Zu,"%TypedArray%":Ju,"%TypeError%":Le,"%Uint8Array%":typeof Uint8Array=="undefined"?W:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?W:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?W:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?W:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?W:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?W:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?W:WeakSet};if(ft)try{null.error}catch(i){var Qu=ft(ft(i));me["%Error.prototype%"]=Qu}var tl=function i(r){var t;if(r==="%AsyncFunction%")t=Ti("async function () {}");else if(r==="%GeneratorFunction%")t=Ti("function* () {}");else if(r==="%AsyncGeneratorFunction%")t=Ti("async function* () {}");else if(r==="%AsyncGenerator%"){var e=i("%AsyncGeneratorFunction%");e&&(t=e.prototype)}else if(r==="%AsyncIteratorPrototype%"){var n=i("%AsyncGenerator%");n&&ft&&(t=ft(n.prototype))}return me[r]=t,t},Ga={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},br=qn,Qr=qu,el=br.call(Function.call,Array.prototype.concat),rl=br.call(Function.apply,Array.prototype.splice),Ha=br.call(Function.call,String.prototype.replace),ti=br.call(Function.call,String.prototype.slice),il=br.call(Function.call,RegExp.prototype.exec),nl=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,al=/\\(\\)?/g,ol=function(r){var t=ti(r,0,1),e=ti(r,-1);if(t==="%"&&e!=="%")throw new Ue("invalid intrinsic syntax, expected closing `%`");if(e==="%"&&t!=="%")throw new Ue("invalid intrinsic syntax, expected opening `%`");var n=[];return Ha(r,nl,function(a,o,s,h){n[n.length]=s?Ha(h,al,"$1"):o||a}),n},sl=function(r,t){var e=r,n;if(Qr(Ga,e)&&(n=Ga[e],e="%"+n[0]+"%"),Qr(me,e)){var a=me[e];if(a===Re&&(a=tl(e)),typeof a=="undefined"&&!t)throw new Le("intrinsic "+r+" exists, but is not available. Please file an issue!");return{alias:n,name:e,value:a}}throw new Ue("intrinsic "+r+" does not exist!")},Zn=function(r,t){if(typeof r!="string"||r.length===0)throw new Le("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new Le('"allowMissing" argument must be a boolean');if(il(/^%?[^%]*%?$/,r)===null)throw new Ue("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var e=ol(r),n=e.length>0?e[0]:"",a=sl("%"+n+"%",t),o=a.name,s=a.value,h=!1,u=a.alias;u&&(n=u[0],rl(e,el([0,1],u)));for(var c=1,f=!0;c<e.length;c+=1){var l=e[c],d=ti(l,0,1),p=ti(l,-1);if((d==='"'||d==="'"||d==="`"||p==='"'||p==="'"||p==="`")&&d!==p)throw new Ue("property names with quotes must have matching quotes");if((l==="constructor"||!f)&&(h=!0),n+="."+l,o="%"+n+"%",Qr(me,o))s=me[o];else if(s!=null){if(!(l in s)){if(!t)throw new Le("base intrinsic for "+r+" exists, but the property is not available.");return}if(ye&&c+1>=e.length){var v=ye(s,l);f=!!v,f&&"get"in v&&!("originalValue"in v.get)?s=v.get:s=s[l]}else f=Qr(s,l),s=s[l];f&&!h&&(me[o]=s)}}return s},ss={exports:{}};(function(i){var r=qn,t=Zn,e=t("%Function.prototype.apply%"),n=t("%Function.prototype.call%"),a=t("%Reflect.apply%",!0)||r.call(n,e),o=t("%Object.getOwnPropertyDescriptor%",!0),s=t("%Object.defineProperty%",!0),h=t("%Math.max%");if(s)try{s({},"a",{value:1})}catch{s=null}i.exports=function(f){var l=a(r,n,arguments);if(o&&s){var d=o(l,"length");d.configurable&&s(l,"length",{value:1+h(0,f.length-(arguments.length-1))})}return l};var u=function(){return a(r,e,arguments)};s?s(i.exports,"apply",{value:u}):i.exports.apply=u})(ss);var hs=Zn,us=ss.exports,hl=us(hs("String.prototype.indexOf")),ul=function(r,t){var e=hs(r,!!t);return typeof e=="function"&&hl(r,".prototype.")>-1?us(e):e},ll={},fl=Object.freeze(Object.defineProperty({__proto__:null,default:ll},Symbol.toStringTag,{value:"Module"})),cl=fu(fl),Kn=typeof Map=="function"&&Map.prototype,Pi=Object.getOwnPropertyDescriptor&&Kn?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,ei=Kn&&Pi&&typeof Pi.get=="function"?Pi.get:null,ja=Kn&&Map.prototype.forEach,Jn=typeof Set=="function"&&Set.prototype,Ii=Object.getOwnPropertyDescriptor&&Jn?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,ri=Jn&&Ii&&typeof Ii.get=="function"?Ii.get:null,Va=Jn&&Set.prototype.forEach,dl=typeof WeakMap=="function"&&WeakMap.prototype,sr=dl?WeakMap.prototype.has:null,pl=typeof WeakSet=="function"&&WeakSet.prototype,hr=pl?WeakSet.prototype.has:null,vl=typeof WeakRef=="function"&&WeakRef.prototype,za=vl?WeakRef.prototype.deref:null,yl=Boolean.prototype.valueOf,ml=Object.prototype.toString,gl=Function.prototype.toString,_l=String.prototype.match,Qn=String.prototype.slice,Jt=String.prototype.replace,xl=String.prototype.toUpperCase,Wa=String.prototype.toLowerCase,ls=RegExp.prototype.test,Ya=Array.prototype.concat,Nt=Array.prototype.join,bl=Array.prototype.slice,$a=Math.floor,tn=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Ei=Object.getOwnPropertySymbols,en=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Be=typeof Symbol=="function"&&typeof Symbol.iterator=="object",gt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Be?"object":"symbol")?Symbol.toStringTag:null,fs=Object.prototype.propertyIsEnumerable,qa=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(i){return i.__proto__}:null);function Za(i,r){if(i===1/0||i===-1/0||i!==i||i&&i>-1e3&&i<1e3||ls.call(/e/,r))return r;var t=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof i=="number"){var e=i<0?-$a(-i):$a(i);if(e!==i){var n=String(e),a=Qn.call(r,n.length+1);return Jt.call(n,t,"$&_")+"."+Jt.call(Jt.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Jt.call(r,t,"$&_")}var rn=cl,Ka=rn.custom,Ja=ds(Ka)?Ka:null,Tl=function i(r,t,e,n){var a=t||{};if(Zt(a,"quoteStyle")&&a.quoteStyle!=="single"&&a.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Zt(a,"maxStringLength")&&(typeof a.maxStringLength=="number"?a.maxStringLength<0&&a.maxStringLength!==1/0:a.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Zt(a,"customInspect")?a.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Zt(a,"indent")&&a.indent!==null&&a.indent!=="	"&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Zt(a,"numericSeparator")&&typeof a.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var s=a.numericSeparator;if(typeof r=="undefined")return"undefined";if(r===null)return"null";if(typeof r=="boolean")return r?"true":"false";if(typeof r=="string")return vs(r,a);if(typeof r=="number"){if(r===0)return 1/0/r>0?"0":"-0";var h=String(r);return s?Za(r,h):h}if(typeof r=="bigint"){var u=String(r)+"n";return s?Za(r,u):u}var c=typeof a.depth=="undefined"?5:a.depth;if(typeof e=="undefined"&&(e=0),e>=c&&c>0&&typeof r=="object")return nn(r)?"[Array]":"[Object]";var f=Xl(a,e);if(typeof n=="undefined")n=[];else if(ps(n,r)>=0)return"[Circular]";function l(F,z,M){if(z&&(n=bl.call(n),n.push(z)),M){var C={depth:a.depth};return Zt(a,"quoteStyle")&&(C.quoteStyle=a.quoteStyle),i(F,C,e+1,n)}return i(F,a,e+1,n)}if(typeof r=="function"&&!Qa(r)){var d=Rl(r),p=Fr(r,l);return"[Function"+(d?": "+d:" (anonymous)")+"]"+(p.length>0?" { "+Nt.call(p,", ")+" }":"")}if(ds(r)){var v=Be?Jt.call(String(r),/^(Symbol\(.*\))_[^)]*$/,"$1"):en.call(r);return typeof r=="object"&&!Be?Qe(v):v}if(Ul(r)){for(var y="<"+Wa.call(String(r.nodeName)),g=r.attributes||[],x=0;x<g.length;x++)y+=" "+g[x].name+"="+cs(wl(g[x].value),"double",a);return y+=">",r.childNodes&&r.childNodes.length&&(y+="..."),y+="</"+Wa.call(String(r.nodeName))+">",y}if(nn(r)){if(r.length===0)return"[]";var m=Fr(r,l);return f&&!kl(m)?"["+an(m,f)+"]":"[ "+Nt.call(m,", ")+" ]"}if(Il(r)){var T=Fr(r,l);return!("cause"in Error.prototype)&&"cause"in r&&!fs.call(r,"cause")?"{ ["+String(r)+"] "+Nt.call(Ya.call("[cause]: "+l(r.cause),T),", ")+" }":T.length===0?"["+String(r)+"]":"{ ["+String(r)+"] "+Nt.call(T,", ")+" }"}if(typeof r=="object"&&o){if(Ja&&typeof r[Ja]=="function"&&rn)return rn(r,{depth:c-e});if(o!=="symbol"&&typeof r.inspect=="function")return r.inspect()}if(Fl(r)){var b=[];return ja&&ja.call(r,function(F,z){b.push(l(z,r,!0)+" => "+l(F,r))}),to("Map",ei.call(r),b,f)}if(Nl(r)){var w=[];return Va&&Va.call(r,function(F){w.push(l(F,r))}),to("Set",ri.call(r),w,f)}if(Ml(r))return Si("WeakMap");if(Dl(r))return Si("WeakSet");if(Ll(r))return Si("WeakRef");if(Sl(r))return Qe(l(Number(r)));if(Ol(r))return Qe(l(tn.call(r)));if(Al(r))return Qe(yl.call(r));if(El(r))return Qe(l(String(r)));if(!Pl(r)&&!Qa(r)){var N=Fr(r,l),E=qa?qa(r)===Object.prototype:r instanceof Object||r.constructor===Object,_=r instanceof Object?"":"null prototype",P=!E&&gt&&Object(r)===r&&gt in r?Qn.call(ie(r),8,-1):_?"Object":"",S=E||typeof r.constructor!="function"?"":r.constructor.name?r.constructor.name+" ":"",R=S+(P||_?"["+Nt.call(Ya.call([],P||[],_||[]),": ")+"] ":"");return N.length===0?R+"{}":f?R+"{"+an(N,f)+"}":R+"{ "+Nt.call(N,", ")+" }"}return String(r)};function cs(i,r,t){var e=(t.quoteStyle||r)==="double"?'"':"'";return e+i+e}function wl(i){return Jt.call(String(i),/"/g,"&quot;")}function nn(i){return ie(i)==="[object Array]"&&(!gt||!(typeof i=="object"&&gt in i))}function Pl(i){return ie(i)==="[object Date]"&&(!gt||!(typeof i=="object"&&gt in i))}function Qa(i){return ie(i)==="[object RegExp]"&&(!gt||!(typeof i=="object"&&gt in i))}function Il(i){return ie(i)==="[object Error]"&&(!gt||!(typeof i=="object"&&gt in i))}function El(i){return ie(i)==="[object String]"&&(!gt||!(typeof i=="object"&&gt in i))}function Sl(i){return ie(i)==="[object Number]"&&(!gt||!(typeof i=="object"&&gt in i))}function Al(i){return ie(i)==="[object Boolean]"&&(!gt||!(typeof i=="object"&&gt in i))}function ds(i){if(Be)return i&&typeof i=="object"&&i instanceof Symbol;if(typeof i=="symbol")return!0;if(!i||typeof i!="object"||!en)return!1;try{return en.call(i),!0}catch{}return!1}function Ol(i){if(!i||typeof i!="object"||!tn)return!1;try{return tn.call(i),!0}catch{}return!1}var Cl=Object.prototype.hasOwnProperty||function(i){return i in this};function Zt(i,r){return Cl.call(i,r)}function ie(i){return ml.call(i)}function Rl(i){if(i.name)return i.name;var r=_l.call(gl.call(i),/^function\s*([\w$]+)/);return r?r[1]:null}function ps(i,r){if(i.indexOf)return i.indexOf(r);for(var t=0,e=i.length;t<e;t++)if(i[t]===r)return t;return-1}function Fl(i){if(!ei||!i||typeof i!="object")return!1;try{ei.call(i);try{ri.call(i)}catch{return!0}return i instanceof Map}catch{}return!1}function Ml(i){if(!sr||!i||typeof i!="object")return!1;try{sr.call(i,sr);try{hr.call(i,hr)}catch{return!0}return i instanceof WeakMap}catch{}return!1}function Ll(i){if(!za||!i||typeof i!="object")return!1;try{return za.call(i),!0}catch{}return!1}function Nl(i){if(!ri||!i||typeof i!="object")return!1;try{ri.call(i);try{ei.call(i)}catch{return!0}return i instanceof Set}catch{}return!1}function Dl(i){if(!hr||!i||typeof i!="object")return!1;try{hr.call(i,hr);try{sr.call(i,sr)}catch{return!0}return i instanceof WeakSet}catch{}return!1}function Ul(i){return!i||typeof i!="object"?!1:typeof HTMLElement!="undefined"&&i instanceof HTMLElement?!0:typeof i.nodeName=="string"&&typeof i.getAttribute=="function"}function vs(i,r){if(i.length>r.maxStringLength){var t=i.length-r.maxStringLength,e="... "+t+" more character"+(t>1?"s":"");return vs(Qn.call(i,0,r.maxStringLength),r)+e}var n=Jt.call(Jt.call(i,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Bl);return cs(n,"single",r)}function Bl(i){var r=i.charCodeAt(0),t={8:"b",9:"t",10:"n",12:"f",13:"r"}[r];return t?"\\"+t:"\\x"+(r<16?"0":"")+xl.call(r.toString(16))}function Qe(i){return"Object("+i+")"}function Si(i){return i+" { ? }"}function to(i,r,t,e){var n=e?an(t,e):Nt.call(t,", ");return i+" ("+r+") {"+n+"}"}function kl(i){for(var r=0;r<i.length;r++)if(ps(i[r],`
`)>=0)return!1;return!0}function Xl(i,r){var t;if(i.indent==="	")t="	";else if(typeof i.indent=="number"&&i.indent>0)t=Nt.call(Array(i.indent+1)," ");else return null;return{base:t,prev:Nt.call(Array(r+1),t)}}function an(i,r){if(i.length===0)return"";var t=`
`+r.prev+r.base;return t+Nt.call(i,","+t)+`
`+r.prev}function Fr(i,r){var t=nn(i),e=[];if(t){e.length=i.length;for(var n=0;n<i.length;n++)e[n]=Zt(i,n)?r(i[n],i):""}var a=typeof Ei=="function"?Ei(i):[],o;if(Be){o={};for(var s=0;s<a.length;s++)o["$"+a[s]]=a[s]}for(var h in i)!Zt(i,h)||t&&String(Number(h))===h&&h<i.length||Be&&o["$"+h]instanceof Symbol||(ls.call(/[^\w$]/,h)?e.push(r(h,i)+": "+r(i[h],i)):e.push(h+": "+r(i[h],i)));if(typeof Ei=="function")for(var u=0;u<a.length;u++)fs.call(i,a[u])&&e.push("["+r(a[u])+"]: "+r(i[a[u]],i));return e}var ta=Zn,qe=ul,Gl=Tl,Hl=ta("%TypeError%"),Mr=ta("%WeakMap%",!0),Lr=ta("%Map%",!0),jl=qe("WeakMap.prototype.get",!0),Vl=qe("WeakMap.prototype.set",!0),zl=qe("WeakMap.prototype.has",!0),Wl=qe("Map.prototype.get",!0),Yl=qe("Map.prototype.set",!0),$l=qe("Map.prototype.has",!0),ea=function(i,r){for(var t=i,e;(e=t.next)!==null;t=e)if(e.key===r)return t.next=e.next,e.next=i.next,i.next=e,e},ql=function(i,r){var t=ea(i,r);return t&&t.value},Zl=function(i,r,t){var e=ea(i,r);e?e.value=t:i.next={key:r,next:i.next,value:t}},Kl=function(i,r){return!!ea(i,r)},Jl=function(){var r,t,e,n={assert:function(a){if(!n.has(a))throw new Hl("Side channel does not contain "+Gl(a))},get:function(a){if(Mr&&a&&(typeof a=="object"||typeof a=="function")){if(r)return jl(r,a)}else if(Lr){if(t)return Wl(t,a)}else if(e)return ql(e,a)},has:function(a){if(Mr&&a&&(typeof a=="object"||typeof a=="function")){if(r)return zl(r,a)}else if(Lr){if(t)return $l(t,a)}else if(e)return Kl(e,a);return!1},set:function(a,o){Mr&&a&&(typeof a=="object"||typeof a=="function")?(r||(r=new Mr),Vl(r,a,o)):Lr?(t||(t=new Lr),Yl(t,a,o)):(e||(e={key:{},next:null}),Zl(e,a,o))}};return n},Ql=String.prototype.replace,tf=/%20/g,Ai={RFC1738:"RFC1738",RFC3986:"RFC3986"},ra={default:Ai.RFC3986,formatters:{RFC1738:function(i){return Ql.call(i,tf,"+")},RFC3986:function(i){return String(i)}},RFC1738:Ai.RFC1738,RFC3986:Ai.RFC3986},ef=ra,Oi=Object.prototype.hasOwnProperty,de=Array.isArray,Lt=function(){for(var i=[],r=0;r<256;++r)i.push("%"+((r<16?"0":"")+r.toString(16)).toUpperCase());return i}(),rf=function(r){for(;r.length>1;){var t=r.pop(),e=t.obj[t.prop];if(de(e)){for(var n=[],a=0;a<e.length;++a)typeof e[a]!="undefined"&&n.push(e[a]);t.obj[t.prop]=n}}},ys=function(r,t){for(var e=t&&t.plainObjects?Object.create(null):{},n=0;n<r.length;++n)typeof r[n]!="undefined"&&(e[n]=r[n]);return e},nf=function i(r,t,e){if(!t)return r;if(typeof t!="object"){if(de(r))r.push(t);else if(r&&typeof r=="object")(e&&(e.plainObjects||e.allowPrototypes)||!Oi.call(Object.prototype,t))&&(r[t]=!0);else return[r,t];return r}if(!r||typeof r!="object")return[r].concat(t);var n=r;return de(r)&&!de(t)&&(n=ys(r,e)),de(r)&&de(t)?(t.forEach(function(a,o){if(Oi.call(r,o)){var s=r[o];s&&typeof s=="object"&&a&&typeof a=="object"?r[o]=i(s,a,e):r.push(a)}else r[o]=a}),r):Object.keys(t).reduce(function(a,o){var s=t[o];return Oi.call(a,o)?a[o]=i(a[o],s,e):a[o]=s,a},n)},af=function(r,t){return Object.keys(t).reduce(function(e,n){return e[n]=t[n],e},r)},of=function(i,r,t){var e=i.replace(/\+/g," ");if(t==="iso-8859-1")return e.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(e)}catch{return e}},sf=function(r,t,e,n,a){if(r.length===0)return r;var o=r;if(typeof r=="symbol"?o=Symbol.prototype.toString.call(r):typeof r!="string"&&(o=String(r)),e==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(c){return"%26%23"+parseInt(c.slice(2),16)+"%3B"});for(var s="",h=0;h<o.length;++h){var u=o.charCodeAt(h);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||a===ef.RFC1738&&(u===40||u===41)){s+=o.charAt(h);continue}if(u<128){s=s+Lt[u];continue}if(u<2048){s=s+(Lt[192|u>>6]+Lt[128|u&63]);continue}if(u<55296||u>=57344){s=s+(Lt[224|u>>12]+Lt[128|u>>6&63]+Lt[128|u&63]);continue}h+=1,u=65536+((u&1023)<<10|o.charCodeAt(h)&1023),s+=Lt[240|u>>18]+Lt[128|u>>12&63]+Lt[128|u>>6&63]+Lt[128|u&63]}return s},hf=function(r){for(var t=[{obj:{o:r},prop:"o"}],e=[],n=0;n<t.length;++n)for(var a=t[n],o=a.obj[a.prop],s=Object.keys(o),h=0;h<s.length;++h){var u=s[h],c=o[u];typeof c=="object"&&c!==null&&e.indexOf(c)===-1&&(t.push({obj:o,prop:u}),e.push(c))}return rf(t),r},uf=function(r){return Object.prototype.toString.call(r)==="[object RegExp]"},lf=function(r){return!r||typeof r!="object"?!1:!!(r.constructor&&r.constructor.isBuffer&&r.constructor.isBuffer(r))},ff=function(r,t){return[].concat(r,t)},cf=function(r,t){if(de(r)){for(var e=[],n=0;n<r.length;n+=1)e.push(t(r[n]));return e}return t(r)},ms={arrayToObject:ys,assign:af,combine:ff,compact:hf,decode:of,encode:sf,isBuffer:lf,isRegExp:uf,maybeMap:cf,merge:nf},gs=Jl,$r=ms,ur=ra,df=Object.prototype.hasOwnProperty,eo={brackets:function(r){return r+"[]"},comma:"comma",indices:function(r,t){return r+"["+t+"]"},repeat:function(r){return r}},kt=Array.isArray,pf=Array.prototype.push,_s=function(i,r){pf.apply(i,kt(r)?r:[r])},vf=Date.prototype.toISOString,ro=ur.default,mt={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:$r.encode,encodeValuesOnly:!1,format:ro,formatter:ur.formatters[ro],indices:!1,serializeDate:function(r){return vf.call(r)},skipNulls:!1,strictNullHandling:!1},yf=function(r){return typeof r=="string"||typeof r=="number"||typeof r=="boolean"||typeof r=="symbol"||typeof r=="bigint"},Ci={},mf=function i(r,t,e,n,a,o,s,h,u,c,f,l,d,p,v,y){for(var g=r,x=y,m=0,T=!1;(x=x.get(Ci))!==void 0&&!T;){var b=x.get(r);if(m+=1,typeof b!="undefined"){if(b===m)throw new RangeError("Cyclic object value");T=!0}typeof x.get(Ci)=="undefined"&&(m=0)}if(typeof h=="function"?g=h(t,g):g instanceof Date?g=f(g):e==="comma"&&kt(g)&&(g=$r.maybeMap(g,function(C){return C instanceof Date?f(C):C})),g===null){if(a)return s&&!p?s(t,mt.encoder,v,"key",l):t;g=""}if(yf(g)||$r.isBuffer(g)){if(s){var w=p?t:s(t,mt.encoder,v,"key",l);return[d(w)+"="+d(s(g,mt.encoder,v,"value",l))]}return[d(t)+"="+d(String(g))]}var N=[];if(typeof g=="undefined")return N;var E;if(e==="comma"&&kt(g))p&&s&&(g=$r.maybeMap(g,s)),E=[{value:g.length>0?g.join(",")||null:void 0}];else if(kt(h))E=h;else{var _=Object.keys(g);E=u?_.sort(u):_}for(var P=n&&kt(g)&&g.length===1?t+"[]":t,S=0;S<E.length;++S){var R=E[S],F=typeof R=="object"&&typeof R.value!="undefined"?R.value:g[R];if(!(o&&F===null)){var z=kt(g)?typeof e=="function"?e(P,R):P:P+(c?"."+R:"["+R+"]");y.set(r,m);var M=gs();M.set(Ci,y),_s(N,i(F,z,e,n,a,o,e==="comma"&&p&&kt(g)?null:s,h,u,c,f,l,d,p,v,M))}}return N},gf=function(r){if(!r)return mt;if(r.encoder!==null&&typeof r.encoder!="undefined"&&typeof r.encoder!="function")throw new TypeError("Encoder has to be a function.");var t=r.charset||mt.charset;if(typeof r.charset!="undefined"&&r.charset!=="utf-8"&&r.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var e=ur.default;if(typeof r.format!="undefined"){if(!df.call(ur.formatters,r.format))throw new TypeError("Unknown format option provided.");e=r.format}var n=ur.formatters[e],a=mt.filter;return(typeof r.filter=="function"||kt(r.filter))&&(a=r.filter),{addQueryPrefix:typeof r.addQueryPrefix=="boolean"?r.addQueryPrefix:mt.addQueryPrefix,allowDots:typeof r.allowDots=="undefined"?mt.allowDots:!!r.allowDots,charset:t,charsetSentinel:typeof r.charsetSentinel=="boolean"?r.charsetSentinel:mt.charsetSentinel,delimiter:typeof r.delimiter=="undefined"?mt.delimiter:r.delimiter,encode:typeof r.encode=="boolean"?r.encode:mt.encode,encoder:typeof r.encoder=="function"?r.encoder:mt.encoder,encodeValuesOnly:typeof r.encodeValuesOnly=="boolean"?r.encodeValuesOnly:mt.encodeValuesOnly,filter:a,format:e,formatter:n,serializeDate:typeof r.serializeDate=="function"?r.serializeDate:mt.serializeDate,skipNulls:typeof r.skipNulls=="boolean"?r.skipNulls:mt.skipNulls,sort:typeof r.sort=="function"?r.sort:null,strictNullHandling:typeof r.strictNullHandling=="boolean"?r.strictNullHandling:mt.strictNullHandling}},_f=function(i,r){var t=i,e=gf(r),n,a;typeof e.filter=="function"?(a=e.filter,t=a("",t)):kt(e.filter)&&(a=e.filter,n=a);var o=[];if(typeof t!="object"||t===null)return"";var s;r&&r.arrayFormat in eo?s=r.arrayFormat:r&&"indices"in r?s=r.indices?"indices":"repeat":s="indices";var h=eo[s];if(r&&"commaRoundTrip"in r&&typeof r.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var u=h==="comma"&&r&&r.commaRoundTrip;n||(n=Object.keys(t)),e.sort&&n.sort(e.sort);for(var c=gs(),f=0;f<n.length;++f){var l=n[f];e.skipNulls&&t[l]===null||_s(o,mf(t[l],l,h,u,e.strictNullHandling,e.skipNulls,e.encode?e.encoder:null,e.filter,e.sort,e.allowDots,e.serializeDate,e.format,e.formatter,e.encodeValuesOnly,e.charset,c))}var d=o.join(e.delimiter),p=e.addQueryPrefix===!0?"?":"";return e.charsetSentinel&&(e.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),d.length>0?p+d:""},ke=ms,on=Object.prototype.hasOwnProperty,xf=Array.isArray,lt={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:ke.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},bf=function(i){return i.replace(/&#(\d+);/g,function(r,t){return String.fromCharCode(parseInt(t,10))})},xs=function(i,r){return i&&typeof i=="string"&&r.comma&&i.indexOf(",")>-1?i.split(","):i},Tf="utf8=%26%2310003%3B",wf="utf8=%E2%9C%93",Pf=function(r,t){var e={__proto__:null},n=t.ignoreQueryPrefix?r.replace(/^\?/,""):r,a=t.parameterLimit===1/0?void 0:t.parameterLimit,o=n.split(t.delimiter,a),s=-1,h,u=t.charset;if(t.charsetSentinel)for(h=0;h<o.length;++h)o[h].indexOf("utf8=")===0&&(o[h]===wf?u="utf-8":o[h]===Tf&&(u="iso-8859-1"),s=h,h=o.length);for(h=0;h<o.length;++h)if(h!==s){var c=o[h],f=c.indexOf("]="),l=f===-1?c.indexOf("="):f+1,d,p;l===-1?(d=t.decoder(c,lt.decoder,u,"key"),p=t.strictNullHandling?null:""):(d=t.decoder(c.slice(0,l),lt.decoder,u,"key"),p=ke.maybeMap(xs(c.slice(l+1),t),function(v){return t.decoder(v,lt.decoder,u,"value")})),p&&t.interpretNumericEntities&&u==="iso-8859-1"&&(p=bf(p)),c.indexOf("[]=")>-1&&(p=xf(p)?[p]:p),on.call(e,d)?e[d]=ke.combine(e[d],p):e[d]=p}return e},If=function(i,r,t,e){for(var n=e?r:xs(r,t),a=i.length-1;a>=0;--a){var o,s=i[a];if(s==="[]"&&t.parseArrays)o=[].concat(n);else{o=t.plainObjects?Object.create(null):{};var h=s.charAt(0)==="["&&s.charAt(s.length-1)==="]"?s.slice(1,-1):s,u=parseInt(h,10);!t.parseArrays&&h===""?o={0:n}:!isNaN(u)&&s!==h&&String(u)===h&&u>=0&&t.parseArrays&&u<=t.arrayLimit?(o=[],o[u]=n):h!=="__proto__"&&(o[h]=n)}n=o}return n},Ef=function(r,t,e,n){if(!!r){var a=e.allowDots?r.replace(/\.([^.[]+)/g,"[$1]"):r,o=/(\[[^[\]]*])/,s=/(\[[^[\]]*])/g,h=e.depth>0&&o.exec(a),u=h?a.slice(0,h.index):a,c=[];if(u){if(!e.plainObjects&&on.call(Object.prototype,u)&&!e.allowPrototypes)return;c.push(u)}for(var f=0;e.depth>0&&(h=s.exec(a))!==null&&f<e.depth;){if(f+=1,!e.plainObjects&&on.call(Object.prototype,h[1].slice(1,-1))&&!e.allowPrototypes)return;c.push(h[1])}return h&&c.push("["+a.slice(h.index)+"]"),If(c,t,e,n)}},Sf=function(r){if(!r)return lt;if(r.decoder!==null&&r.decoder!==void 0&&typeof r.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof r.charset!="undefined"&&r.charset!=="utf-8"&&r.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=typeof r.charset=="undefined"?lt.charset:r.charset;return{allowDots:typeof r.allowDots=="undefined"?lt.allowDots:!!r.allowDots,allowPrototypes:typeof r.allowPrototypes=="boolean"?r.allowPrototypes:lt.allowPrototypes,allowSparse:typeof r.allowSparse=="boolean"?r.allowSparse:lt.allowSparse,arrayLimit:typeof r.arrayLimit=="number"?r.arrayLimit:lt.arrayLimit,charset:t,charsetSentinel:typeof r.charsetSentinel=="boolean"?r.charsetSentinel:lt.charsetSentinel,comma:typeof r.comma=="boolean"?r.comma:lt.comma,decoder:typeof r.decoder=="function"?r.decoder:lt.decoder,delimiter:typeof r.delimiter=="string"||ke.isRegExp(r.delimiter)?r.delimiter:lt.delimiter,depth:typeof r.depth=="number"||r.depth===!1?+r.depth:lt.depth,ignoreQueryPrefix:r.ignoreQueryPrefix===!0,interpretNumericEntities:typeof r.interpretNumericEntities=="boolean"?r.interpretNumericEntities:lt.interpretNumericEntities,parameterLimit:typeof r.parameterLimit=="number"?r.parameterLimit:lt.parameterLimit,parseArrays:r.parseArrays!==!1,plainObjects:typeof r.plainObjects=="boolean"?r.plainObjects:lt.plainObjects,strictNullHandling:typeof r.strictNullHandling=="boolean"?r.strictNullHandling:lt.strictNullHandling}},Af=function(i,r){var t=Sf(r);if(i===""||i===null||typeof i=="undefined")return t.plainObjects?Object.create(null):{};for(var e=typeof i=="string"?Pf(i,t):i,n=t.plainObjects?Object.create(null):{},a=Object.keys(e),o=0;o<a.length;++o){var s=a[o],h=Ef(s,e[s],t,typeof i=="string");n=ke.merge(n,h,t)}return t.allowSparse===!0?n:ke.compact(n)},Of=_f,Cf=Af,Rf=ra,Ff={formats:Rf,parse:Cf,stringify:Of},Mf=Qi.exports;function Et(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var Lf=/^([a-z0-9.+-]+:)/i,Nf=/:[0-9]*$/,Df=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,Uf=["<",">",'"',"`"," ","\r",`
`,"	"],Bf=["{","}","|","\\","^","`"].concat(Uf),sn=["'"].concat(Bf),io=["%","/","?",";","#"].concat(sn),no=["/","?","#"],kf=255,ao=/^[+a-z0-9A-Z_-]{0,63}$/,Xf=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Gf={javascript:!0,"javascript:":!0},hn={javascript:!0,"javascript:":!0},Ne={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},un=Ff;function Tr(i,r,t){if(i&&typeof i=="object"&&i instanceof Et)return i;var e=new Et;return e.parse(i,r,t),e}Et.prototype.parse=function(i,r,t){if(typeof i!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof i);var e=i.indexOf("?"),n=e!==-1&&e<i.indexOf("#")?"?":"#",a=i.split(n),o=/\\/g;a[0]=a[0].replace(o,"/"),i=a.join(n);var s=i;if(s=s.trim(),!t&&i.split("#").length===1){var h=Df.exec(s);if(h)return this.path=s,this.href=s,this.pathname=h[1],h[2]?(this.search=h[2],r?this.query=un.parse(this.search.substr(1)):this.query=this.search.substr(1)):r&&(this.search="",this.query={}),this}var u=Lf.exec(s);if(u){u=u[0];var c=u.toLowerCase();this.protocol=c,s=s.substr(u.length)}if(t||u||s.match(/^\/\/[^@/]+@[^@/]+/)){var f=s.substr(0,2)==="//";f&&!(u&&hn[u])&&(s=s.substr(2),this.slashes=!0)}if(!hn[u]&&(f||u&&!Ne[u])){for(var l=-1,d=0;d<no.length;d++){var p=s.indexOf(no[d]);p!==-1&&(l===-1||p<l)&&(l=p)}var v,y;l===-1?y=s.lastIndexOf("@"):y=s.lastIndexOf("@",l),y!==-1&&(v=s.slice(0,y),s=s.slice(y+1),this.auth=decodeURIComponent(v)),l=-1;for(var d=0;d<io.length;d++){var p=s.indexOf(io[d]);p!==-1&&(l===-1||p<l)&&(l=p)}l===-1&&(l=s.length),this.host=s.slice(0,l),s=s.slice(l),this.parseHost(),this.hostname=this.hostname||"";var g=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!g)for(var x=this.hostname.split(/\./),d=0,m=x.length;d<m;d++){var T=x[d];if(!!T&&!T.match(ao)){for(var b="",w=0,N=T.length;w<N;w++)T.charCodeAt(w)>127?b+="x":b+=T[w];if(!b.match(ao)){var E=x.slice(0,d),_=x.slice(d+1),P=T.match(Xf);P&&(E.push(P[1]),_.unshift(P[2])),_.length&&(s="/"+_.join(".")+s),this.hostname=E.join(".");break}}}this.hostname.length>kf?this.hostname="":this.hostname=this.hostname.toLowerCase(),g||(this.hostname=Mf.toASCII(this.hostname));var S=this.port?":"+this.port:"",R=this.hostname||"";this.host=R+S,this.href+=this.host,g&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),s[0]!=="/"&&(s="/"+s))}if(!Gf[c])for(var d=0,m=sn.length;d<m;d++){var F=sn[d];if(s.indexOf(F)!==-1){var z=encodeURIComponent(F);z===F&&(z=escape(F)),s=s.split(F).join(z)}}var M=s.indexOf("#");M!==-1&&(this.hash=s.substr(M),s=s.slice(0,M));var C=s.indexOf("?");if(C!==-1?(this.search=s.substr(C),this.query=s.substr(C+1),r&&(this.query=un.parse(this.query)),s=s.slice(0,C)):r&&(this.search="",this.query={}),s&&(this.pathname=s),Ne[c]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var S=this.pathname||"",O=this.search||"";this.path=S+O}return this.href=this.format(),this};function Hf(i){return typeof i=="string"&&(i=Tr(i)),i instanceof Et?i.format():Et.prototype.format.call(i)}Et.prototype.format=function(){var i=this.auth||"";i&&(i=encodeURIComponent(i),i=i.replace(/%3A/i,":"),i+="@");var r=this.protocol||"",t=this.pathname||"",e=this.hash||"",n=!1,a="";this.host?n=i+this.host:this.hostname&&(n=i+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(n+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(a=un.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||a&&"?"+a||"";return r&&r.substr(-1)!==":"&&(r+=":"),this.slashes||(!r||Ne[r])&&n!==!1?(n="//"+(n||""),t&&t.charAt(0)!=="/"&&(t="/"+t)):n||(n=""),e&&e.charAt(0)!=="#"&&(e="#"+e),o&&o.charAt(0)!=="?"&&(o="?"+o),t=t.replace(/[?#]/g,function(s){return encodeURIComponent(s)}),o=o.replace("#","%23"),r+n+t+o+e};function jf(i,r){return Tr(i,!1,!0).resolve(r)}Et.prototype.resolve=function(i){return this.resolveObject(Tr(i,!1,!0)).format()};function Vf(i,r){return i?Tr(i,!1,!0).resolveObject(r):r}Et.prototype.resolveObject=function(i){if(typeof i=="string"){var r=new Et;r.parse(i,!1,!0),i=r}for(var t=new Et,e=Object.keys(this),n=0;n<e.length;n++){var a=e[n];t[a]=this[a]}if(t.hash=i.hash,i.href==="")return t.href=t.format(),t;if(i.slashes&&!i.protocol){for(var o=Object.keys(i),s=0;s<o.length;s++){var h=o[s];h!=="protocol"&&(t[h]=i[h])}return Ne[t.protocol]&&t.hostname&&!t.pathname&&(t.pathname="/",t.path=t.pathname),t.href=t.format(),t}if(i.protocol&&i.protocol!==t.protocol){if(!Ne[i.protocol]){for(var u=Object.keys(i),c=0;c<u.length;c++){var f=u[c];t[f]=i[f]}return t.href=t.format(),t}if(t.protocol=i.protocol,!i.host&&!hn[i.protocol]){for(var m=(i.pathname||"").split("/");m.length&&!(i.host=m.shift()););i.host||(i.host=""),i.hostname||(i.hostname=""),m[0]!==""&&m.unshift(""),m.length<2&&m.unshift(""),t.pathname=m.join("/")}else t.pathname=i.pathname;if(t.search=i.search,t.query=i.query,t.host=i.host||"",t.auth=i.auth,t.hostname=i.hostname||i.host,t.port=i.port,t.pathname||t.search){var l=t.pathname||"",d=t.search||"";t.path=l+d}return t.slashes=t.slashes||i.slashes,t.href=t.format(),t}var p=t.pathname&&t.pathname.charAt(0)==="/",v=i.host||i.pathname&&i.pathname.charAt(0)==="/",y=v||p||t.host&&i.pathname,g=y,x=t.pathname&&t.pathname.split("/")||[],m=i.pathname&&i.pathname.split("/")||[],T=t.protocol&&!Ne[t.protocol];if(T&&(t.hostname="",t.port=null,t.host&&(x[0]===""?x[0]=t.host:x.unshift(t.host)),t.host="",i.protocol&&(i.hostname=null,i.port=null,i.host&&(m[0]===""?m[0]=i.host:m.unshift(i.host)),i.host=null),y=y&&(m[0]===""||x[0]==="")),v)t.host=i.host||i.host===""?i.host:t.host,t.hostname=i.hostname||i.hostname===""?i.hostname:t.hostname,t.search=i.search,t.query=i.query,x=m;else if(m.length)x||(x=[]),x.pop(),x=x.concat(m),t.search=i.search,t.query=i.query;else if(i.search!=null){if(T){t.host=x.shift(),t.hostname=t.host;var b=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1;b&&(t.auth=b.shift(),t.hostname=b.shift(),t.host=t.hostname)}return t.search=i.search,t.query=i.query,(t.pathname!==null||t.search!==null)&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.href=t.format(),t}if(!x.length)return t.pathname=null,t.search?t.path="/"+t.search:t.path=null,t.href=t.format(),t;for(var w=x.slice(-1)[0],N=(t.host||i.host||x.length>1)&&(w==="."||w==="..")||w==="",E=0,_=x.length;_>=0;_--)w=x[_],w==="."?x.splice(_,1):w===".."?(x.splice(_,1),E++):E&&(x.splice(_,1),E--);if(!y&&!g)for(;E--;E)x.unshift("..");y&&x[0]!==""&&(!x[0]||x[0].charAt(0)!=="/")&&x.unshift(""),N&&x.join("/").substr(-1)!=="/"&&x.push("");var P=x[0]===""||x[0]&&x[0].charAt(0)==="/";if(T){t.hostname=P?"":x.length?x.shift():"",t.host=t.hostname;var b=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1;b&&(t.auth=b.shift(),t.hostname=b.shift(),t.host=t.hostname)}return y=y||t.host&&x.length,y&&!P&&x.unshift(""),x.length>0?t.pathname=x.join("/"):(t.pathname=null,t.path=null),(t.pathname!==null||t.search!==null)&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.auth=i.auth||t.auth,t.slashes=t.slashes||i.slashes,t.href=t.format(),t};Et.prototype.parseHost=function(){var i=this.host,r=Nf.exec(i);r&&(r=r[0],r!==":"&&(this.port=r.substr(1)),i=i.substr(0,i.length-r.length)),i&&(this.hostname=i)};var zf=Ie.parse=Tr;Ie.resolve=jf;Ie.resolveObject=Vf;Ie.format=Hf;Ie.Url=Et;/*!
 * @pixi/constants - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Dt;(function(i){i[i.WEBGL_LEGACY=0]="WEBGL_LEGACY",i[i.WEBGL=1]="WEBGL",i[i.WEBGL2=2]="WEBGL2"})(Dt||(Dt={}));var Xe;(function(i){i[i.UNKNOWN=0]="UNKNOWN",i[i.WEBGL=1]="WEBGL",i[i.CANVAS=2]="CANVAS"})(Xe||(Xe={}));var vr;(function(i){i[i.COLOR=16384]="COLOR",i[i.DEPTH=256]="DEPTH",i[i.STENCIL=1024]="STENCIL"})(vr||(vr={}));var U;(function(i){i[i.NORMAL=0]="NORMAL",i[i.ADD=1]="ADD",i[i.MULTIPLY=2]="MULTIPLY",i[i.SCREEN=3]="SCREEN",i[i.OVERLAY=4]="OVERLAY",i[i.DARKEN=5]="DARKEN",i[i.LIGHTEN=6]="LIGHTEN",i[i.COLOR_DODGE=7]="COLOR_DODGE",i[i.COLOR_BURN=8]="COLOR_BURN",i[i.HARD_LIGHT=9]="HARD_LIGHT",i[i.SOFT_LIGHT=10]="SOFT_LIGHT",i[i.DIFFERENCE=11]="DIFFERENCE",i[i.EXCLUSION=12]="EXCLUSION",i[i.HUE=13]="HUE",i[i.SATURATION=14]="SATURATION",i[i.COLOR=15]="COLOR",i[i.LUMINOSITY=16]="LUMINOSITY",i[i.NORMAL_NPM=17]="NORMAL_NPM",i[i.ADD_NPM=18]="ADD_NPM",i[i.SCREEN_NPM=19]="SCREEN_NPM",i[i.NONE=20]="NONE",i[i.SRC_OVER=0]="SRC_OVER",i[i.SRC_IN=21]="SRC_IN",i[i.SRC_OUT=22]="SRC_OUT",i[i.SRC_ATOP=23]="SRC_ATOP",i[i.DST_OVER=24]="DST_OVER",i[i.DST_IN=25]="DST_IN",i[i.DST_OUT=26]="DST_OUT",i[i.DST_ATOP=27]="DST_ATOP",i[i.ERASE=26]="ERASE",i[i.SUBTRACT=28]="SUBTRACT",i[i.XOR=29]="XOR"})(U||(U={}));var It;(function(i){i[i.POINTS=0]="POINTS",i[i.LINES=1]="LINES",i[i.LINE_LOOP=2]="LINE_LOOP",i[i.LINE_STRIP=3]="LINE_STRIP",i[i.TRIANGLES=4]="TRIANGLES",i[i.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",i[i.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(It||(It={}));var Ge;(function(i){i[i.RGBA=6408]="RGBA",i[i.RGB=6407]="RGB",i[i.ALPHA=6406]="ALPHA",i[i.LUMINANCE=6409]="LUMINANCE",i[i.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",i[i.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",i[i.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(Ge||(Ge={}));var Qt;(function(i){i[i.TEXTURE_2D=3553]="TEXTURE_2D",i[i.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",i[i.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",i[i.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",i[i.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",i[i.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",i[i.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",i[i.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",i[i.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(Qt||(Qt={}));var st;(function(i){i[i.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",i[i.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",i[i.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",i[i.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",i[i.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",i[i.FLOAT=5126]="FLOAT",i[i.HALF_FLOAT=36193]="HALF_FLOAT"})(st||(st={}));var Ct;(function(i){i[i.NEAREST=0]="NEAREST",i[i.LINEAR=1]="LINEAR"})(Ct||(Ct={}));var jt;(function(i){i[i.CLAMP=33071]="CLAMP",i[i.REPEAT=10497]="REPEAT",i[i.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(jt||(jt={}));var He;(function(i){i[i.OFF=0]="OFF",i[i.POW2=1]="POW2",i[i.ON=2]="ON"})(He||(He={}));var zt;(function(i){i[i.NPM=0]="NPM",i[i.UNPACK=1]="UNPACK",i[i.PMA=2]="PMA",i[i.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",i[i.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",i[i.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"})(zt||(zt={}));var Ot;(function(i){i[i.NO=0]="NO",i[i.YES=1]="YES",i[i.AUTO=2]="AUTO",i[i.BLEND=0]="BLEND",i[i.CLEAR=1]="CLEAR",i[i.BLIT=2]="BLIT"})(Ot||(Ot={}));var ii;(function(i){i[i.AUTO=0]="AUTO",i[i.MANUAL=1]="MANUAL"})(ii||(ii={}));var Rt;(function(i){i.LOW="lowp",i.MEDIUM="mediump",i.HIGH="highp"})(Rt||(Rt={}));var xt;(function(i){i[i.NONE=0]="NONE",i[i.SCISSOR=1]="SCISSOR",i[i.STENCIL=2]="STENCIL",i[i.SPRITE=3]="SPRITE"})(xt||(xt={}));var xe;(function(i){i[i.NONE=0]="NONE",i[i.LOW=2]="LOW",i[i.MEDIUM=4]="MEDIUM",i[i.HIGH=8]="HIGH"})(xe||(xe={}));/*!
 * @pixi/utils - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */D.RETINA_PREFIX=/@([0-9\.]+)x/;D.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!0;var ln=!1,oo="5.3.12";function Wf(){ln=!0}function bs(i){var r;if(!ln){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var t=[`
 %c %c %c PixiJS `+oo+" - \u2730 "+i+` \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(r=window.console).log.apply(r,t)}else window.console&&window.console.log("PixiJS "+oo+" - "+i+" - http://www.pixijs.com/");ln=!0}}var Ri;function Ts(){return typeof Ri=="undefined"&&(Ri=function(){var r={stencil:!0,failIfMajorPerformanceCaveat:D.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!window.WebGLRenderingContext)return!1;var t=document.createElement("canvas"),e=t.getContext("webgl",r)||t.getContext("experimental-webgl",r),n=!!(e&&e.getContextAttributes().stencil);if(e){var a=e.getExtension("WEBGL_lose_context");a&&a.loseContext()}return e=null,n}catch{return!1}}()),Ri}function be(i,r){return r===void 0&&(r=[]),r[0]=(i>>16&255)/255,r[1]=(i>>8&255)/255,r[2]=(i&255)/255,r}function ia(i){var r=i.toString(16);return r="000000".substr(0,6-r.length)+r,"#"+r}function na(i){return typeof i=="string"&&i[0]==="#"&&(i=i.substr(1)),parseInt(i,16)}function Yf(i){return(i[0]*255<<16)+(i[1]*255<<8)+(i[2]*255|0)}function $f(){for(var i=[],r=[],t=0;t<32;t++)i[t]=t,r[t]=t;i[U.NORMAL_NPM]=U.NORMAL,i[U.ADD_NPM]=U.ADD,i[U.SCREEN_NPM]=U.SCREEN,r[U.NORMAL]=U.NORMAL_NPM,r[U.ADD]=U.ADD_NPM,r[U.SCREEN]=U.SCREEN_NPM;var e=[];return e.push(r),e.push(i),e}var aa=$f();function oa(i,r){return aa[r?1:0][i]}function ws(i,r,t,e){return t=t||new Float32Array(4),e||e===void 0?(t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r):(t[0]=i[0],t[1]=i[1],t[2]=i[2]),t[3]=r,t}function fi(i,r){if(r===1)return(r*255<<24)+i;if(r===0)return 0;var t=i>>16&255,e=i>>8&255,n=i&255;return t=t*r+.5|0,e=e*r+.5|0,n=n*r+.5|0,(r*255<<24)+(t<<16)+(e<<8)+n}function sa(i,r,t,e){return t=t||new Float32Array(4),t[0]=(i>>16&255)/255,t[1]=(i>>8&255)/255,t[2]=(i&255)/255,(e||e===void 0)&&(t[0]*=r,t[1]*=r,t[2]*=r),t[3]=r,t}function Ps(i,r){r===void 0&&(r=null);var t=i*6;if(r=r||new Uint16Array(t),r.length!==t)throw new Error("Out buffer length is incorrect, got "+r.length+" and expected "+t);for(var e=0,n=0;e<t;e+=6,n+=4)r[e+0]=n+0,r[e+1]=n+1,r[e+2]=n+2,r[e+3]=n+0,r[e+4]=n+2,r[e+5]=n+3;return r}function Is(i){if(i.BYTES_PER_ELEMENT===4)return i instanceof Float32Array?"Float32Array":i instanceof Uint32Array?"Uint32Array":"Int32Array";if(i.BYTES_PER_ELEMENT===2){if(i instanceof Uint16Array)return"Uint16Array"}else if(i.BYTES_PER_ELEMENT===1&&i instanceof Uint8Array)return"Uint8Array";return null}var qf={Float32Array,Uint32Array,Int32Array,Uint8Array};function Zf(i,r){for(var t=0,e=0,n={},a=0;a<i.length;a++)e+=r[a],t+=i[a].length;for(var o=new ArrayBuffer(t*4),s=null,h=0,a=0;a<i.length;a++){var u=r[a],c=i[a],f=Is(c);n[f]||(n[f]=new qf[f](o)),s=n[f];for(var l=0;l<c.length;l++){var d=(l/u|0)*e+h,p=l%u;s[d+p]=c[l]}h+=u}return new Float32Array(o)}function yr(i){return i+=i===0?1:0,--i,i|=i>>>1,i|=i>>>2,i|=i>>>4,i|=i>>>8,i|=i>>>16,i+1}function fn(i){return!(i&i-1)&&!!i}function cn(i){var r=(i>65535?1:0)<<4;i>>>=r;var t=(i>255?1:0)<<3;return i>>>=t,r|=t,t=(i>15?1:0)<<2,i>>>=t,r|=t,t=(i>3?1:0)<<1,i>>>=t,r|=t,r|i>>1}function ge(i,r,t){var e=i.length,n;if(!(r>=e||t===0)){t=r+t>e?e-r:t;var a=e-t;for(n=r;n<a;++n)i[n]=i[n+t];i.length=a}}function pe(i){return i===0?0:i<0?-1:1}var Kf=0;function Te(){return++Kf}var so={};function I(i,r,t){if(t===void 0&&(t=3),!so[r]){var e=new Error().stack;typeof e=="undefined"?console.warn("PixiJS Deprecation Warning: ",r+`
Deprecated since v`+i):(e=e.split(`
`).splice(t).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",r+`
Deprecated since v`+i),console.warn(e),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",r+`
Deprecated since v`+i),console.warn(e))),so[r]=!0}}var dn={},bt=Object.create(null),wt=Object.create(null);function Jf(){var i;for(i in bt)bt[i].destroy();for(i in wt)wt[i].destroy()}function Qf(){var i;for(i in bt)delete bt[i];for(i in wt)delete wt[i]}var pn=function(){function i(r,t,e){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=e||D.RESOLUTION,this.resize(r,t)}return i.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},i.prototype.resize=function(r,t){this.canvas.width=r*this.resolution,this.canvas.height=t*this.resolution},i.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(i.prototype,"width",{get:function(){return this.canvas.width},set:function(r){this.canvas.width=r},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this.canvas.height},set:function(r){this.canvas.height=r},enumerable:!1,configurable:!0}),i}();function Es(i){var r=i.width,t=i.height,e=i.getContext("2d"),n=e.getImageData(0,0,r,t),a=n.data,o=a.length,s={top:null,left:null,right:null,bottom:null},h=null,u,c,f;for(u=0;u<o;u+=4)a[u+3]!==0&&(c=u/4%r,f=~~(u/4/r),s.top===null&&(s.top=f),(s.left===null||c<s.left)&&(s.left=c),(s.right===null||s.right<c)&&(s.right=c+1),(s.bottom===null||s.bottom<f)&&(s.bottom=f));return s.top!==null&&(r=s.right-s.left,t=s.bottom-s.top+1,h=e.getImageData(s.left,s.top,r,t)),{height:t,width:r,data:h}}var Ss=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function tc(i){var r=Ss.exec(i);if(r)return{mediaType:r[1]?r[1].toLowerCase():void 0,subType:r[2]?r[2].toLowerCase():void 0,charset:r[3]?r[3].toLowerCase():void 0,encoding:r[4]?r[4].toLowerCase():void 0,data:r[5]}}var Nr;function As(i,r){if(r===void 0&&(r=window.location),i.indexOf("data:")===0)return"";r=r||window.location,Nr||(Nr=document.createElement("a")),Nr.href=i;var t=zf(Nr.href),e=!t.port&&r.port===""||t.port===r.port;return t.hostname!==r.hostname||!e||t.protocol!==r.protocol?"anonymous":""}function mr(i,r){var t=D.RETINA_PREFIX.exec(i);return t?parseFloat(t[1]):r!==void 0?r:1}var ec=Object.freeze(Object.defineProperty({__proto__:null,BaseTextureCache:wt,CanvasRenderTarget:pn,DATA_URI:Ss,ProgramCache:dn,TextureCache:bt,clearTextureCache:Qf,correctBlendMode:oa,createIndicesForQuads:Ps,decomposeDataUri:tc,deprecation:I,destroyTextureCache:Jf,determineCrossOrigin:As,getBufferType:Is,getResolutionOfUrl:mr,hex2rgb:be,hex2string:ia,interleaveTypedArrays:Zf,isPow2:fn,isWebGLSupported:Ts,log2:cn,nextPow2:yr,premultiplyBlendMode:aa,premultiplyRgba:ws,premultiplyTint:fi,premultiplyTintToRgba:sa,removeItems:ge,rgb2hex:Yf,sayHello:bs,sign:pe,skipHello:Wf,string2hex:na,trimCanvas:Es,uid:Te,isMobile:Pt,EventEmitter:$e,earcut:$n,url:Ie},Symbol.toStringTag,{value:"Module"}));/*!
 * @pixi/math - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var je=Math.PI*2,Os=180/Math.PI,Cs=Math.PI/180,at;(function(i){i[i.POLY=0]="POLY",i[i.RECT=1]="RECT",i[i.CIRC=2]="CIRC",i[i.ELIP=3]="ELIP",i[i.RREC=4]="RREC"})(at||(at={}));var q=function(){function i(r,t,e,n){r===void 0&&(r=0),t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0),this.x=Number(r),this.y=Number(t),this.width=Number(e),this.height=Number(n),this.type=at.RECT}return Object.defineProperty(i.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(i,"EMPTY",{get:function(){return new i(0,0,0,0)},enumerable:!1,configurable:!0}),i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height)},i.prototype.copyFrom=function(r){return this.x=r.x,this.y=r.y,this.width=r.width,this.height=r.height,this},i.prototype.copyTo=function(r){return r.x=this.x,r.y=this.y,r.width=this.width,r.height=this.height,r},i.prototype.contains=function(r,t){return this.width<=0||this.height<=0?!1:r>=this.x&&r<this.x+this.width&&t>=this.y&&t<this.y+this.height},i.prototype.pad=function(r,t){return r===void 0&&(r=0),t===void 0&&(t=r),this.x-=r,this.y-=t,this.width+=r*2,this.height+=t*2,this},i.prototype.fit=function(r){var t=Math.max(this.x,r.x),e=Math.min(this.x+this.width,r.x+r.width),n=Math.max(this.y,r.y),a=Math.min(this.y+this.height,r.y+r.height);return this.x=t,this.width=Math.max(e-t,0),this.y=n,this.height=Math.max(a-n,0),this},i.prototype.ceil=function(r,t){r===void 0&&(r=1),t===void 0&&(t=.001);var e=Math.ceil((this.x+this.width-t)*r)/r,n=Math.ceil((this.y+this.height-t)*r)/r;return this.x=Math.floor((this.x+t)*r)/r,this.y=Math.floor((this.y+t)*r)/r,this.width=e-this.x,this.height=n-this.y,this},i.prototype.enlarge=function(r){var t=Math.min(this.x,r.x),e=Math.max(this.x+this.width,r.x+r.width),n=Math.min(this.y,r.y),a=Math.max(this.y+this.height,r.y+r.height);return this.x=t,this.width=e-t,this.y=n,this.height=a-n,this},i}(),Rs=function(){function i(r,t,e){r===void 0&&(r=0),t===void 0&&(t=0),e===void 0&&(e=0),this.x=r,this.y=t,this.radius=e,this.type=at.CIRC}return i.prototype.clone=function(){return new i(this.x,this.y,this.radius)},i.prototype.contains=function(r,t){if(this.radius<=0)return!1;var e=this.radius*this.radius,n=this.x-r,a=this.y-t;return n*=n,a*=a,n+a<=e},i.prototype.getBounds=function(){return new q(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)},i}(),Fs=function(){function i(r,t,e,n){r===void 0&&(r=0),t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0),this.x=r,this.y=t,this.width=e,this.height=n,this.type=at.ELIP}return i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height)},i.prototype.contains=function(r,t){if(this.width<=0||this.height<=0)return!1;var e=(r-this.x)/this.width,n=(t-this.y)/this.height;return e*=e,n*=n,e+n<=1},i.prototype.getBounds=function(){return new q(this.x-this.width,this.y-this.height,this.width,this.height)},i}(),De=function(){function i(){for(var r=arguments,t=[],e=0;e<arguments.length;e++)t[e]=r[e];var n=Array.isArray(t[0])?t[0]:t;if(typeof n[0]!="number"){for(var a=[],o=0,s=n.length;o<s;o++)a.push(n[o].x,n[o].y);n=a}this.points=n,this.type=at.POLY,this.closeStroke=!0}return i.prototype.clone=function(){var r=this.points.slice(),t=new i(r);return t.closeStroke=this.closeStroke,t},i.prototype.contains=function(r,t){for(var e=!1,n=this.points.length/2,a=0,o=n-1;a<n;o=a++){var s=this.points[a*2],h=this.points[a*2+1],u=this.points[o*2],c=this.points[o*2+1],f=h>t!=c>t&&r<(u-s)*((t-h)/(c-h))+s;f&&(e=!e)}return e},i}(),Ms=function(){function i(r,t,e,n,a){r===void 0&&(r=0),t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0),a===void 0&&(a=20),this.x=r,this.y=t,this.width=e,this.height=n,this.radius=a,this.type=at.RREC}return i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.radius)},i.prototype.contains=function(r,t){if(this.width<=0||this.height<=0)return!1;if(r>=this.x&&r<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){if(t>=this.y+this.radius&&t<=this.y+this.height-this.radius||r>=this.x+this.radius&&r<=this.x+this.width-this.radius)return!0;var e=r-(this.x+this.radius),n=t-(this.y+this.radius),a=this.radius*this.radius;if(e*e+n*n<=a||(e=r-(this.x+this.width-this.radius),e*e+n*n<=a)||(n=t-(this.y+this.height-this.radius),e*e+n*n<=a)||(e=r-(this.x+this.radius),e*e+n*n<=a))return!0}return!1},i}(),pt=function(){function i(r,t){r===void 0&&(r=0),t===void 0&&(t=0),this.x=r,this.y=t}return i.prototype.clone=function(){return new i(this.x,this.y)},i.prototype.copyFrom=function(r){return this.set(r.x,r.y),this},i.prototype.copyTo=function(r){return r.set(this.x,this.y),r},i.prototype.equals=function(r){return r.x===this.x&&r.y===this.y},i.prototype.set=function(r,t){return r===void 0&&(r=0),t===void 0&&(t=r),this.x=r,this.y=t,this},i}(),ve=function(){function i(r,t,e,n){e===void 0&&(e=0),n===void 0&&(n=0),this._x=e,this._y=n,this.cb=r,this.scope=t}return i.prototype.clone=function(r,t){return r===void 0&&(r=this.cb),t===void 0&&(t=this.scope),new i(r,t,this._x,this._y)},i.prototype.set=function(r,t){return r===void 0&&(r=0),t===void 0&&(t=r),(this._x!==r||this._y!==t)&&(this._x=r,this._y=t,this.cb.call(this.scope)),this},i.prototype.copyFrom=function(r){return(this._x!==r.x||this._y!==r.y)&&(this._x=r.x,this._y=r.y,this.cb.call(this.scope)),this},i.prototype.copyTo=function(r){return r.set(this._x,this._y),r},i.prototype.equals=function(r){return r.x===this._x&&r.y===this._y},Object.defineProperty(i.prototype,"x",{get:function(){return this._x},set:function(r){this._x!==r&&(this._x=r,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"y",{get:function(){return this._y},set:function(r){this._y!==r&&(this._y=r,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),i}(),ht=function(){function i(r,t,e,n,a,o){r===void 0&&(r=1),t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=1),a===void 0&&(a=0),o===void 0&&(o=0),this.array=null,this.a=r,this.b=t,this.c=e,this.d=n,this.tx=a,this.ty=o}return i.prototype.fromArray=function(r){this.a=r[0],this.b=r[1],this.c=r[3],this.d=r[4],this.tx=r[2],this.ty=r[5]},i.prototype.set=function(r,t,e,n,a,o){return this.a=r,this.b=t,this.c=e,this.d=n,this.tx=a,this.ty=o,this},i.prototype.toArray=function(r,t){this.array||(this.array=new Float32Array(9));var e=t||this.array;return r?(e[0]=this.a,e[1]=this.b,e[2]=0,e[3]=this.c,e[4]=this.d,e[5]=0,e[6]=this.tx,e[7]=this.ty,e[8]=1):(e[0]=this.a,e[1]=this.c,e[2]=this.tx,e[3]=this.b,e[4]=this.d,e[5]=this.ty,e[6]=0,e[7]=0,e[8]=1),e},i.prototype.apply=function(r,t){t=t||new pt;var e=r.x,n=r.y;return t.x=this.a*e+this.c*n+this.tx,t.y=this.b*e+this.d*n+this.ty,t},i.prototype.applyInverse=function(r,t){t=t||new pt;var e=1/(this.a*this.d+this.c*-this.b),n=r.x,a=r.y;return t.x=this.d*e*n+-this.c*e*a+(this.ty*this.c-this.tx*this.d)*e,t.y=this.a*e*a+-this.b*e*n+(-this.ty*this.a+this.tx*this.b)*e,t},i.prototype.translate=function(r,t){return this.tx+=r,this.ty+=t,this},i.prototype.scale=function(r,t){return this.a*=r,this.d*=t,this.c*=r,this.b*=t,this.tx*=r,this.ty*=t,this},i.prototype.rotate=function(r){var t=Math.cos(r),e=Math.sin(r),n=this.a,a=this.c,o=this.tx;return this.a=n*t-this.b*e,this.b=n*e+this.b*t,this.c=a*t-this.d*e,this.d=a*e+this.d*t,this.tx=o*t-this.ty*e,this.ty=o*e+this.ty*t,this},i.prototype.append=function(r){var t=this.a,e=this.b,n=this.c,a=this.d;return this.a=r.a*t+r.b*n,this.b=r.a*e+r.b*a,this.c=r.c*t+r.d*n,this.d=r.c*e+r.d*a,this.tx=r.tx*t+r.ty*n+this.tx,this.ty=r.tx*e+r.ty*a+this.ty,this},i.prototype.setTransform=function(r,t,e,n,a,o,s,h,u){return this.a=Math.cos(s+u)*a,this.b=Math.sin(s+u)*a,this.c=-Math.sin(s-h)*o,this.d=Math.cos(s-h)*o,this.tx=r-(e*this.a+n*this.c),this.ty=t-(e*this.b+n*this.d),this},i.prototype.prepend=function(r){var t=this.tx;if(r.a!==1||r.b!==0||r.c!==0||r.d!==1){var e=this.a,n=this.c;this.a=e*r.a+this.b*r.c,this.b=e*r.b+this.b*r.d,this.c=n*r.a+this.d*r.c,this.d=n*r.b+this.d*r.d}return this.tx=t*r.a+this.ty*r.c+r.tx,this.ty=t*r.b+this.ty*r.d+r.ty,this},i.prototype.decompose=function(r){var t=this.a,e=this.b,n=this.c,a=this.d,o=-Math.atan2(-n,a),s=Math.atan2(e,t),h=Math.abs(o+s);return h<1e-5||Math.abs(je-h)<1e-5?(r.rotation=s,r.skew.x=r.skew.y=0):(r.rotation=0,r.skew.x=o,r.skew.y=s),r.scale.x=Math.sqrt(t*t+e*e),r.scale.y=Math.sqrt(n*n+a*a),r.position.x=this.tx,r.position.y=this.ty,r},i.prototype.invert=function(){var r=this.a,t=this.b,e=this.c,n=this.d,a=this.tx,o=r*n-t*e;return this.a=n/o,this.b=-t/o,this.c=-e/o,this.d=r/o,this.tx=(e*this.ty-n*a)/o,this.ty=-(r*this.ty-t*a)/o,this},i.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},i.prototype.clone=function(){var r=new i;return r.a=this.a,r.b=this.b,r.c=this.c,r.d=this.d,r.tx=this.tx,r.ty=this.ty,r},i.prototype.copyTo=function(r){return r.a=this.a,r.b=this.b,r.c=this.c,r.d=this.d,r.tx=this.tx,r.ty=this.ty,r},i.prototype.copyFrom=function(r){return this.a=r.a,this.b=r.b,this.c=r.c,this.d=r.d,this.tx=r.tx,this.ty=r.ty,this},Object.defineProperty(i,"IDENTITY",{get:function(){return new i},enumerable:!1,configurable:!0}),Object.defineProperty(i,"TEMP_MATRIX",{get:function(){return new i},enumerable:!1,configurable:!0}),i}(),ue=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],le=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],fe=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],ce=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],vn=[],Ls=[],Dr=Math.sign;function rc(){for(var i=0;i<16;i++){var r=[];vn.push(r);for(var t=0;t<16;t++)for(var e=Dr(ue[i]*ue[t]+fe[i]*le[t]),n=Dr(le[i]*ue[t]+ce[i]*le[t]),a=Dr(ue[i]*fe[t]+fe[i]*ce[t]),o=Dr(le[i]*fe[t]+ce[i]*ce[t]),s=0;s<16;s++)if(ue[s]===e&&le[s]===n&&fe[s]===a&&ce[s]===o){r.push(s);break}}for(var i=0;i<16;i++){var h=new ht;h.set(ue[i],le[i],fe[i],ce[i],0,0),Ls.push(h)}}rc();var Q={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(i){return ue[i]},uY:function(i){return le[i]},vX:function(i){return fe[i]},vY:function(i){return ce[i]},inv:function(i){return i&8?i&15:-i&7},add:function(i,r){return vn[i][r]},sub:function(i,r){return vn[i][Q.inv(r)]},rotate180:function(i){return i^4},isVertical:function(i){return(i&3)===2},byDirection:function(i,r){return Math.abs(i)*2<=Math.abs(r)?r>=0?Q.S:Q.N:Math.abs(r)*2<=Math.abs(i)?i>0?Q.E:Q.W:r>0?i>0?Q.SE:Q.SW:i>0?Q.NE:Q.NW},matrixAppendRotationInv:function(i,r,t,e){t===void 0&&(t=0),e===void 0&&(e=0);var n=Ls[Q.inv(r)];n.tx=t,n.ty=e,i.append(n)}},ha=function(){function i(){this.worldTransform=new ht,this.localTransform=new ht,this.position=new ve(this.onChange,this,0,0),this.scale=new ve(this.onChange,this,1,1),this.pivot=new ve(this.onChange,this,0,0),this.skew=new ve(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return i.prototype.onChange=function(){this._localID++},i.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},i.prototype.updateLocalTransform=function(){var r=this.localTransform;this._localID!==this._currentLocalID&&(r.a=this._cx*this.scale.x,r.b=this._sx*this.scale.x,r.c=this._cy*this.scale.y,r.d=this._sy*this.scale.y,r.tx=this.position.x-(this.pivot.x*r.a+this.pivot.y*r.c),r.ty=this.position.y-(this.pivot.x*r.b+this.pivot.y*r.d),this._currentLocalID=this._localID,this._parentID=-1)},i.prototype.updateTransform=function(r){var t=this.localTransform;if(this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==r._worldID){var e=r.worldTransform,n=this.worldTransform;n.a=t.a*e.a+t.b*e.c,n.b=t.a*e.b+t.b*e.d,n.c=t.c*e.a+t.d*e.c,n.d=t.c*e.b+t.d*e.d,n.tx=t.tx*e.a+t.ty*e.c+e.tx,n.ty=t.tx*e.b+t.ty*e.d+e.ty,this._parentID=r._worldID,this._worldID++}},i.prototype.setFromMatrix=function(r){r.decompose(this),this._localID++},Object.defineProperty(i.prototype,"rotation",{get:function(){return this._rotation},set:function(r){this._rotation!==r&&(this._rotation=r,this.updateSkew())},enumerable:!1,configurable:!0}),i.IDENTITY=new i,i}();/*!
 * @pixi/display - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */D.SORTABLE_CHILDREN=!1;var gr=function(){function i(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return i.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},i.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},i.prototype.getRectangle=function(r){return this.minX>this.maxX||this.minY>this.maxY?q.EMPTY:(r=r||new q(0,0,1,1),r.x=this.minX,r.y=this.minY,r.width=this.maxX-this.minX,r.height=this.maxY-this.minY,r)},i.prototype.addPoint=function(r){this.minX=Math.min(this.minX,r.x),this.maxX=Math.max(this.maxX,r.x),this.minY=Math.min(this.minY,r.y),this.maxY=Math.max(this.maxY,r.y)},i.prototype.addQuad=function(r){var t=this.minX,e=this.minY,n=this.maxX,a=this.maxY,o=r[0],s=r[1];t=o<t?o:t,e=s<e?s:e,n=o>n?o:n,a=s>a?s:a,o=r[2],s=r[3],t=o<t?o:t,e=s<e?s:e,n=o>n?o:n,a=s>a?s:a,o=r[4],s=r[5],t=o<t?o:t,e=s<e?s:e,n=o>n?o:n,a=s>a?s:a,o=r[6],s=r[7],t=o<t?o:t,e=s<e?s:e,n=o>n?o:n,a=s>a?s:a,this.minX=t,this.minY=e,this.maxX=n,this.maxY=a},i.prototype.addFrame=function(r,t,e,n,a){this.addFrameMatrix(r.worldTransform,t,e,n,a)},i.prototype.addFrameMatrix=function(r,t,e,n,a){var o=r.a,s=r.b,h=r.c,u=r.d,c=r.tx,f=r.ty,l=this.minX,d=this.minY,p=this.maxX,v=this.maxY,y=o*t+h*e+c,g=s*t+u*e+f;l=y<l?y:l,d=g<d?g:d,p=y>p?y:p,v=g>v?g:v,y=o*n+h*e+c,g=s*n+u*e+f,l=y<l?y:l,d=g<d?g:d,p=y>p?y:p,v=g>v?g:v,y=o*t+h*a+c,g=s*t+u*a+f,l=y<l?y:l,d=g<d?g:d,p=y>p?y:p,v=g>v?g:v,y=o*n+h*a+c,g=s*n+u*a+f,l=y<l?y:l,d=g<d?g:d,p=y>p?y:p,v=g>v?g:v,this.minX=l,this.minY=d,this.maxX=p,this.maxY=v},i.prototype.addVertexData=function(r,t,e){for(var n=this.minX,a=this.minY,o=this.maxX,s=this.maxY,h=t;h<e;h+=2){var u=r[h],c=r[h+1];n=u<n?u:n,a=c<a?c:a,o=u>o?u:o,s=c>s?c:s}this.minX=n,this.minY=a,this.maxX=o,this.maxY=s},i.prototype.addVertices=function(r,t,e,n){this.addVerticesMatrix(r.worldTransform,t,e,n)},i.prototype.addVerticesMatrix=function(r,t,e,n,a,o){a===void 0&&(a=0),o===void 0&&(o=a);for(var s=r.a,h=r.b,u=r.c,c=r.d,f=r.tx,l=r.ty,d=this.minX,p=this.minY,v=this.maxX,y=this.maxY,g=e;g<n;g+=2){var x=t[g],m=t[g+1],T=s*x+u*m+f,b=c*m+h*x+l;d=Math.min(d,T-a),v=Math.max(v,T+a),p=Math.min(p,b-o),y=Math.max(y,b+o)}this.minX=d,this.minY=p,this.maxX=v,this.maxY=y},i.prototype.addBounds=function(r){var t=this.minX,e=this.minY,n=this.maxX,a=this.maxY;this.minX=r.minX<t?r.minX:t,this.minY=r.minY<e?r.minY:e,this.maxX=r.maxX>n?r.maxX:n,this.maxY=r.maxY>a?r.maxY:a},i.prototype.addBoundsMask=function(r,t){var e=r.minX>t.minX?r.minX:t.minX,n=r.minY>t.minY?r.minY:t.minY,a=r.maxX<t.maxX?r.maxX:t.maxX,o=r.maxY<t.maxY?r.maxY:t.maxY;if(e<=a&&n<=o){var s=this.minX,h=this.minY,u=this.maxX,c=this.maxY;this.minX=e<s?e:s,this.minY=n<h?n:h,this.maxX=a>u?a:u,this.maxY=o>c?o:c}},i.prototype.addBoundsMatrix=function(r,t){this.addFrameMatrix(t,r.minX,r.minY,r.maxX,r.maxY)},i.prototype.addBoundsArea=function(r,t){var e=r.minX>t.x?r.minX:t.x,n=r.minY>t.y?r.minY:t.y,a=r.maxX<t.x+t.width?r.maxX:t.x+t.width,o=r.maxY<t.y+t.height?r.maxY:t.y+t.height;if(e<=a&&n<=o){var s=this.minX,h=this.minY,u=this.maxX,c=this.maxY;this.minX=e<s?e:s,this.minY=n<h?n:h,this.maxX=a>u?a:u,this.maxY=o>c?o:c}},i.prototype.pad=function(r,t){r===void 0&&(r=0),t===void 0&&(t=r),this.isEmpty()||(this.minX-=r,this.maxX+=r,this.minY-=t,this.maxY+=t)},i.prototype.addFramePad=function(r,t,e,n,a,o){r-=a,t-=o,e+=a,n+=o,this.minX=this.minX<r?this.minX:r,this.maxX=this.maxX>e?this.maxX:e,this.minY=this.minY<t?this.minY:t,this.maxY=this.maxY>n?this.maxY:n},i}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var yn=function(i,r){return yn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},yn(i,r)};function ua(i,r){yn(i,r);function t(){this.constructor=i}i.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var ut=function(i){ua(r,i);function r(){var t=i.call(this)||this;return t.tempDisplayObjectParent=null,t.transform=new ha,t.alpha=1,t.visible=!0,t.renderable=!0,t.parent=null,t.worldAlpha=1,t._lastSortedIndex=0,t._zIndex=0,t.filterArea=null,t.filters=null,t._enabledFilters=null,t._bounds=new gr,t._localBounds=null,t._boundsID=0,t._boundsRect=null,t._localBoundsRect=null,t._mask=null,t._destroyed=!1,t.isSprite=!1,t.isMask=!1,t}return r.mixin=function(t){for(var e=Object.keys(t),n=0;n<e.length;++n){var a=e[n];Object.defineProperty(r.prototype,a,Object.getOwnPropertyDescriptor(t,a))}},r.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},r.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},r.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),e||(this._boundsRect||(this._boundsRect=new q),e=this._boundsRect),this._bounds.getRectangle(e)},r.prototype.getLocalBounds=function(t){t||(this._localBoundsRect||(this._localBoundsRect=new q),t=this._localBoundsRect),this._localBounds||(this._localBounds=new gr);var e=this.transform,n=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var a=this._bounds,o=this._boundsID;this._bounds=this._localBounds;var s=this.getBounds(!1,t);return this.parent=n,this.transform=e,this._bounds=a,this._bounds.updateID+=this._boundsID-o,s},r.prototype.toGlobal=function(t,e,n){return n===void 0&&(n=!1),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},r.prototype.toLocal=function(t,e,n,a){return e&&(t=e.toGlobal(t,n,a)),a||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,n)},r.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},r.prototype.setTransform=function(t,e,n,a,o,s,h,u,c){return t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=1),a===void 0&&(a=1),o===void 0&&(o=0),s===void 0&&(s=0),h===void 0&&(h=0),u===void 0&&(u=0),c===void 0&&(c=0),this.position.x=t,this.position.y=e,this.scale.x=n||1,this.scale.y=a||1,this.rotation=o,this.skew.x=s,this.skew.y=h,this.pivot.x=u,this.pivot.y=c,this},r.prototype.destroy=function(t){this.parent&&this.parent.removeChild(this),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this._mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(r.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new la),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),r.prototype.enableTempParent=function(){var t=this.parent;return this.parent=this._tempDisplayObjectParent,t},r.prototype.disableTempParent=function(t){this.parent=t},Object.defineProperty(r.prototype,"x",{get:function(){return this.position.x},set:function(t){this.transform.position.x=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"y",{get:function(){return this.position.y},set:function(t){this.transform.position.y=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"position",{get:function(){return this.transform.position},set:function(t){this.transform.position.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scale",{get:function(){return this.transform.scale},set:function(t){this.transform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"skew",{get:function(){return this.transform.skew},set:function(t){this.transform.skew.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"angle",{get:function(){return this.transform.rotation*Os},set:function(t){this.transform.rotation=t*Cs},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"zIndex",{get:function(){return this._zIndex},set:function(t){this._zIndex=t,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"worldVisible",{get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"mask",{get:function(){return this._mask},set:function(t){if(this._mask){var e=this._mask.maskObject||this._mask;e.renderable=!0,e.isMask=!1}if(this._mask=t,this._mask){var e=this._mask.maskObject||this._mask;e.renderable=!1,e.isMask=!0}},enumerable:!1,configurable:!0}),r}($e),la=function(i){ua(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.sortDirty=null,t}return r}(ut);ut.prototype.displayObjectUpdateTransform=ut.prototype.updateTransform;function ic(i,r){return i.zIndex===r.zIndex?i._lastSortedIndex-r._lastSortedIndex:i.zIndex-r.zIndex}var St=function(i){ua(r,i);function r(){var t=i.call(this)||this;return t.children=[],t.sortableChildren=D.SORTABLE_CHILDREN,t.sortDirty=!1,t}return r.prototype.onChildrenChange=function(t){},r.prototype.addChild=function(){for(var t=arguments,e=[],n=0;n<arguments.length;n++)e[n]=t[n];if(e.length>1)for(var a=0;a<e.length;a++)this.addChild(e[a]);else{var o=e[0];o.parent&&o.parent.removeChild(o),o.parent=this,this.sortDirty=!0,o.transform._parentID=-1,this.children.push(o),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",o,this,this.children.length-1),o.emit("added",this)}return e[0]},r.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t},r.prototype.swapChildren=function(t,e){if(t!==e){var n=this.getChildIndex(t),a=this.getChildIndex(e);this.children[n]=e,this.children[a]=t,this.onChildrenChange(n<a?n:a)}},r.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return e},r.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var n=this.getChildIndex(t);ge(this.children,n,1),this.children.splice(e,0,t),this.onChildrenChange(e)},r.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},r.prototype.removeChild=function(){for(var t=arguments,e=[],n=0;n<arguments.length;n++)e[n]=t[n];if(e.length>1)for(var a=0;a<e.length;a++)this.removeChild(e[a]);else{var o=e[0],s=this.children.indexOf(o);if(s===-1)return null;o.parent=null,o.transform._parentID=-1,ge(this.children,s,1),this._boundsID++,this.onChildrenChange(s),o.emit("removed",this),this.emit("childRemoved",o,this,s)}return e[0]},r.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,ge(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e},r.prototype.removeChildren=function(t,e){t===void 0&&(t=0),e===void 0&&(e=this.children.length);var n=t,a=e,o=a-n,s;if(o>0&&o<=a){s=this.children.splice(n,o);for(var h=0;h<s.length;++h)s[h].parent=null,s[h].transform&&(s[h].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(var h=0;h<s.length;++h)s[h].emit("removed",this),this.emit("childRemoved",s[h],this,h);return s}else if(o===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},r.prototype.sortChildren=function(){for(var t=!1,e=0,n=this.children.length;e<n;++e){var a=this.children[e];a._lastSortedIndex=e,!t&&a.zIndex!==0&&(t=!0)}t&&this.children.length>1&&this.children.sort(ic),this.sortDirty=!1},r.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var n=this.children[t];n.visible&&n.updateTransform()}},r.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];if(!(!e.visible||!e.renderable))if(e.calculateBounds(),e._mask){var n=e._mask.maskObject||e._mask;n.calculateBounds(),this._bounds.addBoundsMask(e._bounds,n._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID},r.prototype.getLocalBounds=function(t,e){e===void 0&&(e=!1);var n=i.prototype.getLocalBounds.call(this,t);if(!e)for(var a=0,o=this.children.length;a<o;++a){var s=this.children[a];s.visible&&s.updateTransform()}return n},r.prototype._calculateBounds=function(){},r.prototype.render=function(t){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(t);else{this._render(t);for(var e=0,n=this.children.length;e<n;++e)this.children[e].render(t)}},r.prototype.renderAdvanced=function(t){t.batch.flush();var e=this.filters,n=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var a=0;a<e.length;a++)e[a].enabled&&this._enabledFilters.push(e[a]);this._enabledFilters.length&&t.filter.push(this,this._enabledFilters)}n&&t.mask.push(this,this._mask),this._render(t);for(var a=0,o=this.children.length;a<o;a++)this.children[a].render(t);t.batch.flush(),n&&t.mask.pop(this),e&&this._enabledFilters&&this._enabledFilters.length&&t.filter.pop()},r.prototype._render=function(t){},r.prototype.destroy=function(t){i.prototype.destroy.call(this),this.sortDirty=!1;var e=typeof t=="boolean"?t:t&&t.children,n=this.removeChildren(0,this.children.length);if(e)for(var a=0;a<n.length;++a)n[a].destroy(t)},Object.defineProperty(r.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;e!==0?this.scale.x=t/e:this.scale.x=1,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;e!==0?this.scale.y=t/e:this.scale.y=1,this._height=t},enumerable:!1,configurable:!0}),r}(ut);St.prototype.containerUpdateTransform=St.prototype.updateTransform;/*!
 * @pixi/accessibility - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Ns={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};ut.mixin(Ns);var nc=9,Ur=100,ac=0,oc=0,ho=2,uo=1,sc=-1e3,hc=-1e3,uc=2,Ds=function(){function i(r){this._hookDiv=null,(Pt.tablet||Pt.phone)&&this.createTouchHook();var t=document.createElement("div");t.style.width=Ur+"px",t.style.height=Ur+"px",t.style.position="absolute",t.style.top=ac+"px",t.style.left=oc+"px",t.style.zIndex=ho.toString(),this.div=t,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=r,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._isActive=!1,this._isMobileAccessibility=!1,this.androidUpdateCount=0,this.androidUpdateFrequency=500,window.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(i.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),i.prototype.createTouchHook=function(){var r=this,t=document.createElement("button");t.style.width=uo+"px",t.style.height=uo+"px",t.style.position="absolute",t.style.top=sc+"px",t.style.left=hc+"px",t.style.zIndex=uc.toString(),t.style.backgroundColor="#FF0000",t.title="select to enable accessability for this content",t.addEventListener("focus",function(){r._isMobileAccessibility=!0,r.activate(),r.destroyTouchHook()}),document.body.appendChild(t),this._hookDiv=t},i.prototype.destroyTouchHook=function(){!this._hookDiv||(document.body.removeChild(this._hookDiv),this._hookDiv=null)},i.prototype.activate=function(){this._isActive||(this._isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},i.prototype.deactivate=function(){!this._isActive||this._isMobileAccessibility||(this._isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},i.prototype.updateAccessibleObjects=function(r){if(!(!r.visible||!r.accessibleChildren)){r.accessible&&r.interactive&&(r._accessibleActive||this.addChild(r),r.renderId=this.renderId);for(var t=r.children,e=0;e<t.length;e++)this.updateAccessibleObjects(t[e])}},i.prototype.update=function(){var r=performance.now();if(!(Pt.android.device&&r<this.androidUpdateCount)&&(this.androidUpdateCount=r+this.androidUpdateFrequency,!!this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),e=this.renderer.resolution,n=t.width/this.renderer.width*e,a=t.height/this.renderer.height*e,o=this.div;o.style.left=t.left+"px",o.style.top=t.top+"px",o.style.width=this.renderer.width+"px",o.style.height=this.renderer.height+"px";for(var s=0;s<this.children.length;s++){var h=this.children[s];if(h.renderId!==this.renderId)h._accessibleActive=!1,ge(this.children,s,1),this.div.removeChild(h._accessibleDiv),this.pool.push(h._accessibleDiv),h._accessibleDiv=null,s--;else{o=h._accessibleDiv;var u=h.hitArea,c=h.worldTransform;h.hitArea?(o.style.left=(c.tx+u.x*c.a)*n+"px",o.style.top=(c.ty+u.y*c.d)*a+"px",o.style.width=u.width*c.a*n+"px",o.style.height=u.height*c.d*a+"px"):(u=h.getBounds(),this.capHitArea(u),o.style.left=u.x*n+"px",o.style.top=u.y*a+"px",o.style.width=u.width*n+"px",o.style.height=u.height*a+"px",o.title!==h.accessibleTitle&&h.accessibleTitle!==null&&(o.title=h.accessibleTitle),o.getAttribute("aria-label")!==h.accessibleHint&&h.accessibleHint!==null&&o.setAttribute("aria-label",h.accessibleHint)),(h.accessibleTitle!==o.title||h.tabIndex!==o.tabIndex)&&(o.title=h.accessibleTitle,o.tabIndex=h.tabIndex,this.debug&&this.updateDebugHTML(o))}}this.renderId++}},i.prototype.updateDebugHTML=function(r){r.innerHTML="type: "+r.type+"</br> title : "+r.title+"</br> tabIndex: "+r.tabIndex},i.prototype.capHitArea=function(r){r.x<0&&(r.width+=r.x,r.x=0),r.y<0&&(r.height+=r.y,r.y=0),r.x+r.width>this.renderer.width&&(r.width=this.renderer.width-r.x),r.y+r.height>this.renderer.height&&(r.height=this.renderer.height-r.y)},i.prototype.addChild=function(r){var t=this.pool.pop();t||(t=document.createElement("button"),t.style.width=Ur+"px",t.style.height=Ur+"px",t.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",t.style.position="absolute",t.style.zIndex=ho.toString(),t.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?t.setAttribute("aria-live","off"):t.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?t.setAttribute("aria-relevant","additions"):t.setAttribute("aria-relevant","text"),t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),t.style.pointerEvents=r.accessiblePointerEvents,t.type=r.accessibleType,r.accessibleTitle&&r.accessibleTitle!==null?t.title=r.accessibleTitle:(!r.accessibleHint||r.accessibleHint===null)&&(t.title="displayObject "+r.tabIndex),r.accessibleHint&&r.accessibleHint!==null&&t.setAttribute("aria-label",r.accessibleHint),this.debug&&this.updateDebugHTML(t),r._accessibleActive=!0,r._accessibleDiv=t,t.displayObject=r,this.children.push(r),this.div.appendChild(r._accessibleDiv),r._accessibleDiv.tabIndex=r.tabIndex},i.prototype._onClick=function(r){var t=this.renderer.plugins.interaction;t.dispatchEvent(r.target.displayObject,"click",t.eventData),t.dispatchEvent(r.target.displayObject,"pointertap",t.eventData),t.dispatchEvent(r.target.displayObject,"tap",t.eventData)},i.prototype._onFocus=function(r){r.target.getAttribute("aria-live")||r.target.setAttribute("aria-live","assertive");var t=this.renderer.plugins.interaction;t.dispatchEvent(r.target.displayObject,"mouseover",t.eventData)},i.prototype._onFocusOut=function(r){r.target.getAttribute("aria-live")||r.target.setAttribute("aria-live","polite");var t=this.renderer.plugins.interaction;t.dispatchEvent(r.target.displayObject,"mouseout",t.eventData)},i.prototype._onKeyDown=function(r){r.keyCode===nc&&this.activate()},i.prototype._onMouseMove=function(r){r.movementX===0&&r.movementY===0||this.deactivate()},i.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},i}();/*!
 * @pixi/ticker - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */D.TARGET_FPMS=.06;var Ut;(function(i){i[i.INTERACTION=50]="INTERACTION",i[i.HIGH=25]="HIGH",i[i.NORMAL=0]="NORMAL",i[i.LOW=-25]="LOW",i[i.UTILITY=-50]="UTILITY"})(Ut||(Ut={}));var Fi=function(){function i(r,t,e,n){t===void 0&&(t=null),e===void 0&&(e=0),n===void 0&&(n=!1),this.fn=r,this.context=t,this.priority=e,this.once=n,this.next=null,this.previous=null,this._destroyed=!1}return i.prototype.match=function(r,t){return t===void 0&&(t=null),this.fn===r&&this.context===t},i.prototype.emit=function(r){this.fn&&(this.context?this.fn.call(this.context,r):this.fn(r));var t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t},i.prototype.connect=function(r){this.previous=r,r.next&&(r.next.previous=this),this.next=r.next,r.next=this},i.prototype.destroy=function(r){r===void 0&&(r=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var t=this.next;return this.next=r?null:t,this.previous=null,t},i}(),dt=function(){function i(){var r=this;this._head=new Fi(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this.autoStart=!1,this.deltaTime=1,this.deltaMS=1/D.TARGET_FPMS,this.elapsedMS=1/D.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._protected=!1,this._lastFrame=-1,this._tick=function(t){r._requestId=null,r.started&&(r.update(t),r.started&&r._requestId===null&&r._head.next&&(r._requestId=requestAnimationFrame(r._tick)))}}return i.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},i.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)},i.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},i.prototype.add=function(r,t,e){return e===void 0&&(e=Ut.NORMAL),this._addListener(new Fi(r,t,e))},i.prototype.addOnce=function(r,t,e){return e===void 0&&(e=Ut.NORMAL),this._addListener(new Fi(r,t,e,!0))},i.prototype._addListener=function(r){var t=this._head.next,e=this._head;if(!t)r.connect(e);else{for(;t;){if(r.priority>t.priority){r.connect(e);break}e=t,t=t.next}r.previous||r.connect(e)}return this._startIfPossible(),this},i.prototype.remove=function(r,t){for(var e=this._head.next;e;)e.match(r,t)?e=e.destroy():e=e.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(i.prototype,"count",{get:function(){if(!this._head)return 0;for(var r=0,t=this._head;t=t.next;)r++;return r},enumerable:!1,configurable:!0}),i.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},i.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},i.prototype.destroy=function(){if(!this._protected){this.stop();for(var r=this._head.next;r;)r=r.destroy(!0);this._head.destroy(),this._head=null}},i.prototype.update=function(r){r===void 0&&(r=performance.now());var t;if(r>this.lastTime){if(t=this.elapsedMS=r-this.lastTime,t>this._maxElapsedMS&&(t=this._maxElapsedMS),t*=this.speed,this._minElapsedMS){var e=r-this._lastFrame|0;if(e<this._minElapsedMS)return;this._lastFrame=r-e%this._minElapsedMS}this.deltaMS=t,this.deltaTime=this.deltaMS*D.TARGET_FPMS;for(var n=this._head,a=n.next;a;)a=a.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=r},Object.defineProperty(i.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(r){var t=Math.min(this.maxFPS,r),e=Math.min(Math.max(0,t)/1e3,D.TARGET_FPMS);this._maxElapsedMS=1/e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(r){if(r===0)this._minElapsedMS=0;else{var t=Math.max(this.minFPS,r);this._minElapsedMS=1/(t/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(i,"shared",{get:function(){if(!i._shared){var r=i._shared=new i;r.autoStart=!0,r._protected=!0}return i._shared},enumerable:!1,configurable:!0}),Object.defineProperty(i,"system",{get:function(){if(!i._system){var r=i._system=new i;r.autoStart=!0,r._protected=!0}return i._system},enumerable:!1,configurable:!0}),i}(),Us=function(){function i(){}return i.init=function(r){var t=this;r=Object.assign({autoStart:!0,sharedTicker:!1},r),Object.defineProperty(this,"ticker",{set:function(e){this._ticker&&this._ticker.remove(this.render,this),this._ticker=e,e&&e.add(this.render,this,Ut.LOW)},get:function(){return this._ticker}}),this.stop=function(){t._ticker.stop()},this.start=function(){t._ticker.start()},this._ticker=null,this.ticker=r.sharedTicker?dt.shared:new dt,r.autoStart&&this.start()},i.destroy=function(){if(this._ticker){var r=this._ticker;this.ticker=null,r.destroy()}},i}();/*!
 * @pixi/interaction - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var mn=function(){function i(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new pt,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(i.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),i.prototype.getLocalPosition=function(r,t,e){return r.worldTransform.applyInverse(e||this.global,t)},i.prototype.copyEvent=function(r){"isPrimary"in r&&r.isPrimary&&(this.isPrimary=!0),this.button="button"in r&&r.button;var t="buttons"in r&&r.buttons;this.buttons=Number.isInteger(t)?t:"which"in r&&r.which,this.width="width"in r&&r.width,this.height="height"in r&&r.height,this.tiltX="tiltX"in r&&r.tiltX,this.tiltY="tiltY"in r&&r.tiltY,this.pointerType="pointerType"in r&&r.pointerType,this.pressure="pressure"in r&&r.pressure,this.rotationAngle="rotationAngle"in r&&r.rotationAngle,this.twist="twist"in r&&r.twist||0,this.tangentialPressure="tangentialPressure"in r&&r.tangentialPressure||0},i.prototype.reset=function(){this.isPrimary=!1},i}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var gn=function(i,r){return gn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},gn(i,r)};function lc(i,r){gn(i,r);function t(){this.constructor=i}i.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var Bs=function(){function i(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return i.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},i.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},i}(),qr=function(){function i(r){this._pointerId=r,this._flags=i.FLAGS.NONE}return i.prototype._doSet=function(r,t){t?this._flags=this._flags|r:this._flags=this._flags&~r},Object.defineProperty(i.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"flags",{get:function(){return this._flags},set:function(r){this._flags=r},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"none",{get:function(){return this._flags===i.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"over",{get:function(){return(this._flags&i.FLAGS.OVER)!==0},set:function(r){this._doSet(i.FLAGS.OVER,r)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"rightDown",{get:function(){return(this._flags&i.FLAGS.RIGHT_DOWN)!==0},set:function(r){this._doSet(i.FLAGS.RIGHT_DOWN,r)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"leftDown",{get:function(){return(this._flags&i.FLAGS.LEFT_DOWN)!==0},set:function(r){this._doSet(i.FLAGS.LEFT_DOWN,r)},enumerable:!1,configurable:!0}),i.FLAGS=Object.freeze({NONE:0,OVER:1<<0,LEFT_DOWN:1<<1,RIGHT_DOWN:1<<2}),i}(),fc=function(){function i(){this._tempPoint=new pt}return i.prototype.recursiveFindHit=function(r,t,e,n,a){if(!t||!t.visible)return!1;var o=r.data.global;a=t.interactive||a;var s=!1,h=a,u=!0;if(t.hitArea?(n&&(t.worldTransform.applyInverse(o,this._tempPoint),t.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?s=!0:(n=!1,u=!1)),h=!1):t._mask&&n&&(t._mask.containsPoint&&t._mask.containsPoint(o)||(n=!1)),u&&t.interactiveChildren&&t.children)for(var c=t.children,f=c.length-1;f>=0;f--){var l=c[f],d=this.recursiveFindHit(r,l,e,n,h);if(d){if(!l.parent)continue;h=!1,d&&(r.target&&(n=!1),s=!0)}}return a&&(n&&!r.target&&!t.hitArea&&t.containsPoint&&t.containsPoint(o)&&(s=!0),t.interactive&&(s&&!r.target&&(r.target=t),e&&e(r,t,!!s))),s},i.prototype.findHit=function(r,t,e,n){this.recursiveFindHit(r,t,e,n,!1)},i}(),ks={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(i){i?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};ut.mixin(ks);var Br=1,kr={target:null,data:{global:null}},Xs=function(i){lc(r,i);function r(t,e){var n=i.call(this)||this;return e=e||{},n.renderer=t,n.autoPreventDefault=e.autoPreventDefault!==void 0?e.autoPreventDefault:!0,n.interactionFrequency=e.interactionFrequency||10,n.mouse=new mn,n.mouse.identifier=Br,n.mouse.global.set(-999999),n.activeInteractionData={},n.activeInteractionData[Br]=n.mouse,n.interactionDataPool=[],n.eventData=new Bs,n.interactionDOMElement=null,n.moveWhenInside=!1,n.eventsAdded=!1,n.tickerAdded=!1,n.mouseOverRenderer=!1,n.supportsTouchEvents="ontouchstart"in window,n.supportsPointerEvents=!!window.PointerEvent,n.onPointerUp=n.onPointerUp.bind(n),n.processPointerUp=n.processPointerUp.bind(n),n.onPointerCancel=n.onPointerCancel.bind(n),n.processPointerCancel=n.processPointerCancel.bind(n),n.onPointerDown=n.onPointerDown.bind(n),n.processPointerDown=n.processPointerDown.bind(n),n.onPointerMove=n.onPointerMove.bind(n),n.processPointerMove=n.processPointerMove.bind(n),n.onPointerOut=n.onPointerOut.bind(n),n.processPointerOverOut=n.processPointerOverOut.bind(n),n.onPointerOver=n.onPointerOver.bind(n),n.cursorStyles={default:"inherit",pointer:"pointer"},n.currentCursorMode=null,n.cursor=null,n.resolution=1,n.delayedEvents=[],n.search=new fc,n._tempDisplayObject=new la,n._useSystemTicker=e.useSystemTicker!==void 0?e.useSystemTicker:!0,n.setTargetElement(n.renderer.view,n.renderer.resolution),n}return Object.defineProperty(r.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(t){this._useSystemTicker=t,t?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),r.prototype.hitTest=function(t,e){return kr.target=null,kr.data.global=t,e||(e=this.lastObjectRendered),this.processInteractive(kr,e,null,!0),kr.target},r.prototype.setTargetElement=function(t,e){e===void 0&&(e=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents(),this.addTickerListener()},r.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(dt.system.add(this.tickerUpdate,this,Ut.INTERACTION),this.tickerAdded=!0)},r.prototype.removeTickerListener=function(){!this.tickerAdded||(dt.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},r.prototype.addEvents=function(){if(!(this.eventsAdded||!this.interactionDOMElement)){var t=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0}},r.prototype.removeEvents=function(){if(!(!this.eventsAdded||!this.interactionDOMElement)){var t=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1}},r.prototype.tickerUpdate=function(t){this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},r.prototype.update=function(){if(!!this.interactionDOMElement){if(this._didMove){this._didMove=!1;return}this.cursor=null;for(var t in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(t)){var e=this.activeInteractionData[t];if(e.originalEvent&&e.pointerType!=="touch"){var n=this.configureInteractionEventForDOMEvent(this.eventData,e.originalEvent,e);this.processInteractive(n,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},r.prototype.setCursorMode=function(t){if(t=t||"default",this.currentCursorMode!==t){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch(typeof e){case"string":this.interactionDOMElement.style.cursor=e;break;case"function":e(t);break;case"object":Object.assign(this.interactionDOMElement.style,e);break}else typeof t=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,t)&&(this.interactionDOMElement.style.cursor=t)}},r.prototype.dispatchEvent=function(t,e,n){(!n.stopPropagationHint||t===n.stopsPropagatingAt)&&(n.currentTarget=t,n.type=e,t.emit(e,n),t[e]&&t[e](n))},r.prototype.delayDispatchEvent=function(t,e,n){this.delayedEvents.push({displayObject:t,eventString:e,eventData:n})},r.prototype.mapPositionToPoint=function(t,e,n){var a;this.interactionDOMElement.parentElement?a=this.interactionDOMElement.getBoundingClientRect():a={x:0,y:0,width:0,height:0};var o=1/this.resolution;t.x=(e-a.left)*(this.interactionDOMElement.width/a.width)*o,t.y=(n-a.top)*(this.interactionDOMElement.height/a.height)*o},r.prototype.processInteractive=function(t,e,n,a){var o=this.search.findHit(t,e,n,a),s=this.delayedEvents;if(!s.length)return o;t.stopPropagationHint=!1;var h=s.length;this.delayedEvents=[];for(var u=0;u<h;u++){var c=s[u],f=c.displayObject,l=c.eventString,d=c.eventData;d.stopsPropagatingAt===f&&(d.stopPropagationHint=!0),this.dispatchEvent(f,l,d)}return o},r.prototype.onPointerDown=function(t){if(!(this.supportsTouchEvents&&t.pointerType==="touch")){var e=this.normalizeToPointerData(t);if(this.autoPreventDefault&&e[0].isNormalized){var n=t.cancelable||!("cancelable"in t);n&&t.preventDefault()}for(var a=e.length,o=0;o<a;o++){var s=e[o],h=this.getInteractionDataForPointerId(s),u=this.configureInteractionEventForDOMEvent(this.eventData,s,h);if(u.data.originalEvent=t,this.processInteractive(u,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",u),s.pointerType==="touch")this.emit("touchstart",u);else if(s.pointerType==="mouse"||s.pointerType==="pen"){var c=s.button===2;this.emit(c?"rightdown":"mousedown",this.eventData)}}}},r.prototype.processPointerDown=function(t,e,n){var a=t.data,o=t.data.identifier;if(n){if(e.trackedPointers[o]||(e.trackedPointers[o]=new qr(o)),this.dispatchEvent(e,"pointerdown",t),a.pointerType==="touch")this.dispatchEvent(e,"touchstart",t);else if(a.pointerType==="mouse"||a.pointerType==="pen"){var s=a.button===2;s?e.trackedPointers[o].rightDown=!0:e.trackedPointers[o].leftDown=!0,this.dispatchEvent(e,s?"rightdown":"mousedown",t)}}},r.prototype.onPointerComplete=function(t,e,n){for(var a=this.normalizeToPointerData(t),o=a.length,s=t.target!==this.interactionDOMElement?"outside":"",h=0;h<o;h++){var u=a[h],c=this.getInteractionDataForPointerId(u),f=this.configureInteractionEventForDOMEvent(this.eventData,u,c);if(f.data.originalEvent=t,this.processInteractive(f,this.lastObjectRendered,n,e||!s),this.emit(e?"pointercancel":"pointerup"+s,f),u.pointerType==="mouse"||u.pointerType==="pen"){var l=u.button===2;this.emit(l?"rightup"+s:"mouseup"+s,f)}else u.pointerType==="touch"&&(this.emit(e?"touchcancel":"touchend"+s,f),this.releaseInteractionDataForPointerId(u.pointerId))}},r.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&t.pointerType==="touch"||this.onPointerComplete(t,!0,this.processPointerCancel)},r.prototype.processPointerCancel=function(t,e){var n=t.data,a=t.data.identifier;e.trackedPointers[a]!==void 0&&(delete e.trackedPointers[a],this.dispatchEvent(e,"pointercancel",t),n.pointerType==="touch"&&this.dispatchEvent(e,"touchcancel",t))},r.prototype.onPointerUp=function(t){this.supportsTouchEvents&&t.pointerType==="touch"||this.onPointerComplete(t,!1,this.processPointerUp)},r.prototype.processPointerUp=function(t,e,n){var a=t.data,o=t.data.identifier,s=e.trackedPointers[o],h=a.pointerType==="touch",u=a.pointerType==="mouse"||a.pointerType==="pen",c=!1;if(u){var f=a.button===2,l=qr.FLAGS,d=f?l.RIGHT_DOWN:l.LEFT_DOWN,p=s!==void 0&&s.flags&d;n?(this.dispatchEvent(e,f?"rightup":"mouseup",t),p&&(this.dispatchEvent(e,f?"rightclick":"click",t),c=!0)):p&&this.dispatchEvent(e,f?"rightupoutside":"mouseupoutside",t),s&&(f?s.rightDown=!1:s.leftDown=!1)}n?(this.dispatchEvent(e,"pointerup",t),h&&this.dispatchEvent(e,"touchend",t),s&&((!u||c)&&this.dispatchEvent(e,"pointertap",t),h&&(this.dispatchEvent(e,"tap",t),s.over=!1))):s&&(this.dispatchEvent(e,"pointerupoutside",t),h&&this.dispatchEvent(e,"touchendoutside",t)),s&&s.none&&delete e.trackedPointers[o]},r.prototype.onPointerMove=function(t){if(!(this.supportsTouchEvents&&t.pointerType==="touch")){var e=this.normalizeToPointerData(t);(e[0].pointerType==="mouse"||e[0].pointerType==="pen")&&(this._didMove=!0,this.cursor=null);for(var n=e.length,a=0;a<n;a++){var o=e[a],s=this.getInteractionDataForPointerId(o),h=this.configureInteractionEventForDOMEvent(this.eventData,o,s);h.data.originalEvent=t,this.processInteractive(h,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",h),o.pointerType==="touch"&&this.emit("touchmove",h),(o.pointerType==="mouse"||o.pointerType==="pen")&&this.emit("mousemove",h)}e[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},r.prototype.processPointerMove=function(t,e,n){var a=t.data,o=a.pointerType==="touch",s=a.pointerType==="mouse"||a.pointerType==="pen";s&&this.processPointerOverOut(t,e,n),(!this.moveWhenInside||n)&&(this.dispatchEvent(e,"pointermove",t),o&&this.dispatchEvent(e,"touchmove",t),s&&this.dispatchEvent(e,"mousemove",t))},r.prototype.onPointerOut=function(t){if(!(this.supportsTouchEvents&&t.pointerType==="touch")){var e=this.normalizeToPointerData(t),n=e[0];n.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var a=this.getInteractionDataForPointerId(n),o=this.configureInteractionEventForDOMEvent(this.eventData,n,a);o.data.originalEvent=n,this.processInteractive(o,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",o),n.pointerType==="mouse"||n.pointerType==="pen"?this.emit("mouseout",o):this.releaseInteractionDataForPointerId(a.identifier)}},r.prototype.processPointerOverOut=function(t,e,n){var a=t.data,o=t.data.identifier,s=a.pointerType==="mouse"||a.pointerType==="pen",h=e.trackedPointers[o];n&&!h&&(h=e.trackedPointers[o]=new qr(o)),h!==void 0&&(n&&this.mouseOverRenderer?(h.over||(h.over=!0,this.delayDispatchEvent(e,"pointerover",t),s&&this.delayDispatchEvent(e,"mouseover",t)),s&&this.cursor===null&&(this.cursor=e.cursor)):h.over&&(h.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),s&&this.dispatchEvent(e,"mouseout",t),h.none&&delete e.trackedPointers[o]))},r.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t),n=e[0],a=this.getInteractionDataForPointerId(n),o=this.configureInteractionEventForDOMEvent(this.eventData,n,a);o.data.originalEvent=n,n.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",o),(n.pointerType==="mouse"||n.pointerType==="pen")&&this.emit("mouseover",o)},r.prototype.getInteractionDataForPointerId=function(t){var e=t.pointerId,n;return e===Br||t.pointerType==="mouse"?n=this.mouse:this.activeInteractionData[e]?n=this.activeInteractionData[e]:(n=this.interactionDataPool.pop()||new mn,n.identifier=e,this.activeInteractionData[e]=n),n.copyEvent(t),n},r.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},r.prototype.configureInteractionEventForDOMEvent=function(t,e,n){return t.data=n,this.mapPositionToPoint(n.global,e.clientX,e.clientY),e.pointerType==="touch"&&(e.globalX=n.global.x,e.globalY=n.global.y),n.originalEvent=e,t.reset(),t},r.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var n=0,a=t.changedTouches.length;n<a;n++){var o=t.changedTouches[n];typeof o.button=="undefined"&&(o.button=t.touches.length?1:0),typeof o.buttons=="undefined"&&(o.buttons=t.touches.length?1:0),typeof o.isPrimary=="undefined"&&(o.isPrimary=t.touches.length===1&&t.type==="touchstart"),typeof o.width=="undefined"&&(o.width=o.radiusX||1),typeof o.height=="undefined"&&(o.height=o.radiusY||1),typeof o.tiltX=="undefined"&&(o.tiltX=0),typeof o.tiltY=="undefined"&&(o.tiltY=0),typeof o.pointerType=="undefined"&&(o.pointerType="touch"),typeof o.pointerId=="undefined"&&(o.pointerId=o.identifier||0),typeof o.pressure=="undefined"&&(o.pressure=o.force||.5),typeof o.twist=="undefined"&&(o.twist=0),typeof o.tangentialPressure=="undefined"&&(o.tangentialPressure=0),typeof o.layerX=="undefined"&&(o.layerX=o.offsetX=o.clientX),typeof o.layerY=="undefined"&&(o.layerY=o.offsetY=o.clientY),o.isNormalized=!0,e.push(o)}else if(t instanceof MouseEvent&&(!this.supportsPointerEvents||!(t instanceof window.PointerEvent))){var s=t;typeof s.isPrimary=="undefined"&&(s.isPrimary=!0),typeof s.width=="undefined"&&(s.width=1),typeof s.height=="undefined"&&(s.height=1),typeof s.tiltX=="undefined"&&(s.tiltX=0),typeof s.tiltY=="undefined"&&(s.tiltY=0),typeof s.pointerType=="undefined"&&(s.pointerType="mouse"),typeof s.pointerId=="undefined"&&(s.pointerId=Br),typeof s.pressure=="undefined"&&(s.pressure=.5),typeof s.twist=="undefined"&&(s.twist=0),typeof s.tangentialPressure=="undefined"&&(s.tangentialPressure=0),s.isNormalized=!0,e.push(s)}else e.push(t);return e},r.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},r}($e);/*!
 * @pixi/runner - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var vt=function(){function i(r){this.items=[],this._name=r,this._aliasCount=0}return i.prototype.emit=function(r,t,e,n,a,o,s,h){if(arguments.length>8)throw new Error("max arguments reached");var u=this,c=u.name,f=u.items;this._aliasCount++;for(var l=0,d=f.length;l<d;l++)f[l][c](r,t,e,n,a,o,s,h);return f===this.items&&this._aliasCount--,this},i.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},i.prototype.add=function(r){return r[this._name]&&(this.ensureNonAliasedItems(),this.remove(r),this.items.push(r)),this},i.prototype.remove=function(r){var t=this.items.indexOf(r);return t!==-1&&(this.ensureNonAliasedItems(),this.items.splice(t,1)),this},i.prototype.contains=function(r){return this.items.indexOf(r)!==-1},i.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},i.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(i.prototype,"empty",{get:function(){return this.items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),i}();Object.defineProperties(vt.prototype,{dispatch:{value:vt.prototype.emit},run:{value:vt.prototype.emit}});/*!
 * @pixi/core - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */D.PREFER_ENV=Pt.any?Dt.WEBGL:Dt.WEBGL2;D.STRICT_TEXTURE_CACHE=!1;var ni=[];function fa(i,r){if(!i)return null;var t="";if(typeof i=="string"){var e=/\.(\w{3,4})(?:$|\?|#)/i.exec(i);e&&(t=e[1].toLowerCase())}for(var n=ni.length-1;n>=0;--n){var a=ni[n];if(a.test&&a.test(i,t))return new a(i,r)}throw new Error("Unrecognized source type to auto-detect Resource")}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var _n=function(i,r){return _n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},_n(i,r)};function V(i,r){_n(i,r);function t(){this.constructor=i}i.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var Ve=function(){function i(r,t){r===void 0&&(r=0),t===void 0&&(t=0),this._width=r,this._height=t,this.destroyed=!1,this.internal=!1,this.onResize=new vt("setRealSize"),this.onUpdate=new vt("update"),this.onError=new vt("onError")}return i.prototype.bind=function(r){this.onResize.add(r),this.onUpdate.add(r),this.onError.add(r),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},i.prototype.unbind=function(r){this.onResize.remove(r),this.onUpdate.remove(r),this.onError.remove(r)},i.prototype.resize=function(r,t){(r!==this._width||t!==this._height)&&(this._width=r,this._height=t,this.onResize.emit(r,t))},Object.defineProperty(i.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),i.prototype.update=function(){this.destroyed||this.onUpdate.emit()},i.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(i.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),i.prototype.style=function(r,t,e){return!1},i.prototype.dispose=function(){},i.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},i.test=function(r,t){return!1},i}(),ci=function(i){V(r,i);function r(t,e){var n=this,a=e||{},o=a.width,s=a.height;if(!o||!s)throw new Error("BufferResource width or height invalid");return n=i.call(this,o,s)||this,n.data=t,n}return r.prototype.upload=function(t,e,n){var a=t.gl;return a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===zt.UNPACK),n.width===e.width&&n.height===e.height?a.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(n.width=e.width,n.height=e.height,a.texImage2D(e.target,0,n.internalFormat,e.width,e.height,0,e.format,n.type,this.data)),!0},r.prototype.dispose=function(){this.data=null},r.test=function(t){return t instanceof Float32Array||t instanceof Uint8Array||t instanceof Uint32Array},r}(Ve),cc={scaleMode:Ct.NEAREST,format:Ge.RGBA,alphaMode:zt.NPM},J=function(i){V(r,i);function r(t,e){t===void 0&&(t=null),e===void 0&&(e=null);var n=i.call(this)||this;e=e||{};var a=e.alphaMode,o=e.mipmap,s=e.anisotropicLevel,h=e.scaleMode,u=e.width,c=e.height,f=e.wrapMode,l=e.format,d=e.type,p=e.target,v=e.resolution,y=e.resourceOptions;return t&&!(t instanceof Ve)&&(t=fa(t,y),t.internal=!0),n.width=u||0,n.height=c||0,n.resolution=v||D.RESOLUTION,n.mipmap=o!==void 0?o:D.MIPMAP_TEXTURES,n.anisotropicLevel=s!==void 0?s:D.ANISOTROPIC_LEVEL,n.wrapMode=f||D.WRAP_MODE,n.scaleMode=h!==void 0?h:D.SCALE_MODE,n.format=l||Ge.RGBA,n.type=d||st.UNSIGNED_BYTE,n.target=p||Qt.TEXTURE_2D,n.alphaMode=a!==void 0?a:zt.UNPACK,e.premultiplyAlpha!==void 0&&(n.premultiplyAlpha=e.premultiplyAlpha),n.uid=Te(),n.touched=0,n.isPowerOfTwo=!1,n._refreshPOT(),n._glTextures={},n.dirtyId=0,n.dirtyStyleId=0,n.cacheId=null,n.valid=u>0&&c>0,n.textureCacheIds=[],n.destroyed=!1,n.resource=null,n._batchEnabled=0,n._batchLocation=0,n.parentTextureArray=null,n.setResource(t),n}return Object.defineProperty(r.prototype,"realWidth",{get:function(){return Math.ceil(this.width*this.resolution-1e-4)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"realHeight",{get:function(){return Math.ceil(this.height*this.resolution-1e-4)},enumerable:!1,configurable:!0}),r.prototype.setStyle=function(t,e){var n;return t!==void 0&&t!==this.scaleMode&&(this.scaleMode=t,n=!0),e!==void 0&&e!==this.mipmap&&(this.mipmap=e,n=!0),n&&this.dirtyStyleId++,this},r.prototype.setSize=function(t,e,n){return this.resolution=n||this.resolution,this.width=t,this.height=e,this._refreshPOT(),this.update(),this},r.prototype.setRealSize=function(t,e,n){return this.resolution=n||this.resolution,this.width=t/this.resolution,this.height=e/this.resolution,this._refreshPOT(),this.update(),this},r.prototype._refreshPOT=function(){this.isPowerOfTwo=fn(this.realWidth)&&fn(this.realHeight)},r.prototype.setResolution=function(t){var e=this.resolution;return e===t?this:(this.resolution=t,this.valid&&(this.width=this.width*e/t,this.height=this.height*e/t,this.emit("update",this)),this._refreshPOT(),this)},r.prototype.setResource=function(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this},r.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},r.prototype.onError=function(t){this.emit("error",this,t)},r.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete wt[this.cacheId],delete bt[this.cacheId],this.cacheId=null),this.dispose(),r.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},r.prototype.dispose=function(){this.emit("dispose",this)},r.prototype.castToBaseTexture=function(){return this},r.from=function(t,e,n){n===void 0&&(n=D.STRICT_TEXTURE_CACHE);var a=typeof t=="string",o=null;a?o=t:(t._pixiId||(t._pixiId="pixiid_"+Te()),o=t._pixiId);var s=wt[o];if(a&&n&&!s)throw new Error('The cacheId "'+o+'" does not exist in BaseTextureCache.');return s||(s=new r(t,e),s.cacheId=o,r.addToCache(s,o)),s},r.fromBuffer=function(t,e,n,a){t=t||new Float32Array(e*n*4);var o=new ci(t,{width:e,height:n}),s=t instanceof Float32Array?st.FLOAT:st.UNSIGNED_BYTE;return new r(o,Object.assign(cc,a||{width:e,height:n,type:s}))},r.addToCache=function(t,e){e&&(t.textureCacheIds.indexOf(e)===-1&&t.textureCacheIds.push(e),wt[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),wt[e]=t)},r.removeFromCache=function(t){if(typeof t=="string"){var e=wt[t];if(e){var n=e.textureCacheIds.indexOf(t);return n>-1&&e.textureCacheIds.splice(n,1),delete wt[t],e}}else if(t&&t.textureCacheIds){for(var a=0;a<t.textureCacheIds.length;++a)delete wt[t.textureCacheIds[a]];return t.textureCacheIds.length=0,t}return null},r._globalBatch=0,r}($e),ca=function(i){V(r,i);function r(t,e){var n=this,a=e||{},o=a.width,s=a.height;n=i.call(this,o,s)||this,n.items=[],n.itemDirtyIds=[];for(var h=0;h<t;h++){var u=new J;n.items.push(u),n.itemDirtyIds.push(-2)}return n.length=t,n._load=null,n.baseTexture=null,n}return r.prototype.initFromArray=function(t,e){for(var n=0;n<this.length;n++)!t[n]||(t[n].castToBaseTexture?this.addBaseTextureAt(t[n].castToBaseTexture(),n):t[n]instanceof Ve?this.addResourceAt(t[n],n):this.addResourceAt(fa(t[n],e),n))},r.prototype.dispose=function(){for(var t=0,e=this.length;t<e;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},r.prototype.addResourceAt=function(t,e){if(!this.items[e])throw new Error("Index "+e+" is out of bounds");return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[e].setResource(t),this},r.prototype.bind=function(t){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");i.prototype.bind.call(this,t);for(var e=0;e<this.length;e++)this.items[e].parentTextureArray=t,this.items[e].on("update",t.update,t)},r.prototype.unbind=function(t){i.prototype.unbind.call(this,t);for(var e=0;e<this.length;e++)this.items[e].parentTextureArray=null,this.items[e].off("update",t.update,t)},r.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.items.map(function(a){return a.resource}).filter(function(a){return a}),n=e.map(function(a){return a.load()});return this._load=Promise.all(n).then(function(){var a=t.items[0],o=a.realWidth,s=a.realHeight;return t.resize(o,s),Promise.resolve(t)}),this._load},r}(Ve),Gs=function(i){V(r,i);function r(t,e){var n=this,a=e||{},o=a.width,s=a.height,h,u;return Array.isArray(t)?(h=t,u=t.length):u=t,n=i.call(this,u,{width:o,height:s})||this,h&&n.initFromArray(h,e),n}return r.prototype.addBaseTextureAt=function(t,e){if(t.resource)this.addResourceAt(t.resource,e);else throw new Error("ArrayResource does not support RenderTexture");return this},r.prototype.bind=function(t){i.prototype.bind.call(this,t),t.target=Qt.TEXTURE_2D_ARRAY},r.prototype.upload=function(t,e,n){var a=this,o=a.length,s=a.itemDirtyIds,h=a.items,u=t.gl;n.dirtyId<0&&u.texImage3D(u.TEXTURE_2D_ARRAY,0,e.format,this._width,this._height,o,0,e.format,e.type,null);for(var c=0;c<o;c++){var f=h[c];s[c]<f.dirtyId&&(s[c]=f.dirtyId,f.valid&&u.texSubImage3D(u.TEXTURE_2D_ARRAY,0,0,0,c,f.resource.width,f.resource.height,1,e.format,e.type,f.resource.source))}return!0},r}(ca),Wt=function(i){V(r,i);function r(t){var e=this,n=t,a=n.naturalWidth||n.videoWidth||n.width,o=n.naturalHeight||n.videoHeight||n.height;return e=i.call(this,a,o)||this,e.source=t,e.noSubImage=!1,e}return r.crossOrigin=function(t,e,n){n===void 0&&e.indexOf("data:")!==0?t.crossOrigin=As(e):n!==!1&&(t.crossOrigin=typeof n=="string"?n:"anonymous")},r.prototype.upload=function(t,e,n,a){var o=t.gl,s=e.realWidth,h=e.realHeight;return a=a||this.source,o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===zt.UNPACK),!this.noSubImage&&e.target===o.TEXTURE_2D&&n.width===s&&n.height===h?o.texSubImage2D(o.TEXTURE_2D,0,0,0,e.format,e.type,a):(n.width=s,n.height=h,o.texImage2D(e.target,0,e.format,e.format,e.type,a)),!0},r.prototype.update=function(){if(!this.destroyed){var t=this.source,e=t.naturalWidth||t.videoWidth||t.width,n=t.naturalHeight||t.videoHeight||t.height;this.resize(e,n),i.prototype.update.call(this)}},r.prototype.dispose=function(){this.source=null},r}(Ve),da=function(i){V(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.test=function(t){var e=window.OffscreenCanvas;return e&&t instanceof e?!0:t instanceof HTMLCanvasElement},r}(Wt),Hs=function(i){V(r,i);function r(t,e){var n=this,a=e||{},o=a.width,s=a.height,h=a.autoLoad,u=a.linkBaseTexture;if(t&&t.length!==r.SIDES)throw new Error("Invalid length. Got "+t.length+", expected 6");n=i.call(this,6,{width:o,height:s})||this;for(var c=0;c<r.SIDES;c++)n.items[c].target=Qt.TEXTURE_CUBE_MAP_POSITIVE_X+c;return n.linkBaseTexture=u!==!1,t&&n.initFromArray(t,e),h!==!1&&n.load(),n}return r.prototype.bind=function(t){i.prototype.bind.call(this,t),t.target=Qt.TEXTURE_CUBE_MAP},r.prototype.addBaseTextureAt=function(t,e,n){if(n===void 0&&(n=this.linkBaseTexture),!this.items[e])throw new Error("Index "+e+" is out of bounds");if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0)if(t.resource)this.addResourceAt(t.resource,e);else throw new Error("CubeResource does not support copying of renderTexture.");else t.target=Qt.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this},r.prototype.upload=function(t,e,n){for(var a=this.itemDirtyIds,o=0;o<r.SIDES;o++){var s=this.items[o];a[o]<s.dirtyId&&(s.valid&&s.resource?(s.resource.upload(t,s,n),a[o]=s.dirtyId):a[o]<-1&&(t.gl.texImage2D(s.target,0,n.internalFormat,e.realWidth,e.realHeight,0,e.format,n.type,null),a[o]=-1))}return!0},r.test=function(t){return Array.isArray(t)&&t.length===r.SIDES},r.SIDES=6,r}(ca),pa=function(i){V(r,i);function r(t,e){var n=this;if(e=e||{},!(t instanceof HTMLImageElement)){var a=new Image;Wt.crossOrigin(a,t,e.crossorigin),a.src=t,t=a}return n=i.call(this,t)||this,!t.complete&&!!n._width&&!!n._height&&(n._width=0,n._height=0),n.url=t.src,n._process=null,n.preserveBitmap=!1,n.createBitmap=(e.createBitmap!==void 0?e.createBitmap:D.CREATE_IMAGE_BITMAP)&&!!window.createImageBitmap,n.alphaMode=typeof e.alphaMode=="number"?e.alphaMode:null,e.premultiplyAlpha!==void 0&&(n.premultiplyAlpha=e.premultiplyAlpha),n.bitmap=null,n._load=null,e.autoLoad!==!1&&n.load(),n}return r.prototype.load=function(t){var e=this;return this._load?this._load:(t!==void 0&&(this.createBitmap=t),this._load=new Promise(function(n,a){var o=e.source;e.url=o.src;var s=function(){e.destroyed||(o.onload=null,o.onerror=null,e.resize(o.width,o.height),e._load=null,e.createBitmap?n(e.process()):n(e))};o.complete&&o.src?s():(o.onload=s,o.onerror=function(h){a(h),e.onError.emit(h)})}),this._load)},r.prototype.process=function(){var t=this,e=this.source;return this._process!==null?this._process:this.bitmap!==null||!window.createImageBitmap?Promise.resolve(this):(this._process=window.createImageBitmap(e,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===zt.UNPACK?"premultiply":"none"}).then(function(n){return t.destroyed?Promise.reject():(t.bitmap=n,t.update(),t._process=null,Promise.resolve(t))}),this._process)},r.prototype.upload=function(t,e,n){if(typeof this.alphaMode=="number"&&(e.alphaMode=this.alphaMode),!this.createBitmap)return i.prototype.upload.call(this,t,e,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(i.prototype.upload.call(this,t,e,n,this.bitmap),!this.preserveBitmap){var a=!0,o=e._glTextures;for(var s in o){var h=o[s];if(h!==n&&h.dirtyId!==e.dirtyId){a=!1;break}}a&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},r.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,i.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},r.test=function(t){return typeof t=="string"||t instanceof HTMLImageElement},r}(Wt),js=function(i){V(r,i);function r(t,e){var n=this;return e=e||{},n=i.call(this,document.createElement("canvas"))||this,n._width=0,n._height=0,n.svg=t,n.scale=e.scale||1,n._overrideWidth=e.width,n._overrideHeight=e.height,n._resolve=null,n._crossorigin=e.crossorigin,n._load=null,e.autoLoad!==!1&&n.load(),n}return r.prototype.load=function(){var t=this;return this._load?this._load:(this._load=new Promise(function(e){if(t._resolve=function(){t.resize(t.source.width,t.source.height),e(t)},/^\<svg/.test(t.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");t.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(t.svg)))}t._loadSvg()}),this._load)},r.prototype._loadSvg=function(){var t=this,e=new Image;Wt.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=function(n){!t._resolve||(e.onerror=null,t.onError.emit(n))},e.onload=function(){if(!!t._resolve){var n=e.width,a=e.height;if(!n||!a)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var o=n*t.scale,s=a*t.scale;(t._overrideWidth||t._overrideHeight)&&(o=t._overrideWidth||t._overrideHeight/a*n,s=t._overrideHeight||t._overrideWidth/n*a),o=Math.round(o),s=Math.round(s);var h=t.source;h.width=o,h.height=s,h._pixiId="canvas_"+Te(),h.getContext("2d").drawImage(e,0,0,n,a,0,0,o,s),t._resolve(),t._resolve=null}}},r.getSize=function(t){var e=r.SVG_SIZE.exec(t),n={};return e&&(n[e[1]]=Math.round(parseFloat(e[3])),n[e[5]]=Math.round(parseFloat(e[7]))),n},r.prototype.dispose=function(){i.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},r.test=function(t,e){return e==="svg"||typeof t=="string"&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(t)||typeof t=="string"&&t.indexOf("<svg")===0},r.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,r}(Wt),Vs=function(i){V(r,i);function r(t,e){var n=this;if(e=e||{},!(t instanceof HTMLVideoElement)){var a=document.createElement("video");a.setAttribute("preload","auto"),a.setAttribute("webkit-playsinline",""),a.setAttribute("playsinline",""),typeof t=="string"&&(t=[t]);var o=t[0].src||t[0];Wt.crossOrigin(a,o,e.crossorigin);for(var s=0;s<t.length;++s){var h=document.createElement("source"),u=t[s],c=u.src,f=u.mime;c=c||t[s];var l=c.split("?").shift().toLowerCase(),d=l.substr(l.lastIndexOf(".")+1);f=f||r.MIME_TYPES[d]||"video/"+d,h.src=c,h.type=f,a.appendChild(h)}t=a}return n=i.call(this,t)||this,n.noSubImage=!0,n._autoUpdate=!0,n._isConnectedToTicker=!1,n._updateFPS=e.updateFPS||0,n._msToNextUpdate=0,n.autoPlay=e.autoPlay!==!1,n._load=null,n._resolve=null,n._onCanPlay=n._onCanPlay.bind(n),n._onError=n._onError.bind(n),e.autoLoad!==!1&&n.load(),n}return r.prototype.update=function(t){if(!this.destroyed){var e=dt.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e),(!this._updateFPS||this._msToNextUpdate<=0)&&(i.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},r.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart.bind(this)),e.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise(function(n){t.valid?n(t):(t._resolve=n,e.load())}),this._load},r.prototype._onError=function(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)},r.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&t.paused===!1&&t.ended===!1&&t.readyState>2},r.prototype._isSourceReady=function(){var t=this.source;return t.readyState===3||t.readyState===4},r.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(dt.shared.add(this.update,this),this._isConnectedToTicker=!0)},r.prototype._onPlayStop=function(){this._isConnectedToTicker&&(dt.shared.remove(this.update,this),this._isConnectedToTicker=!1)},r.prototype._onCanPlay=function(){var t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);var e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()},r.prototype.dispose=function(){this._isConnectedToTicker&&dt.shared.remove(this.update,this);var t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),i.prototype.dispose.call(this)},Object.defineProperty(r.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(dt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(dt.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(t){t!==this._updateFPS&&(this._updateFPS=t)},enumerable:!1,configurable:!0}),r.test=function(t,e){return t instanceof HTMLVideoElement||r.TYPES.indexOf(e)>-1},r.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],r.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},r}(Wt),zs=function(i){V(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.test=function(t){return!!window.createImageBitmap&&t instanceof ImageBitmap},r}(Wt);ni.push(pa,zs,da,Vs,js,ci,Hs,Gs);var dc={Resource:Ve,BaseImageResource:Wt,INSTALLED:ni,autoDetectResource:fa,AbstractMultiResource:ca,ArrayResource:Gs,BufferResource:ci,CanvasResource:da,CubeResource:Hs,ImageResource:pa,SVGResource:js,VideoResource:Vs,ImageBitmapResource:zs},Tt=function(){function i(r){this.renderer=r}return i.prototype.destroy=function(){this.renderer=null},i}(),pc=function(i){V(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.upload=function(t,e,n){var a=t.gl;return a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===zt.UNPACK),n.width===e.width&&n.height===e.height?a.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(n.width=e.width,n.height=e.height,a.texImage2D(e.target,0,t.context.webGLVersion===1?a.DEPTH_COMPONENT:a.DEPTH_COMPONENT16,e.width,e.height,0,e.format,e.type,this.data)),!0},r}(ci),ai=function(){function i(r,t){this.width=Math.ceil(r||100),this.height=Math.ceil(t||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new vt("disposeFramebuffer"),this.multisample=xe.NONE}return Object.defineProperty(i.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),i.prototype.addColorTexture=function(r,t){return r===void 0&&(r=0),this.colorTextures[r]=t||new J(null,{scaleMode:Ct.NEAREST,resolution:1,mipmap:He.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},i.prototype.addDepthTexture=function(r){return this.depthTexture=r||new J(new pc(null,{width:this.width,height:this.height}),{scaleMode:Ct.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:He.OFF,format:Ge.DEPTH_COMPONENT,type:st.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},i.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},i.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},i.prototype.resize=function(r,t){if(r=Math.ceil(r),t=Math.ceil(t),!(r===this.width&&t===this.height)){this.width=r,this.height=t,this.dirtyId++,this.dirtySize++;for(var e=0;e<this.colorTextures.length;e++){var n=this.colorTextures[e],a=n.resolution;n.setSize(r/a,t/a)}if(this.depthTexture){var a=this.depthTexture.resolution;this.depthTexture.setSize(r/a,t/a)}}},i.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},i.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},i}(),lr=function(i){V(r,i);function r(t){var e=this;if(typeof t=="number"){var n=arguments[0],a=arguments[1],o=arguments[2],s=arguments[3];t={width:n,height:a,scaleMode:o,resolution:s}}e=i.call(this,null,t)||this;var h=t||{},u=h.width,c=h.height;return e.mipmap=0,e.width=Math.ceil(u)||100,e.height=Math.ceil(c)||100,e.valid=!0,e.clearColor=[0,0,0,0],e.framebuffer=new ai(e.width*e.resolution,e.height*e.resolution).addColorTexture(0,e),e.maskStack=[],e.filterStack=[{}],e}return r.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),this.framebuffer.resize(t*this.resolution,e*this.resolution)},r.prototype.dispose=function(){this.framebuffer.dispose(),i.prototype.dispose.call(this)},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},r}(J),va=function(){function i(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return i.prototype.set=function(r,t,e){var n=t.width,a=t.height;if(e){var o=r.width/2/n,s=r.height/2/a,h=r.x/n+o,u=r.y/a+s;e=Q.add(e,Q.NW),this.x0=h+o*Q.uX(e),this.y0=u+s*Q.uY(e),e=Q.add(e,2),this.x1=h+o*Q.uX(e),this.y1=u+s*Q.uY(e),e=Q.add(e,2),this.x2=h+o*Q.uX(e),this.y2=u+s*Q.uY(e),e=Q.add(e,2),this.x3=h+o*Q.uX(e),this.y3=u+s*Q.uY(e)}else this.x0=r.x/n,this.y0=r.y/a,this.x1=(r.x+r.width)/n,this.y1=r.y/a,this.x2=(r.x+r.width)/n,this.y2=(r.y+r.height)/a,this.x3=r.x/n,this.y3=(r.y+r.height)/a;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},i}(),lo=new va,G=function(i){V(r,i);function r(t,e,n,a,o,s){var h=i.call(this)||this;if(h.noFrame=!1,e||(h.noFrame=!0,e=new q(0,0,1,1)),t instanceof r&&(t=t.baseTexture),h.baseTexture=t,h._frame=e,h.trim=a,h.valid=!1,h._uvs=lo,h.uvMatrix=null,h.orig=n||e,h._rotate=Number(o||0),o===!0)h._rotate=2;else if(h._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return h.defaultAnchor=s?new pt(s.x,s.y):new pt(0,0),h._updateID=0,h.textureCacheIds=[],t.valid?h.noFrame?t.valid&&h.onBaseTextureUpdated(t):h.frame=e:t.once("loaded",h.onBaseTextureUpdated,h),h.noFrame&&t.on("update",h.onBaseTextureUpdated,h),h}return r.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},r.prototype.onBaseTextureUpdated=function(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},r.prototype.destroy=function(t){if(this.baseTexture){if(t){var e=this.baseTexture;e&&e.url&&bt[e.url]&&r.removeFromCache(e.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,r.removeFromCache(this),this.textureCacheIds=null},r.prototype.clone=function(){return new r(this.baseTexture,this.frame.clone(),this.orig.clone(),this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor)},r.prototype.updateUvs=function(){this._uvs===lo&&(this._uvs=new va),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},r.from=function(t,e,n){e===void 0&&(e={}),n===void 0&&(n=D.STRICT_TEXTURE_CACHE);var a=typeof t=="string",o=null;a?o=t:(t._pixiId||(t._pixiId="pixiid_"+Te()),o=t._pixiId);var s=bt[o];if(a&&n&&!s)throw new Error('The cacheId "'+o+'" does not exist in TextureCache.');return s||(e.resolution||(e.resolution=mr(t)),s=new r(new J(t,e)),s.baseTexture.cacheId=o,J.addToCache(s.baseTexture,o),r.addToCache(s,o)),s},r.fromURL=function(t,e){var n=Object.assign({autoLoad:!1},e==null?void 0:e.resourceOptions),a=r.from(t,Object.assign({resourceOptions:n},e),!1),o=a.baseTexture.resource;return a.baseTexture.valid?Promise.resolve(a):o.load().then(function(){return Promise.resolve(a)})},r.fromBuffer=function(t,e,n,a){return new r(J.fromBuffer(t,e,n,a))},r.fromLoader=function(t,e,n){var a=new pa(t);a.url=e;var o=new J(a,{scaleMode:D.SCALE_MODE,resolution:mr(e)}),s=new r(o);return n||(n=e),J.addToCache(s.baseTexture,n),r.addToCache(s,n),n!==e&&(J.addToCache(s.baseTexture,e),r.addToCache(s,e)),s},r.addToCache=function(t,e){e&&(t.textureCacheIds.indexOf(e)===-1&&t.textureCacheIds.push(e),bt[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),bt[e]=t)},r.removeFromCache=function(t){if(typeof t=="string"){var e=bt[t];if(e){var n=e.textureCacheIds.indexOf(t);return n>-1&&e.textureCacheIds.splice(n,1),delete bt[t],e}}else if(t&&t.textureCacheIds){for(var a=0;a<t.textureCacheIds.length;++a)bt[t.textureCacheIds[a]]===t&&delete bt[t.textureCacheIds[a]];return t.textureCacheIds.length=0,t}return null},Object.defineProperty(r.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"frame",{get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var e=t.x,n=t.y,a=t.width,o=t.height,s=e+a>this.baseTexture.width,h=n+o>this.baseTexture.height;if(s||h){var u=s&&h?"and":"or",c="X: "+e+" + "+a+" = "+(e+a)+" > "+this.baseTexture.width,f="Y: "+n+" + "+o+" = "+(n+o)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(c+" "+u+" "+f))}this.valid=a&&o&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=t),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"rotate",{get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),r.prototype.castToBaseTexture=function(){return this.baseTexture},r}($e);function vc(){var i=document.createElement("canvas");i.width=16,i.height=16;var r=i.getContext("2d");return r.fillStyle="white",r.fillRect(0,0,16,16),new G(new J(new da(i)))}function di(i){i.destroy=function(){},i.on=function(){},i.once=function(){},i.emit=function(){}}G.EMPTY=new G(new J);di(G.EMPTY);di(G.EMPTY.baseTexture);G.WHITE=vc();di(G.WHITE);di(G.WHITE.baseTexture);var ee=function(i){V(r,i);function r(t,e){var n=this,a=null;if(!(t instanceof lr)){var o=arguments[1],s=arguments[2],h=arguments[3],u=arguments[4];console.warn("Please use RenderTexture.create("+o+", "+s+") instead of the ctor directly."),a=arguments[0],e=null,t=new lr({width:o,height:s,scaleMode:h,resolution:u})}return n=i.call(this,t,e)||this,n.legacyRenderer=a,n.valid=!0,n.filterFrame=null,n.filterPoolKey=null,n.updateUvs(),n}return Object.defineProperty(r.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),r.prototype.resize=function(t,e,n){n===void 0&&(n=!0),t=Math.ceil(t),e=Math.ceil(e),this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,n&&this.baseTexture.resize(t,e),this.updateUvs()},r.prototype.setResolution=function(t){var e=this.baseTexture;e.resolution!==t&&(e.setResolution(t),this.resize(e.width,e.height,!1))},r.create=function(t){return typeof t=="number"&&(t={width:t,height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),new r(new lr(t))},r}(G),Ws=function(){function i(r){this.texturePool={},this.textureOptions=r||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return i.prototype.createTexture=function(r,t){var e=new lr(Object.assign({width:r,height:t,resolution:1},this.textureOptions));return new ee(e)},i.prototype.getOptimalTexture=function(r,t,e){e===void 0&&(e=1);var n=i.SCREEN_KEY;r*=e,t*=e,(!this.enableFullScreen||r!==this._pixelsWidth||t!==this._pixelsHeight)&&(r=yr(r),t=yr(t),n=(r&65535)<<16|t&65535),this.texturePool[n]||(this.texturePool[n]=[]);var a=this.texturePool[n].pop();return a||(a=this.createTexture(r,t)),a.filterPoolKey=n,a.setResolution(e),a},i.prototype.getFilterTexture=function(r,t){var e=this.getOptimalTexture(r.width,r.height,t||r.resolution);return e.filterFrame=r.filterFrame,e},i.prototype.returnTexture=function(r){var t=r.filterPoolKey;r.filterFrame=null,this.texturePool[t].push(r)},i.prototype.returnFilterTexture=function(r){this.returnTexture(r)},i.prototype.clear=function(r){if(r=r!==!1,r)for(var t in this.texturePool){var e=this.texturePool[t];if(e)for(var n=0;n<e.length;n++)e[n].destroy(!0)}this.texturePool={}},i.prototype.setScreenSize=function(r){if(!(r.width===this._pixelsWidth&&r.height===this._pixelsHeight)){var t=i.SCREEN_KEY,e=this.texturePool[t];if(this.enableFullScreen=r.width>0&&r.height>0,e)for(var n=0;n<e.length;n++)e[n].destroy(!0);this.texturePool[t]=[],this._pixelsWidth=r.width,this._pixelsHeight=r.height}},i.SCREEN_KEY="screen",i}(),xn=function(){function i(r,t,e,n,a,o,s){t===void 0&&(t=0),e===void 0&&(e=!1),n===void 0&&(n=5126),this.buffer=r,this.size=t,this.normalized=e,this.type=n,this.stride=a,this.start=o,this.instance=s}return i.prototype.destroy=function(){this.buffer=null},i.from=function(r,t,e,n,a){return new i(r,t,e,n,a)},i}(),yc=0,ct=function(){function i(r,t,e){t===void 0&&(t=!0),e===void 0&&(e=!1),this.data=r||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=e,this.static=t,this.id=yc++,this.disposeRunner=new vt("disposeBuffer")}return i.prototype.update=function(r){this.data=r||this.data,this._updateID++},i.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},i.prototype.destroy=function(){this.dispose(),this.data=null},i.from=function(r){return r instanceof Array&&(r=new Float32Array(r)),new i(r)},i}();function Ys(i){if(i.BYTES_PER_ELEMENT===4)return i instanceof Float32Array?"Float32Array":i instanceof Uint32Array?"Uint32Array":"Int32Array";if(i.BYTES_PER_ELEMENT===2){if(i instanceof Uint16Array)return"Uint16Array"}else if(i.BYTES_PER_ELEMENT===1&&i instanceof Uint8Array)return"Uint8Array";return null}var mc={Float32Array,Uint32Array,Int32Array,Uint8Array};function gc(i,r){for(var t=0,e=0,n={},a=0;a<i.length;a++)e+=r[a],t+=i[a].length;for(var o=new ArrayBuffer(t*4),s=null,h=0,a=0;a<i.length;a++){var u=r[a],c=i[a],f=Ys(c);n[f]||(n[f]=new mc[f](o)),s=n[f];for(var l=0;l<c.length;l++){var d=(l/u|0)*e+h,p=l%u;s[d+p]=c[l]}h+=u}return new Float32Array(o)}var fo={5126:4,5123:2,5121:1},_c=0,xc={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},Ze=function(){function i(r,t){r===void 0&&(r=[]),t===void 0&&(t={}),this.buffers=r,this.indexBuffer=null,this.attributes=t,this.glVertexArrayObjects={},this.id=_c++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new vt("disposeGeometry"),this.refCount=0}return i.prototype.addAttribute=function(r,t,e,n,a,o,s,h){if(e===void 0&&(e=0),n===void 0&&(n=!1),h===void 0&&(h=!1),!t)throw new Error("You must pass a buffer when creating an attribute");t instanceof ct||(t instanceof Array&&(t=new Float32Array(t)),t=new ct(t));var u=r.split("|");if(u.length>1){for(var c=0;c<u.length;c++)this.addAttribute(u[c],t,e,n,a);return this}var f=this.buffers.indexOf(t);return f===-1&&(this.buffers.push(t),f=this.buffers.length-1),this.attributes[r]=new xn(f,e,n,a,o,s,h),this.instanced=this.instanced||h,this},i.prototype.getAttribute=function(r){return this.attributes[r]},i.prototype.getBuffer=function(r){return this.buffers[this.getAttribute(r).buffer]},i.prototype.addIndex=function(r){return r instanceof ct||(r instanceof Array&&(r=new Uint16Array(r)),r=new ct(r)),r.index=!0,this.indexBuffer=r,this.buffers.indexOf(r)===-1&&this.buffers.push(r),this},i.prototype.getIndex=function(){return this.indexBuffer},i.prototype.interleave=function(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;var r=[],t=[],e=new ct,n;for(n in this.attributes){var a=this.attributes[n],o=this.buffers[a.buffer];r.push(o.data),t.push(a.size*fo[a.type]/4),a.buffer=0}for(e.data=gc(r,t),n=0;n<this.buffers.length;n++)this.buffers[n]!==this.indexBuffer&&this.buffers[n].destroy();return this.buffers=[e],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},i.prototype.getSize=function(){for(var r in this.attributes){var t=this.attributes[r],e=this.buffers[t.buffer];return e.data.length/(t.stride/4||t.size)}return 0},i.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},i.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},i.prototype.clone=function(){for(var r=new i,t=0;t<this.buffers.length;t++)r.buffers[t]=new ct(this.buffers[t].data.slice(0));for(var t in this.attributes){var e=this.attributes[t];r.attributes[t]=new xn(e.buffer,e.size,e.normalized,e.type,e.stride,e.start,e.instance)}return this.indexBuffer&&(r.indexBuffer=r.buffers[this.buffers.indexOf(this.indexBuffer)],r.indexBuffer.index=!0),r},i.merge=function(r){for(var t=new i,e=[],n=[],a=[],o,s=0;s<r.length;s++){o=r[s];for(var h=0;h<o.buffers.length;h++)n[h]=n[h]||0,n[h]+=o.buffers[h].data.length,a[h]=0}for(var s=0;s<o.buffers.length;s++)e[s]=new xc[Ys(o.buffers[s].data)](n[s]),t.buffers[s]=new ct(e[s]);for(var s=0;s<r.length;s++){o=r[s];for(var h=0;h<o.buffers.length;h++)e[h].set(o.buffers[h].data,a[h]),a[h]+=o.buffers[h].data.length}if(t.attributes=o.attributes,o.indexBuffer){t.indexBuffer=t.buffers[o.buffers.indexOf(o.indexBuffer)],t.indexBuffer.index=!0;for(var u=0,c=0,f=0,l=0,s=0;s<o.buffers.length;s++)if(o.buffers[s]!==o.indexBuffer){l=s;break}for(var s in o.attributes){var d=o.attributes[s];(d.buffer|0)===l&&(c+=d.size*fo[d.type]/4)}for(var s=0;s<r.length;s++){for(var p=r[s].indexBuffer.data,h=0;h<p.length;h++)t.indexBuffer.data[h+f]+=u;u+=o.buffers[l].data.length/c,f+=p.length}}return t},i}(),$s=function(i){V(r,i);function r(){var t=i.call(this)||this;return t.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),t}return r}(Ze),ya=function(i){V(r,i);function r(){var t=i.call(this)||this;return t.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),t.uvs=new Float32Array([0,0,1,0,1,1,0,1]),t.vertexBuffer=new ct(t.vertices),t.uvBuffer=new ct(t.uvs),t.addAttribute("aVertexPosition",t.vertexBuffer).addAttribute("aTextureCoord",t.uvBuffer).addIndex([0,1,2,0,2,3]),t}return r.prototype.map=function(t,e){var n=0,a=0;return this.uvs[0]=n,this.uvs[1]=a,this.uvs[2]=n+e.width/t.width,this.uvs[3]=a,this.uvs[4]=n+e.width/t.width,this.uvs[5]=a+e.height/t.height,this.uvs[6]=n,this.uvs[7]=a+e.height/t.height,n=e.x,a=e.y,this.vertices[0]=n,this.vertices[1]=a,this.vertices[2]=n+e.width,this.vertices[3]=a,this.vertices[4]=n+e.width,this.vertices[5]=a+e.height,this.vertices[6]=n,this.vertices[7]=a+e.height,this.invalidate(),this},r.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},r}(Ze),bc=0,te=function(){function i(r,t){this.uniforms=r,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=bc++,this.static=!!t}return i.prototype.update=function(){this.dirtyId++},i.prototype.add=function(r,t,e){this.uniforms[r]=new i(t,e)},i.from=function(r,t){return new i(r,t)},i}(),qs=function(){function i(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new q,this.destinationFrame=new q,this.filters=[]}return i.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},i}(),Zs=function(i){V(r,i);function r(t){var e=i.call(this,t)||this;return e.defaultFilterStack=[{}],e.texturePool=new Ws,e.texturePool.setScreenSize(t.view),e.statePool=[],e.quad=new $s,e.quadUv=new ya,e.tempRect=new q,e.activeState={},e.globalUniforms=new te({outputFrame:e.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),e.forceClear=!1,e.useMaxPadding=!1,e}return r.prototype.push=function(t,e){for(var n=this.renderer,a=this.defaultFilterStack,o=this.statePool.pop()||new qs,s=e[0].resolution,h=e[0].padding,u=e[0].autoFit,c=e[0].legacy,f=1;f<e.length;f++){var l=e[f];s=Math.min(s,l.resolution),h=this.useMaxPadding?Math.max(h,l.padding):h+l.padding,u=u&&l.autoFit,c=c||l.legacy}a.length===1&&(this.defaultFilterStack[0].renderTexture=n.renderTexture.current),a.push(o),o.resolution=s,o.legacy=c,o.target=t,o.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),o.sourceFrame.pad(h),u&&o.sourceFrame.fit(this.renderer.renderTexture.sourceFrame),o.sourceFrame.ceil(s),o.renderTexture=this.getOptimalFilterTexture(o.sourceFrame.width,o.sourceFrame.height,s),o.filters=e,o.destinationFrame.width=o.renderTexture.width,o.destinationFrame.height=o.renderTexture.height;var d=this.tempRect;d.width=o.sourceFrame.width,d.height=o.sourceFrame.height,o.renderTexture.filterFrame=o.sourceFrame,n.renderTexture.bind(o.renderTexture,o.sourceFrame,d),n.renderTexture.clear()},r.prototype.pop=function(){var t=this.defaultFilterStack,e=t.pop(),n=e.filters;this.activeState=e;var a=this.globalUniforms.uniforms;a.outputFrame=e.sourceFrame,a.resolution=e.resolution;var o=a.inputSize,s=a.inputPixel,h=a.inputClamp;if(o[0]=e.destinationFrame.width,o[1]=e.destinationFrame.height,o[2]=1/o[0],o[3]=1/o[1],s[0]=o[0]*e.resolution,s[1]=o[1]*e.resolution,s[2]=1/s[0],s[3]=1/s[1],h[0]=.5*s[2],h[1]=.5*s[3],h[2]=e.sourceFrame.width*o[2]-.5*s[2],h[3]=e.sourceFrame.height*o[3]-.5*s[3],e.legacy){var u=a.filterArea;u[0]=e.destinationFrame.width,u[1]=e.destinationFrame.height,u[2]=e.sourceFrame.x,u[3]=e.sourceFrame.y,a.filterClamp=a.inputClamp}this.globalUniforms.update();var c=t[t.length-1];if(e.renderTexture.framebuffer.multisample>1&&this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,e.renderTexture,c.renderTexture,Ot.BLEND,e),this.returnFilterTexture(e.renderTexture);else{var f=e.renderTexture,l=this.getOptimalFilterTexture(f.width,f.height,e.resolution);l.filterFrame=f.filterFrame;var d=0;for(d=0;d<n.length-1;++d){n[d].apply(this,f,l,Ot.CLEAR,e);var p=f;f=l,l=p}n[d].apply(this,f,c.renderTexture,Ot.BLEND,e),this.returnFilterTexture(f),this.returnFilterTexture(l)}e.clear(),this.statePool.push(e)},r.prototype.bindAndClear=function(t,e){if(e===void 0&&(e=Ot.CLEAR),t&&t.filterFrame){var n=this.tempRect;n.width=t.filterFrame.width,n.height=t.filterFrame.height,this.renderer.renderTexture.bind(t,t.filterFrame,n)}else this.renderer.renderTexture.bind(t);typeof e=="boolean"&&(e=e?Ot.CLEAR:Ot.BLEND,I("5.2.1","Use CLEAR_MODES when using clear applyFilter option")),(e===Ot.CLEAR||e===Ot.BLIT&&this.forceClear)&&this.renderer.renderTexture.clear()},r.prototype.applyFilter=function(t,e,n,a){var o=this.renderer;this.bindAndClear(n,a),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,o.state.set(t.state),o.shader.bind(t),t.legacy?(this.quadUv.map(e._frame,e.filterFrame),o.geometry.bind(this.quadUv),o.geometry.draw(It.TRIANGLES)):(o.geometry.bind(this.quad),o.geometry.draw(It.TRIANGLE_STRIP))},r.prototype.calculateSpriteMatrix=function(t,e){var n=this.activeState,a=n.sourceFrame,o=n.destinationFrame,s=e._texture.orig,h=t.set(o.width,0,0,o.height,a.x,a.y),u=e.worldTransform.copyTo(ht.TEMP_MATRIX);return u.invert(),h.prepend(u),h.scale(1/s.width,1/s.height),h.translate(e.anchor.x,e.anchor.y),h},r.prototype.destroy=function(){this.texturePool.clear(!1)},r.prototype.getOptimalFilterTexture=function(t,e,n){return n===void 0&&(n=1),this.texturePool.getOptimalTexture(t,e,n)},r.prototype.getFilterTexture=function(t,e){if(typeof t=="number"){var n=t;t=e,e=n}t=t||this.activeState.renderTexture;var a=this.texturePool.getOptimalTexture(t.width,t.height,e||t.resolution);return a.filterFrame=t.filterFrame,a},r.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},r.prototype.emptyPool=function(){this.texturePool.clear(!0)},r.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},r}(Tt),wr=function(){function i(r){this.renderer=r}return i.prototype.flush=function(){},i.prototype.destroy=function(){this.renderer=null},i.prototype.start=function(){},i.prototype.stop=function(){this.flush()},i.prototype.render=function(r){},i}(),Ks=function(i){V(r,i);function r(t){var e=i.call(this,t)||this;return e.emptyRenderer=new wr(t),e.currentRenderer=e.emptyRenderer,e}return r.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},r.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},r.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},r.prototype.copyBoundTextures=function(t,e){for(var n=this.renderer.texture.boundTextures,a=e-1;a>=0;--a)t[a]=n[a]||null,t[a]&&(t[a]._batchLocation=a)},r.prototype.boundArray=function(t,e,n,a){for(var o=t.elements,s=t.ids,h=t.count,u=0,c=0;c<h;c++){var f=o[c],l=f._batchLocation;if(l>=0&&l<a&&e[l]===f){s[c]=l;continue}for(;u<a;){var d=e[u];if(d&&d._batchEnabled===n&&d._batchLocation===u){u++;continue}s[c]=u,f._batchLocation=u,e[u]=f;break}}},r}(Tt),co=0,Js=function(i){V(r,i);function r(t){var e=i.call(this,t)||this;return e.webGLVersion=1,e.extensions={},e.supports={uint32Indices:!1},e.handleContextLost=e.handleContextLost.bind(e),e.handleContextRestored=e.handleContextRestored.bind(e),t.view.addEventListener("webglcontextlost",e.handleContextLost,!1),t.view.addEventListener("webglcontextrestored",e.handleContextRestored,!1),e}return Object.defineProperty(r.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),r.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=co++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},r.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=co++,this.renderer.runners.contextChange.emit(t)},r.prototype.initFromOptions=function(t){var e=this.createContext(this.renderer.view,t);this.initFromContext(e)},r.prototype.createContext=function(t,e){var n;if(D.PREFER_ENV>=Dt.WEBGL2&&(n=t.getContext("webgl2",e)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=t.getContext("webgl",e)||t.getContext("experimental-webgl",e),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl},r.prototype.getExtensions=function(){var t=this.gl;this.webGLVersion===1?Object.assign(this.extensions,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,{anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),colorBufferFloat:t.getExtension("EXT_color_buffer_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear")})},r.prototype.handleContextLost=function(t){t.preventDefault()},r.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},r.prototype.destroy=function(){var t=this.renderer.view;t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},r.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},r.prototype.validateContext=function(t){var e=t.getContextAttributes(),n="WebGL2RenderingContext"in window&&t instanceof window.WebGL2RenderingContext;n&&(this.webGLVersion=2),e.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var a=n||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=a,a||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},r}(Tt),Qs=function(){function i(r){this.framebuffer=r,this.stencil=null,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.multisample=xe.NONE,this.msaaBuffer=null,this.blitFramebuffer=null}return i}(),Tc=new q,th=function(i){V(r,i);function r(t){var e=i.call(this,t)||this;return e.managedFramebuffers=[],e.unknownFramebuffer=new ai(10,10),e.msaaSamples=null,e}return r.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new q,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),this.renderer.context.webGLVersion===1){var e=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;D.PREFER_ENV===Dt.WEBGL_LEGACY&&(e=null,n=null),e?t.drawBuffers=function(a){return e.drawBuffersWEBGL(a)}:(this.hasMRT=!1,t.drawBuffers=function(){}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)},r.prototype.bind=function(t,e){var n=this.gl;if(t){var a=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,n.bindFramebuffer(n.FRAMEBUFFER,a.framebuffer)),a.dirtyId!==t.dirtyId&&(a.dirtyId=t.dirtyId,a.dirtyFormat!==t.dirtyFormat?(a.dirtyFormat=t.dirtyFormat,this.updateFramebuffer(t)):a.dirtySize!==t.dirtySize&&(a.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var o=0;o<t.colorTextures.length;o++){var s=t.colorTextures[o];this.renderer.texture.unbind(s.parentTextureArray||s)}t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,t.width,t.height)}else this.current&&(this.current=null,n.bindFramebuffer(n.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},r.prototype.setViewport=function(t,e,n,a){var o=this.viewport;(o.width!==n||o.height!==a||o.x!==t||o.y!==e)&&(o.x=t,o.y=e,o.width=n,o.height=a,this.gl.viewport(t,e,n,a))},Object.defineProperty(r.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),r.prototype.clear=function(t,e,n,a,o){o===void 0&&(o=vr.COLOR|vr.DEPTH);var s=this.gl;s.clearColor(t,e,n,a),s.clear(o)},r.prototype.initFramebuffer=function(t){var e=this.gl,n=new Qs(e.createFramebuffer());return n.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(t),t.disposeRunner.add(this),n},r.prototype.resizeFramebuffer=function(t){var e=this.gl,n=t.glFramebuffers[this.CONTEXT_UID];n.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,n.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));for(var a=t.colorTextures,o=0;o<a.length;o++)this.renderer.texture.bind(a[o],0);t.depthTexture&&this.renderer.texture.bind(t.depthTexture,0)},r.prototype.updateFramebuffer=function(t){var e=this.gl,n=t.glFramebuffers[this.CONTEXT_UID],a=t.colorTextures,o=a.length;e.drawBuffers||(o=Math.min(o,1)),n.multisample>1&&(n.msaaBuffer=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,n.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,n.multisample,e.RGBA8,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,n.msaaBuffer));for(var s=[],h=0;h<o;h++)if(!(h===0&&n.multisample>1)){var u=t.colorTextures[h],c=u.parentTextureArray||u;this.renderer.texture.bind(c,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+h,u.target,c._glTextures[this.CONTEXT_UID].texture,0),s.push(e.COLOR_ATTACHMENT0+h)}if(s.length>1&&e.drawBuffers(s),t.depthTexture){var f=this.writeDepthTexture;if(f){var l=t.depthTexture;this.renderer.texture.bind(l,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,l._glTextures[this.CONTEXT_UID].texture,0)}}!n.stencil&&(t.stencil||t.depth)&&(n.stencil=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,n.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height),t.depthTexture||e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,n.stencil))},r.prototype.detectSamples=function(t){var e=this.msaaSamples,n=xe.NONE;if(t<=1||e===null)return n;for(var a=0;a<e.length;a++)if(e[a]<=t){n=e[a];break}return n===1&&(n=xe.NONE),n},r.prototype.blit=function(t,e,n){var a=this,o=a.current,s=a.renderer,h=a.gl,u=a.CONTEXT_UID;if(s.context.webGLVersion===2&&!!o){var c=o.glFramebuffers[u];if(!!c){if(!t){if(c.multisample<=1)return;c.blitFramebuffer||(c.blitFramebuffer=new ai(o.width,o.height),c.blitFramebuffer.addColorTexture(0,o.colorTextures[0])),t=c.blitFramebuffer,t.width=o.width,t.height=o.height}e||(e=Tc,e.width=o.width,e.height=o.height),n||(n=e);var f=e.width===n.width&&e.height===n.height;this.bind(t),h.bindFramebuffer(h.READ_FRAMEBUFFER,c.framebuffer),h.blitFramebuffer(e.x,e.y,e.width,e.height,n.x,n.y,n.width,n.height,h.COLOR_BUFFER_BIT,f?h.NEAREST:h.LINEAR)}}},r.prototype.disposeFramebuffer=function(t,e){var n=t.glFramebuffers[this.CONTEXT_UID],a=this.gl;if(!!n){delete t.glFramebuffers[this.CONTEXT_UID];var o=this.managedFramebuffers.indexOf(t);o>=0&&this.managedFramebuffers.splice(o,1),t.disposeRunner.remove(this),e||(a.deleteFramebuffer(n.framebuffer),n.stencil&&a.deleteRenderbuffer(n.stencil))}},r.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var n=0;n<e.length;n++)this.disposeFramebuffer(e[n],t)},r.prototype.forceStencil=function(){var t=this.current;if(!!t){var e=t.glFramebuffers[this.CONTEXT_UID];if(!(!e||e.stencil)){t.enableStencil();var n=t.width,a=t.height,o=this.gl,s=o.createRenderbuffer();o.bindRenderbuffer(o.RENDERBUFFER,s),o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_STENCIL,n,a),e.stencil=s,o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_STENCIL_ATTACHMENT,o.RENDERBUFFER,s)}}},r.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new q},r}(Tt),wc=function(){function i(r){this.buffer=r||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}return i}(),Mi={5126:4,5123:2,5121:1},eh=function(i){V(r,i);function r(t){var e=i.call(this,t)||this;return e._activeGeometry=null,e._activeVao=null,e.hasVao=!0,e.hasInstance=!0,e.canUseUInt32ElementIndex=!1,e.managedGeometries={},e.managedBuffers={},e}return r.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,e.webGLVersion!==2){var n=this.renderer.context.extensions.vertexArrayObject;D.PREFER_ENV===Dt.WEBGL_LEGACY&&(n=null),n?(t.createVertexArray=function(){return n.createVertexArrayOES()},t.bindVertexArray=function(o){return n.bindVertexArrayOES(o)},t.deleteVertexArray=function(o){return n.deleteVertexArrayOES(o)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})}if(e.webGLVersion!==2){var a=t.getExtension("ANGLE_instanced_arrays");a?(t.vertexAttribDivisor=function(o,s){return a.vertexAttribDivisorANGLE(o,s)},t.drawElementsInstanced=function(o,s,h,u,c){return a.drawElementsInstancedANGLE(o,s,h,u,c)},t.drawArraysInstanced=function(o,s,h,u){return a.drawArraysInstancedANGLE(o,s,h,u)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=e.webGLVersion===2||!!e.extensions.uint32ElementIndex},r.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var n=this.gl,a=t.glVertexArrayObjects[this.CONTEXT_UID],o=!1;a||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=a={},o=!0);var s=a[e.program.id]||this.initGeometryVao(t,e.program,o);this._activeGeometry=t,this._activeVao!==s&&(this._activeVao=s,this.hasVao?n.bindVertexArray(s):this.activateVao(t,e.program)),this.updateBuffers()},r.prototype.reset=function(){this.unbind()},r.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this.gl,n=0;n<t.buffers.length;n++){var a=t.buffers[n],o=a._glBuffers[this.CONTEXT_UID];if(a._updateID!==o.updateID){o.updateID=a._updateID;var s=a.index?e.ELEMENT_ARRAY_BUFFER:e.ARRAY_BUFFER;if(e.bindBuffer(s,o.buffer),this._boundBuffer=o,o.byteLength>=a.data.byteLength)e.bufferSubData(s,0,a.data);else{var h=a.static?e.STATIC_DRAW:e.DYNAMIC_DRAW;o.byteLength=a.data.byteLength,e.bufferData(s,a.data,h)}}}},r.prototype.checkCompatibility=function(t,e){var n=t.attributes,a=e.attributeData;for(var o in a)if(!n[o])throw new Error('shader and geometry incompatible, geometry missing the "'+o+'" attribute')},r.prototype.getSignature=function(t,e){var n=t.attributes,a=e.attributeData,o=["g",t.id];for(var s in n)a[s]&&o.push(s);return o.join("-")},r.prototype.initGeometryVao=function(t,e,n){n===void 0&&(n=!0),this.checkCompatibility(t,e);var a=this.gl,o=this.CONTEXT_UID,s=this.getSignature(t,e),h=t.glVertexArrayObjects[this.CONTEXT_UID],u=h[s];if(u)return h[e.id]=u,u;var c=t.buffers,f=t.attributes,l={},d={};for(var p in c)l[p]=0,d[p]=0;for(var p in f)!f[p].size&&e.attributeData[p]?f[p].size=e.attributeData[p].size:f[p].size||console.warn("PIXI Geometry attribute '"+p+"' size cannot be determined (likely the bound shader does not have the attribute)"),l[f[p].buffer]+=f[p].size*Mi[f[p].type];for(var p in f){var v=f[p],y=v.size;v.stride===void 0&&(l[v.buffer]===y*Mi[v.type]?v.stride=0:v.stride=l[v.buffer]),v.start===void 0&&(v.start=d[v.buffer],d[v.buffer]+=y*Mi[v.type])}u=a.createVertexArray(),a.bindVertexArray(u);for(var g=0;g<c.length;g++){var x=c[g];x._glBuffers[o]||(x._glBuffers[o]=new wc(a.createBuffer()),this.managedBuffers[x.id]=x,x.disposeRunner.add(this)),n&&x._glBuffers[o].refCount++}return this.activateVao(t,e),this._activeVao=u,h[e.id]=u,h[s]=u,u},r.prototype.disposeBuffer=function(t,e){if(!!this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var n=t._glBuffers[this.CONTEXT_UID],a=this.gl;t.disposeRunner.remove(this),n&&(e||a.deleteBuffer(n.buffer),delete t._glBuffers[this.CONTEXT_UID])}},r.prototype.disposeGeometry=function(t,e){if(!!this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var n=t.glVertexArrayObjects[this.CONTEXT_UID],a=this.gl,o=t.buffers;if(t.disposeRunner.remove(this),!!n){for(var s=0;s<o.length;s++){var h=o[s]._glBuffers[this.CONTEXT_UID];h.refCount--,h.refCount===0&&!e&&this.disposeBuffer(o[s],e)}if(!e){for(var u in n)if(u[0]==="g"){var c=n[u];this._activeVao===c&&this.unbind(),a.deleteVertexArray(c)}}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},r.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedGeometries),n=0;n<e.length;n++)this.disposeGeometry(this.managedGeometries[e[n]],t);e=Object.keys(this.managedBuffers);for(var n=0;n<e.length;n++)this.disposeBuffer(this.managedBuffers[e[n]],t)},r.prototype.activateVao=function(t,e){var n=this.gl,a=this.CONTEXT_UID,o=t.buffers,s=t.attributes;t.indexBuffer&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.indexBuffer._glBuffers[a].buffer);var h=null;for(var u in s){var c=s[u],f=o[c.buffer],l=f._glBuffers[a];if(e.attributeData[u]){h!==l&&(n.bindBuffer(n.ARRAY_BUFFER,l.buffer),h=l);var d=e.attributeData[u].location;if(n.enableVertexAttribArray(d),n.vertexAttribPointer(d,c.size,c.type||n.FLOAT,c.normalized,c.stride,c.start),c.instance)if(this.hasInstance)n.vertexAttribDivisor(d,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}},r.prototype.draw=function(t,e,n,a){var o=this.gl,s=this._activeGeometry;if(s.indexBuffer){var h=s.indexBuffer.data.BYTES_PER_ELEMENT,u=h===2?o.UNSIGNED_SHORT:o.UNSIGNED_INT;h===2||h===4&&this.canUseUInt32ElementIndex?s.instanced?o.drawElementsInstanced(t,e||s.indexBuffer.data.length,u,(n||0)*h,a||1):o.drawElements(t,e||s.indexBuffer.data.length,u,(n||0)*h):console.warn("unsupported index buffer type: uint32")}else s.instanced?o.drawArraysInstanced(t,n,e||s.getSize(),a||1):o.drawArrays(t,n,e||s.getSize());return this},r.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},r}(Tt),rh=function(){function i(r){r===void 0&&(r=null),this.type=xt.NONE,this.autoDetect=!0,this.maskObject=r||null,this.pooled=!1,this.isMaskData=!0,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._target=null}return i.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=xt.NONE,this.autoDetect=!0),this._target=null},i.prototype.copyCountersOrReset=function(r){r?(this._stencilCounter=r._stencilCounter,this._scissorCounter=r._scissorCounter,this._scissorRect=r._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},i}();function po(i,r,t){var e=i.createShader(r);return i.shaderSource(e,t),i.compileShader(e),e}function ih(i,r,t,e){var n=po(i,i.VERTEX_SHADER,r),a=po(i,i.FRAGMENT_SHADER,t),o=i.createProgram();if(i.attachShader(o,n),i.attachShader(o,a),e)for(var s in e)i.bindAttribLocation(o,e[s],s);return i.linkProgram(o),i.getProgramParameter(o,i.LINK_STATUS)||(i.getShaderParameter(n,i.COMPILE_STATUS)||(console.warn(r),console.error(i.getShaderInfoLog(n))),i.getShaderParameter(a,i.COMPILE_STATUS)||(console.warn(t),console.error(i.getShaderInfoLog(a))),console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",i.getProgramParameter(o,i.VALIDATE_STATUS)),console.error("gl.getError()",i.getError()),i.getProgramInfoLog(o)!==""&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",i.getProgramInfoLog(o)),i.deleteProgram(o),o=null),i.deleteShader(n),i.deleteShader(a),o}function Li(i){for(var r=new Array(i),t=0;t<r.length;t++)r[t]=!1;return r}function nh(i,r){switch(i){case"float":return 0;case"vec2":return new Float32Array(2*r);case"vec3":return new Float32Array(3*r);case"vec4":return new Float32Array(4*r);case"int":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*r);case"ivec3":return new Int32Array(3*r);case"ivec4":return new Int32Array(4*r);case"bool":return!1;case"bvec2":return Li(2*r);case"bvec3":return Li(3*r);case"bvec4":return Li(4*r);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var ah={},tr=ah;function oh(){if(tr===ah||tr&&tr.isContextLost()){var i=document.createElement("canvas"),r=void 0;D.PREFER_ENV>=Dt.WEBGL2&&(r=i.getContext("webgl2",{})),r||(r=i.getContext("webgl",{})||i.getContext("experimental-webgl",{}),r?r.getExtension("WEBGL_draw_buffers"):r=null),tr=r}return tr}var Xr;function Pc(){if(!Xr){Xr=Rt.MEDIUM;var i=oh();if(i&&i.getShaderPrecisionFormat){var r=i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT);Xr=r.precision?Rt.HIGH:Rt.MEDIUM}}return Xr}function vo(i,r,t){if(i.substring(0,9)!=="precision"){var e=r;return r===Rt.HIGH&&t!==Rt.HIGH&&(e=Rt.MEDIUM),"precision "+e+` float;
`+i}else if(t!==Rt.HIGH&&i.substring(0,15)==="precision highp")return i.replace("precision highp","precision mediump");return i}var Ic={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function Ec(i){return Ic[i]}var Gr=null,yo={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function mo(i,r){if(!Gr){var t=Object.keys(yo);Gr={};for(var e=0;e<t.length;++e){var n=t[e];Gr[i[n]]=yo[n]}}return Gr[r]}var Zr=[{test:function(i){return i.type==="float"&&i.size===1},code:function(i){return`
            if(uv["`+i+'"] !== ud["'+i+`"].value)
            {
                ud["`+i+'"].value = uv["'+i+`"]
                gl.uniform1f(ud["`+i+'"].location, uv["'+i+`"])
            }
            `}},{test:function(i){return(i.type==="sampler2D"||i.type==="samplerCube"||i.type==="sampler2DArray")&&i.size===1&&!i.isArray},code:function(i){return`t = syncData.textureCount++;

            renderer.texture.bind(uv["`+i+`"], t);

            if(ud["`+i+`"].value !== t)
            {
                ud["`+i+`"].value = t;
                gl.uniform1i(ud["`+i+`"].location, t);
; // eslint-disable-line max-len
            }`}},{test:function(i,r){return i.type==="mat3"&&i.size===1&&r.a!==void 0},code:function(i){return`
            gl.uniformMatrix3fv(ud["`+i+'"].location, false, uv["'+i+`"].toArray(true));
            `}},{test:function(i,r){return i.type==="vec2"&&i.size===1&&r.x!==void 0},code:function(i){return`
                cv = ud["`+i+`"].value;
                v = uv["`+i+`"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["`+i+`"].location, v.x, v.y);
                }`}},{test:function(i){return i.type==="vec2"&&i.size===1},code:function(i){return`
                cv = ud["`+i+`"].value;
                v = uv["`+i+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["`+i+`"].location, v[0], v[1]);
                }
            `}},{test:function(i,r){return i.type==="vec4"&&i.size===1&&r.width!==void 0},code:function(i){return`
                cv = ud["`+i+`"].value;
                v = uv["`+i+`"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["`+i+`"].location, v.x, v.y, v.width, v.height)
                }`}},{test:function(i){return i.type==="vec4"&&i.size===1},code:function(i){return`
                cv = ud["`+i+`"].value;
                v = uv["`+i+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["`+i+`"].location, v[0], v[1], v[2], v[3])
                }`}}],Sc={float:`
    if(cv !== v)
    {
        cv.v = v;
        gl.uniform1f(location, v)
    }`,vec2:`
    if(cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},Ac={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function Oc(i,r){var t=[`
        var v = null;
        var cv = null
        var t = 0;
        var gl = renderer.gl
    `];for(var e in i.uniforms){var n=r[e];if(!n){i.uniforms[e].group&&t.push(`
                    renderer.shader.syncUniformGroup(uv["`+e+`"], syncData);
                `);continue}for(var a=i.uniforms[e],o=!1,s=0;s<Zr.length;s++)if(Zr[s].test(n,a)){t.push(Zr[s].code(e,a)),o=!0;break}if(!o){var h=n.size===1?Sc:Ac,u=h[n.type].replace("location",'ud["'+e+'"].location');t.push(`
            cv = ud["`+e+`"].value;
            v = uv["`+e+`"];
            `+u+";")}}return new Function("ud","uv","renderer","syncData",t.join(`
`))}var Cc=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function Rc(i){for(var r="",t=0;t<i;++t)t>0&&(r+=`
else `),t<i-1&&(r+="if(test == "+t+".0){}");return r}function sh(i,r){if(i===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var t=r.createShader(r.FRAGMENT_SHADER);;){var e=Cc.replace(/%forloop%/gi,Rc(i));if(r.shaderSource(t,e),r.compileShader(t),!r.getShaderParameter(t,r.COMPILE_STATUS))i=i/2|0;else break}return i}var er;function Fc(){if(typeof er=="boolean")return er;try{var i=new Function("param1","param2","param3","return param1[param2] === param3;");er=i({a:"b"},"a","b")===!0}catch{er=!1}return er}var Mc=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,Lc=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`,Nc=0,Hr={},Pr=function(){function i(r,t,e){e===void 0&&(e="pixi-shader"),this.id=Nc++,this.vertexSrc=r||i.defaultVertexSrc,this.fragmentSrc=t||i.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.vertexSrc.substring(0,8)!=="#version"&&(e=e.replace(/\s+/g,"-"),Hr[e]?(Hr[e]++,e+="-"+Hr[e]):Hr[e]=1,this.vertexSrc="#define SHADER_NAME "+e+`
`+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+e+`
`+this.fragmentSrc,this.vertexSrc=vo(this.vertexSrc,D.PRECISION_VERTEX,Rt.HIGH),this.fragmentSrc=vo(this.fragmentSrc,D.PRECISION_FRAGMENT,Pc())),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null}return i.prototype.extractData=function(r,t){var e=oh();if(e){var n=ih(e,r,t);this.attributeData=this.getAttributeData(n,e),this.uniformData=this.getUniformData(n,e),e.deleteProgram(n)}else this.uniformData={},this.attributeData={}},i.prototype.getAttributeData=function(r,t){for(var e={},n=[],a=t.getProgramParameter(r,t.ACTIVE_ATTRIBUTES),o=0;o<a;o++){var s=t.getActiveAttrib(r,o),h=mo(t,s.type),u={type:h,name:s.name,size:Ec(h),location:0};e[s.name]=u,n.push(u)}n.sort(function(c,f){return c.name>f.name?1:-1});for(var o=0;o<n.length;o++)n[o].location=o;return e},i.prototype.getUniformData=function(r,t){for(var e={},n=t.getProgramParameter(r,t.ACTIVE_UNIFORMS),a=0;a<n;a++){var o=t.getActiveUniform(r,a),s=o.name.replace(/\[.*?\]$/,""),h=o.name.match(/\[.*?\]$/),u=mo(t,o.type);e[s]={type:u,size:o.size,isArray:h,value:nh(u,o.size)}}return e},Object.defineProperty(i,"defaultVertexSrc",{get:function(){return Lc},enumerable:!1,configurable:!0}),Object.defineProperty(i,"defaultFragmentSrc",{get:function(){return Mc},enumerable:!1,configurable:!0}),i.from=function(r,t,e){var n=r+t,a=dn[n];return a||(dn[n]=a=new i(r,t,e)),a},i}(),re=function(){function i(r,t){this.program=r,t?t instanceof te?this.uniformGroup=t:this.uniformGroup=new te(t):this.uniformGroup=new te({});for(var e in r.uniformData)this.uniformGroup.uniforms[e]instanceof Array&&(this.uniformGroup.uniforms[e]=new Float32Array(this.uniformGroup.uniforms[e]))}return i.prototype.checkUniformExists=function(r,t){if(t.uniforms[r])return!0;for(var e in t.uniforms){var n=t.uniforms[e];if(n.group&&this.checkUniformExists(r,n))return!0}return!1},i.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(i.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),i.from=function(r,t,e){var n=Pr.from(r,t);return new i(n,e)},i}(),Ni=0,Di=1,Ui=2,Bi=3,ki=4,ne=function(){function i(){this.data=0,this.blendMode=U.NORMAL,this.polygonOffset=0,this.blend=!0}return Object.defineProperty(i.prototype,"blend",{get:function(){return!!(this.data&1<<Ni)},set:function(r){!!(this.data&1<<Ni)!==r&&(this.data^=1<<Ni)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"offsets",{get:function(){return!!(this.data&1<<Di)},set:function(r){!!(this.data&1<<Di)!==r&&(this.data^=1<<Di)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"culling",{get:function(){return!!(this.data&1<<Ui)},set:function(r){!!(this.data&1<<Ui)!==r&&(this.data^=1<<Ui)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"depthTest",{get:function(){return!!(this.data&1<<Bi)},set:function(r){!!(this.data&1<<Bi)!==r&&(this.data^=1<<Bi)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<ki)},set:function(r){!!(this.data&1<<ki)!==r&&(this.data^=1<<ki)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"blendMode",{get:function(){return this._blendMode},set:function(r){this.blend=r!==U.NONE,this._blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(r){this.offsets=!!r,this._polygonOffset=r},enumerable:!1,configurable:!0}),i.for2d=function(){var r=new i;return r.depthTest=!1,r.blend=!0,r},i}(),Dc=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,Uc=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,Yt=function(i){V(r,i);function r(t,e,n){var a=this,o=Pr.from(t||r.defaultVertexSrc,e||r.defaultFragmentSrc);return a=i.call(this,o,n)||this,a.padding=0,a.resolution=D.FILTER_RESOLUTION,a.enabled=!0,a.autoFit=!0,a.legacy=!!a.program.attributeData.aTextureCoord,a.state=new ne,a}return r.prototype.apply=function(t,e,n,a,o){t.applyFilter(this,e,n,a)},Object.defineProperty(r.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(r,"defaultVertexSrc",{get:function(){return Dc},enumerable:!1,configurable:!0}),Object.defineProperty(r,"defaultFragmentSrc",{get:function(){return Uc},enumerable:!1,configurable:!0}),r}(re),Bc=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,kc=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,go=new ht,pi=function(){function i(r,t){this._texture=r,this.mapCoord=new ht,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof t=="undefined"?.5:t,this.isSimple=!1}return Object.defineProperty(i.prototype,"texture",{get:function(){return this._texture},set:function(r){this._texture=r,this._textureID=-1},enumerable:!1,configurable:!0}),i.prototype.multiplyUvs=function(r,t){t===void 0&&(t=r);for(var e=this.mapCoord,n=0;n<r.length;n+=2){var a=r[n],o=r[n+1];t[n]=a*e.a+o*e.c+e.tx,t[n+1]=a*e.b+o*e.d+e.ty}return t},i.prototype.update=function(r){var t=this._texture;if(!t||!t.valid||!r&&this._textureID===t._updateID)return!1;this._textureID=t._updateID,this._updateID++;var e=t._uvs;this.mapCoord.set(e.x1-e.x0,e.y1-e.y0,e.x3-e.x0,e.y3-e.y0,e.x0,e.y0);var n=t.orig,a=t.trim;a&&(go.set(n.width/a.width,0,0,n.height/a.height,-a.x/a.width,-a.y/a.height),this.mapCoord.append(go));var o=t.baseTexture,s=this.uClampFrame,h=this.clampMargin/o.resolution,u=this.clampOffset;return s[0]=(t._frame.x+h+u)/o.width,s[1]=(t._frame.y+h+u)/o.height,s[2]=(t._frame.x+t._frame.width-h+u)/o.width,s[3]=(t._frame.y+t._frame.height-h+u)/o.height,this.uClampOffset[0]=u/o.realWidth,this.uClampOffset[1]=u/o.realHeight,this.isSimple=t._frame.width===o.width&&t._frame.height===o.height&&t.rotate===0,!0},i}(),hh=function(i){V(r,i);function r(t){var e=this,n=new ht;return e=i.call(this,Bc,kc)||this,t.renderable=!1,e.maskSprite=t,e.maskMatrix=n,e}return r.prototype.apply=function(t,e,n,a){var o=this.maskSprite,s=o._texture;!s.valid||(s.uvMatrix||(s.uvMatrix=new pi(s,0)),s.uvMatrix.update(),this.uniforms.npmAlpha=s.baseTexture.alphaMode?0:1,this.uniforms.mask=s,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,o).prepend(s.uvMatrix.mapCoord),this.uniforms.alpha=o.worldAlpha,this.uniforms.maskClamp=s.uvMatrix.uClampFrame,t.applyFilter(this,e,n,a))},r}(Yt),uh=function(i){V(r,i);function r(t){var e=i.call(this,t)||this;return e.enableScissor=!1,e.alphaMaskPool=[],e.maskDataPool=[],e.maskStack=[],e.alphaMaskIndex=0,e}return r.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},r.prototype.push=function(t,e){var n=e;if(!n.isMaskData){var a=this.maskDataPool.pop()||new rh;a.pooled=!0,a.maskObject=e,n=a}switch(n.autoDetect&&this.detect(n),n.copyCountersOrReset(this.maskStack[this.maskStack.length-1]),n._target=t,n.type){case xt.SCISSOR:this.maskStack.push(n),this.renderer.scissor.push(n);break;case xt.STENCIL:this.maskStack.push(n),this.renderer.stencil.push(n);break;case xt.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n),this.maskStack.push(n);break}},r.prototype.pop=function(t){var e=this.maskStack.pop();if(!(!e||e._target!==t)){switch(e.type){case xt.SCISSOR:this.renderer.scissor.pop();break;case xt.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case xt.SPRITE:this.popSpriteMask();break}e.reset(),e.pooled&&this.maskDataPool.push(e)}},r.prototype.detect=function(t){var e=t.maskObject;if(e.isSprite){t.type=xt.SPRITE;return}if(t.type=xt.STENCIL,this.enableScissor&&e.isFastRect&&e.isFastRect()){var n=e.worldTransform,a=Math.atan2(n.b,n.a),o=Math.atan2(n.d,n.c);a=Math.round(a*(180/Math.PI)*100),o=Math.round(o*(180/Math.PI)*100)-a,a=(a%9e3+9e3)%9e3,o=(o%18e3+18e3)%18e3,a===0&&o===9e3&&(t.type=xt.SCISSOR)}},r.prototype.pushSpriteMask=function(t){var e=t.maskObject,n=t._target,a=this.alphaMaskPool[this.alphaMaskIndex];a||(a=this.alphaMaskPool[this.alphaMaskIndex]=[new hh(e)]),a[0].resolution=this.renderer.resolution,a[0].maskSprite=e;var o=n.filterArea;n.filterArea=e.getBounds(!0),this.renderer.filter.push(n,a),n.filterArea=o,this.alphaMaskIndex++},r.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},r}(Tt),lh=function(i){V(r,i);function r(t){var e=i.call(this,t)||this;return e.maskStack=[],e.glConst=0,e}return r.prototype.getStackLength=function(){return this.maskStack.length},r.prototype.setMaskStack=function(t){var e=this.renderer.gl,n=this.getStackLength();this.maskStack=t;var a=this.getStackLength();a!==n&&(a===0?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))},r.prototype._useCurrent=function(){},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.maskStack=null},r}(Tt),fh=function(i){V(r,i);function r(t){var e=i.call(this,t)||this;return e.glConst=WebGLRenderingContext.SCISSOR_TEST,e}return r.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0},r.prototype.push=function(t){var e=t.maskObject;e.renderable=!0;var n=t._scissorRect,a=e.getBounds(!0),o=this.renderer.gl;e.renderable=!1,n?a.fit(n):o.enable(o.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=a,this._useCurrent()},r.prototype.pop=function(){var t=this.renderer.gl;this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)},r.prototype._useCurrent=function(){var t=this.maskStack[this.maskStack.length-1]._scissorRect,e=this.renderer.renderTexture.current,n=this.renderer.projection,a=n.transform,o=n.sourceFrame,s=n.destinationFrame,h=e?e.resolution:this.renderer.resolution,u=(t.x-o.x)*h+s.x,c=(t.y-o.y)*h+s.y,f=t.width*h,l=t.height*h;a&&(u+=a.tx*h,c+=a.ty*h),e||(c=this.renderer.height-l-c),this.renderer.gl.scissor(u,c,f,l)},r}(lh),ch=function(i){V(r,i);function r(t){var e=i.call(this,t)||this;return e.glConst=WebGLRenderingContext.STENCIL_TEST,e}return r.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._stencilCounter:0},r.prototype.push=function(t){var e=t.maskObject,n=this.renderer.gl,a=t._stencilCounter;a===0&&(this.renderer.framebuffer.forceStencil(),n.enable(n.STENCIL_TEST)),t._stencilCounter++,n.colorMask(!1,!1,!1,!1),n.stencilFunc(n.EQUAL,a,this._getBitwiseMask()),n.stencilOp(n.KEEP,n.KEEP,n.INCR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent()},r.prototype.pop=function(t){var e=this.renderer.gl;this.getStackLength()===0?(e.disable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),e.clearStencil(0)):(e.colorMask(!1,!1,!1,!1),e.stencilOp(e.KEEP,e.KEEP,e.DECR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,this._useCurrent())},r.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.getStackLength(),this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},r.prototype._getBitwiseMask=function(){return(1<<this.getStackLength())-1},r}(lh),dh=function(i){V(r,i);function r(t){var e=i.call(this,t)||this;return e.destinationFrame=null,e.sourceFrame=null,e.defaultFrame=null,e.projectionMatrix=new ht,e.transform=null,e}return r.prototype.update=function(t,e,n,a){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,a),this.transform&&this.projectionMatrix.append(this.transform);var o=this.renderer;o.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,o.globalUniforms.update(),o.shader.shader&&o.shader.syncUniformGroup(o.shader.shader.uniforms.globals)},r.prototype.calculateProjection=function(t,e,n,a){var o=this.projectionMatrix,s=a?-1:1;o.identity(),o.a=1/e.width*2,o.d=s*(1/e.height*2),o.tx=-1-e.x*o.a,o.ty=-s-e.y*o.d},r.prototype.setTransform=function(t){},r}(Tt),oe=new q,rr=new q,ir=new q,ph=function(i){V(r,i);function r(t){var e=i.call(this,t)||this;return e.clearColor=t._backgroundColorRgba,e.defaultMaskStack=[],e.current=null,e.sourceFrame=new q,e.destinationFrame=new q,e}return r.prototype.bind=function(t,e,n){t===void 0&&(t=null);var a=this.renderer;this.current=t;var o,s,h;t?(o=t.baseTexture,h=o.resolution,e||(oe.width=t.frame.width,oe.height=t.frame.height,e=oe),n||(rr.x=t.frame.x,rr.y=t.frame.y,rr.width=e.width,rr.height=e.height,n=rr),s=o.framebuffer):(h=a.resolution,e||(oe.width=a.screen.width,oe.height=a.screen.height,e=oe),n||(n=oe,n.width=e.width,n.height=e.height)),ir.x=n.x*h,ir.y=n.y*h,ir.width=n.width*h,ir.height=n.height*h,this.renderer.framebuffer.bind(s,ir),this.renderer.projection.update(n,e,h,!s),t?this.renderer.mask.setMaskStack(o.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(n)},r.prototype.clear=function(t,e){this.current?t=t||this.current.baseTexture.clearColor:t=t||this.clearColor,this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],e)},r.prototype.resize=function(){this.bind(null)},r.prototype.reset=function(){this.bind(null)},r}(Tt),Xc=function(){function i(){}return i}(),vh=function(){function i(r,t){this.program=r,this.uniformData=t,this.uniformGroups={}}return i.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null},i}(),Gc=0,_o={textureCount:0},yh=function(i){V(r,i);function r(t){var e=i.call(this,t)||this;return e.destroyed=!1,e.systemCheck(),e.gl=null,e.shader=null,e.program=null,e.cache={},e.id=Gc++,e}return r.prototype.systemCheck=function(){if(!Fc())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},r.prototype.contextChange=function(t){this.gl=t,this.reset()},r.prototype.bind=function(t,e){t.uniforms.globals=this.renderer.globalUniforms;var n=t.program,a=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(t);return this.shader=t,this.program!==n&&(this.program=n,this.gl.useProgram(a.program)),e||(_o.textureCount=0,this.syncUniformGroup(t.uniformGroup,_o)),a},r.prototype.setUniforms=function(t){var e=this.shader.program,n=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(n.uniformData,t,this.renderer)},r.prototype.syncUniformGroup=function(t,e){var n=this.getglProgram();(!t.static||t.dirtyId!==n.uniformGroups[t.id])&&(n.uniformGroups[t.id]=t.dirtyId,this.syncUniforms(t,n,e))},r.prototype.syncUniforms=function(t,e,n){var a=t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t);a(e.uniformData,t.uniforms,this.renderer,n)},r.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData);return this.cache[e]||(this.cache[e]=Oc(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},r.prototype.getSignature=function(t,e){var n=t.uniforms,a=[];for(var o in n)a.push(o),e[o]&&a.push(e[o].type);return a.join("-")},r.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},r.prototype.generateShader=function(t){var e=this.gl,n=t.program,a={};for(var o in n.attributeData)a[o]=n.attributeData[o].location;var s=ih(e,n.vertexSrc,n.fragmentSrc,a),h={};for(var o in n.uniformData){var u=n.uniformData[o];h[o]={location:e.getUniformLocation(s,o),value:nh(u.type,u.size)}}var c=new vh(s,h);return n.glPrograms[this.renderer.CONTEXT_UID]=c,c},r.prototype.reset=function(){this.program=null,this.shader=null},r.prototype.destroy=function(){this.destroyed=!0},r}(Tt);function Hc(i,r){return r===void 0&&(r=[]),r[U.NORMAL]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],r[U.ADD]=[i.ONE,i.ONE],r[U.MULTIPLY]=[i.DST_COLOR,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA],r[U.SCREEN]=[i.ONE,i.ONE_MINUS_SRC_COLOR,i.ONE,i.ONE_MINUS_SRC_ALPHA],r[U.OVERLAY]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],r[U.DARKEN]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],r[U.LIGHTEN]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],r[U.COLOR_DODGE]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],r[U.COLOR_BURN]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],r[U.HARD_LIGHT]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],r[U.SOFT_LIGHT]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],r[U.DIFFERENCE]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],r[U.EXCLUSION]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],r[U.HUE]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],r[U.SATURATION]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],r[U.COLOR]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],r[U.LUMINOSITY]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],r[U.NONE]=[0,0],r[U.NORMAL_NPM]=[i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA],r[U.ADD_NPM]=[i.SRC_ALPHA,i.ONE,i.ONE,i.ONE],r[U.SCREEN_NPM]=[i.SRC_ALPHA,i.ONE_MINUS_SRC_COLOR,i.ONE,i.ONE_MINUS_SRC_ALPHA],r[U.SRC_IN]=[i.DST_ALPHA,i.ZERO],r[U.SRC_OUT]=[i.ONE_MINUS_DST_ALPHA,i.ZERO],r[U.SRC_ATOP]=[i.DST_ALPHA,i.ONE_MINUS_SRC_ALPHA],r[U.DST_OVER]=[i.ONE_MINUS_DST_ALPHA,i.ONE],r[U.DST_IN]=[i.ZERO,i.SRC_ALPHA],r[U.DST_OUT]=[i.ZERO,i.ONE_MINUS_SRC_ALPHA],r[U.DST_ATOP]=[i.ONE_MINUS_DST_ALPHA,i.SRC_ALPHA],r[U.XOR]=[i.ONE_MINUS_DST_ALPHA,i.ONE_MINUS_SRC_ALPHA],r[U.SUBTRACT]=[i.ONE,i.ONE,i.ONE,i.ONE,i.FUNC_REVERSE_SUBTRACT,i.FUNC_ADD],r}var jc=0,Vc=1,zc=2,Wc=3,Yc=4,mh=function(i){V(r,i);function r(t){var e=i.call(this,t)||this;return e.gl=null,e.stateId=0,e.polygonOffset=0,e.blendMode=U.NONE,e._blendEq=!1,e.map=[],e.map[jc]=e.setBlend,e.map[Vc]=e.setOffset,e.map[zc]=e.setCullFace,e.map[Wc]=e.setDepthTest,e.map[Yc]=e.setFrontFace,e.checks=[],e.defaultState=new ne,e.defaultState.blend=!0,e}return r.prototype.contextChange=function(t){this.gl=t,this.blendModes=Hc(t),this.set(this.defaultState),this.reset()},r.prototype.set=function(t){if(t=t||this.defaultState,this.stateId!==t.data){for(var e=this.stateId^t.data,n=0;e;)e&1&&this.map[n].call(this,!!(t.data&1<<n)),e=e>>1,n++;this.stateId=t.data}for(var n=0;n<this.checks.length;n++)this.checks[n](this,t)},r.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(var e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data},r.prototype.setBlend=function(t){this.updateCheck(r.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},r.prototype.setOffset=function(t){this.updateCheck(r.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},r.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},r.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},r.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},r.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var e=this.blendModes[t],n=this.gl;e.length===2?n.blendFunc(e[0],e[1]):n.blendFuncSeparate(e[0],e[1],e[2],e[3]),e.length===6?(this._blendEq=!0,n.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}},r.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},r.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},r.prototype.updateCheck=function(t,e){var n=this.checks.indexOf(t);e&&n===-1?this.checks.push(t):!e&&n!==-1&&this.checks.splice(n,1)},r.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},r.checkPolygonOffset=function(t,e){t.setPolygonOffset(1,e.polygonOffset)},r}(Tt),gh=function(i){V(r,i);function r(t){var e=i.call(this,t)||this;return e.count=0,e.checkCount=0,e.maxIdle=D.GC_MAX_IDLE,e.checkCountMax=D.GC_MAX_CHECK_COUNT,e.mode=D.GC_MODE,e}return r.prototype.postrender=function(){!this.renderer.renderingToScreen||(this.count++,this.mode!==ii.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},r.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,n=!1,a=0;a<e.length;a++){var o=e[a];!o.framebuffer&&this.count-o.touched>this.maxIdle&&(t.destroyTexture(o,!0),e[a]=null,n=!0)}if(n){for(var s=0,a=0;a<e.length;a++)e[a]!==null&&(e[s++]=e[a]);e.length=s}},r.prototype.unload=function(t){var e=this.renderer.texture,n=t._texture;n&&!n.framebuffer&&e.destroyTexture(n);for(var a=t.children.length-1;a>=0;a--)this.unload(t.children[a])},r}(Tt),Kr=function(){function i(r){this.texture=r,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=6408,this.internalFormat=5121}return i}(),_h=function(i){V(r,i);function r(t){var e=i.call(this,t)||this;return e.boundTextures=[],e.currentLocation=-1,e.managedTextures=[],e._unknownBoundTextures=!1,e.unknownTexture=new J,e}return r.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var n=0;n<e;n++)this.boundTextures[n]=null;this.emptyTextures={};var a=new Kr(t.createTexture());t.bindTexture(t.TEXTURE_2D,a.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=a,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new Kr(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(var n=0;n<6;n++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(var n=0;n<this.boundTextures.length;n++)this.bind(null,n)},r.prototype.bind=function(t,e){e===void 0&&(e=0);var n=this.gl;if(t){if(t=t.castToBaseTexture(),t.parentTextureArray)return;if(t.valid){t.touched=this.renderer.textureGC.count;var a=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,n.activeTexture(n.TEXTURE0+e)),n.bindTexture(t.target,a.texture)),a.dirtyId!==t.dirtyId&&(this.currentLocation!==e&&(this.currentLocation=e,n.activeTexture(n.TEXTURE0+e)),this.updateTexture(t)),this.boundTextures[e]=t}}else this.currentLocation!==e&&(this.currentLocation=e,n.activeTexture(n.TEXTURE0+e)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[e]=null},r.prototype.reset=function(){this._unknownBoundTextures=!0,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},r.prototype.unbind=function(t){var e=this,n=e.gl,a=e.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var o=0;o<a.length;o++)a[o]===this.unknownTexture&&this.bind(null,o)}for(var o=0;o<a.length;o++)a[o]===t&&(this.currentLocation!==o&&(n.activeTexture(n.TEXTURE0+o),this.currentLocation=o),n.bindTexture(t.target,this.emptyTextures[t.target].texture),a[o]=null)},r.prototype.initTexture=function(t){var e=new Kr(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},r.prototype.initTextureType=function(t,e){if(e.internalFormat=t.format,e.type=t.type,this.webGLVersion===2){var n=this.renderer.gl;t.type===n.FLOAT&&t.format===n.RGBA&&(e.internalFormat=n.RGBA32F),t.type===st.HALF_FLOAT&&(e.type=n.HALF_FLOAT),e.type===n.HALF_FLOAT&&t.format===n.RGBA&&(e.internalFormat=n.RGBA16F)}},r.prototype.updateTexture=function(t){var e=t._glTextures[this.CONTEXT_UID];if(!!e){var n=this.renderer;if(this.initTextureType(t,e),!(t.resource&&t.resource.upload(n,t,e))){var a=t.realWidth,o=t.realHeight,s=n.gl;(e.width!==a||e.height!==o||e.dirtyId<0)&&(e.width=a,e.height=o,s.texImage2D(t.target,0,e.internalFormat,a,o,0,t.format,e.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId}},r.prototype.destroyTexture=function(t,e){var n=this.gl;if(t=t.castToBaseTexture(),t._glTextures[this.CONTEXT_UID]&&(this.unbind(t),n.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){var a=this.managedTextures.indexOf(t);a!==-1&&ge(this.managedTextures,a,1)}},r.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];!e||((t.mipmap===He.POW2||this.webGLVersion!==2)&&!t.isPowerOfTwo?e.mipmap=!1:e.mipmap=t.mipmap>=1,this.webGLVersion!==2&&!t.isPowerOfTwo?e.wrapMode=jt.CLAMP:e.wrapMode=t.wrapMode,t.resource&&t.resource.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)},r.prototype.setStyle=function(t,e){var n=this.gl;if(e.mipmap&&n.generateMipmap(t.target),n.texParameteri(t.target,n.TEXTURE_WRAP_S,e.wrapMode),n.texParameteri(t.target,n.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){n.texParameteri(t.target,n.TEXTURE_MIN_FILTER,t.scaleMode===Ct.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);var a=this.renderer.context.extensions.anisotropicFiltering;if(a&&t.anisotropicLevel>0&&t.scaleMode===Ct.LINEAR){var o=Math.min(t.anisotropicLevel,n.getParameter(a.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(t.target,a.TEXTURE_MAX_ANISOTROPY_EXT,o)}}else n.texParameteri(t.target,n.TEXTURE_MIN_FILTER,t.scaleMode===Ct.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(t.target,n.TEXTURE_MAG_FILTER,t.scaleMode===Ct.LINEAR?n.LINEAR:n.NEAREST)},r}(Tt),$c={FilterSystem:Zs,BatchSystem:Ks,ContextSystem:Js,FramebufferSystem:th,GeometrySystem:eh,MaskSystem:uh,ScissorSystem:fh,StencilSystem:ch,ProjectionSystem:dh,RenderTextureSystem:ph,ShaderSystem:yh,StateSystem:mh,TextureGCSystem:gh,TextureSystem:_h},Xi=new ht,xh=function(i){V(r,i);function r(t,e){t===void 0&&(t=Xe.UNKNOWN);var n=i.call(this)||this;return e=Object.assign({},D.RENDER_OPTIONS,e),e.roundPixels&&(D.ROUND_PIXELS=e.roundPixels,I("5.0.0","Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS",2)),n.options=e,n.type=t,n.screen=new q(0,0,e.width,e.height),n.view=e.view||document.createElement("canvas"),n.resolution=e.resolution||D.RESOLUTION,n.transparent=e.transparent,n.autoDensity=e.autoDensity||e.autoResize||!1,n.preserveDrawingBuffer=e.preserveDrawingBuffer,n.clearBeforeRender=e.clearBeforeRender,n._backgroundColor=0,n._backgroundColorRgba=[0,0,0,0],n._backgroundColorString="#000000",n.backgroundColor=e.backgroundColor||n._backgroundColor,n._lastObjectRendered=null,n.plugins={},n}return r.prototype.initPlugins=function(t){for(var e in t)this.plugins[e]=new t[e](this)},Object.defineProperty(r.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),r.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoDensity&&(this.view.style.width=t+"px",this.view.style.height=e+"px"),this.emit("resize",t,e)},r.prototype.generateTexture=function(t,e,n,a){a=a||t.getLocalBounds(null,!0),a.width===0&&(a.width=1),a.height===0&&(a.height=1);var o=ee.create({width:a.width|0,height:a.height|0,scaleMode:e,resolution:n});return Xi.tx=-a.x,Xi.ty=-a.y,this.render(t,o,!1,Xi,!!t.parent),o},r.prototype.destroy=function(t){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var n=this;n.plugins=null,n.type=Xe.UNKNOWN,n.view=null,n.screen=null,n._tempDisplayObjectParent=null,n.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(r.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=ia(t),be(t,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),r}($e),$t=function(i){V(r,i);function r(t){var e=i.call(this,Xe.WEBGL,t)||this;return t=e.options,e.gl=null,e.CONTEXT_UID=0,e.runners={destroy:new vt("destroy"),contextChange:new vt("contextChange"),reset:new vt("reset"),update:new vt("update"),postrender:new vt("postrender"),prerender:new vt("prerender"),resize:new vt("resize")},e.globalUniforms=new te({projectionMatrix:new ht},!0),e.addSystem(uh,"mask").addSystem(Js,"context").addSystem(mh,"state").addSystem(yh,"shader").addSystem(_h,"texture").addSystem(eh,"geometry").addSystem(th,"framebuffer").addSystem(fh,"scissor").addSystem(ch,"stencil").addSystem(dh,"projection").addSystem(gh,"textureGC").addSystem(Zs,"filter").addSystem(ph,"renderTexture").addSystem(Ks,"batch"),e.initPlugins(r.__plugins),t.context?e.context.initFromContext(t.context):e.context.initFromOptions({alpha:!!e.transparent,antialias:t.antialias,premultipliedAlpha:e.transparent&&e.transparent!=="notMultiplied",stencil:!0,preserveDrawingBuffer:t.preserveDrawingBuffer,powerPreference:e.options.powerPreference}),e.renderingToScreen=!0,bs(e.context.webGLVersion===2?"WebGL 2":"WebGL 1"),e.resize(e.options.width,e.options.height),e}return r.create=function(t){if(Ts())return new r(t);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},r.prototype.addSystem=function(t,e){e||(e=t.name);var n=new t(this);if(this[e])throw new Error('Whoops! The name "'+e+'" is already in use');this[e]=n;for(var a in this.runners)this.runners[a].add(n);return this},r.prototype.render=function(t,e,n,a,o){if(this.renderingToScreen=!e,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=a,!this.context.isLost){if(e||(this._lastObjectRendered=t),!o){var s=t.enableTempParent();t.updateTransform(),t.disableTempParent(s)}this.renderTexture.bind(e),this.batch.currentRenderer.start(),(n!==void 0?n:this.clearBeforeRender)&&this.renderTexture.clear(),t.render(this),this.batch.currentRenderer.flush(),e&&e.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},r.prototype.resize=function(t,e){i.prototype.resize.call(this,t,e),this.runners.resize.emit(t,e)},r.prototype.reset=function(){return this.runners.reset.emit(),this},r.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},r.prototype.destroy=function(t){this.runners.destroy.emit();for(var e in this.runners)this.runners[e].destroy();i.prototype.destroy.call(this,t),this.gl=null},r.registerPlugin=function(t,e){r.__plugins=r.__plugins||{},r.__plugins[t]=e},r}(xh);function bh(i){return $t.create(i)}var Th=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,ma=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,oi=function(){function i(){this.texArray=null,this.blend=0,this.type=It.TRIANGLES,this.start=0,this.size=0,this.data=null}return i}(),si=function(){function i(){this.elements=[],this.ids=[],this.count=0}return i.prototype.clear=function(){for(var r=0;r<this.count;r++)this.elements[r]=null;this.count=0},i}(),wh=function(){function i(r){this.rawBinaryData=new ArrayBuffer(r),this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(i.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),i.prototype.view=function(r){return this[r+"View"]},i.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},i.sizeOf=function(r){switch(r){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(r+" isn't a valid view type")}},i}(),Ph=function(i){V(r,i);function r(t){var e=i.call(this,t)||this;return e.shaderGenerator=null,e.geometryClass=null,e.vertexSize=null,e.state=ne.for2d(),e.size=D.SPRITE_BATCH_SIZE*4,e._vertexCount=0,e._indexCount=0,e._bufferedElements=[],e._bufferedTextures=[],e._bufferSize=0,e._shader=null,e._packedGeometries=[],e._packedGeometryPoolSize=2,e._flushId=0,e._aBuffers={},e._iBuffers={},e.MAX_TEXTURES=1,e.renderer.on("prerender",e.onPrerender,e),t.runners.contextChange.add(e),e._dcIndex=0,e._aIndex=0,e._iIndex=0,e._attributeBuffer=null,e._indexBuffer=null,e._tempBoundTextures=[],e}return r.prototype.contextChange=function(){var t=this.renderer.gl;D.PREFER_ENV===Dt.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),D.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=sh(this.MAX_TEXTURES,t)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()},r.prototype.initFlushBuffers=function(){for(var t=r._drawCallPool,e=r._textureArrayPool,n=this.size/4,a=Math.floor(n/this.MAX_TEXTURES)+1;t.length<n;)t.push(new oi);for(;e.length<a;)e.push(new si);for(var o=0;o<this.MAX_TEXTURES;o++)this._tempBoundTextures[o]=null},r.prototype.onPrerender=function(){this._flushId=0},r.prototype.render=function(t){!t._texture.valid||(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)},r.prototype.buildTexturesAndDrawCalls=function(){var t=this,e=t._bufferedTextures,n=t.MAX_TEXTURES,a=r._textureArrayPool,o=this.renderer.batch,s=this._tempBoundTextures,h=this.renderer.textureGC.count,u=++J._globalBatch,c=0,f=a[0],l=0;o.copyBoundTextures(s,n);for(var d=0;d<this._bufferSize;++d){var p=e[d];e[d]=null,p._batchEnabled!==u&&(f.count>=n&&(o.boundArray(f,s,u,n),this.buildDrawCalls(f,l,d),l=d,f=a[++c],++u),p._batchEnabled=u,p.touched=h,f.elements[f.count++]=p)}f.count>0&&(o.boundArray(f,s,u,n),this.buildDrawCalls(f,l,this._bufferSize),++c,++u);for(var d=0;d<s.length;d++)s[d]=null;J._globalBatch=u},r.prototype.buildDrawCalls=function(t,e,n){var a=this,o=a._bufferedElements,s=a._attributeBuffer,h=a._indexBuffer,u=a.vertexSize,c=r._drawCallPool,f=this._dcIndex,l=this._aIndex,d=this._iIndex,p=c[f];p.start=this._iIndex,p.texArray=t;for(var v=e;v<n;++v){var y=o[v],g=y._texture.baseTexture,x=aa[g.alphaMode?1:0][y.blendMode];o[v]=null,e<v&&p.blend!==x&&(p.size=d-p.start,e=v,p=c[++f],p.texArray=t,p.start=d),this.packInterleavedGeometry(y,s,h,l,d),l+=y.vertexData.length/2*u,d+=y.indices.length,p.blend=x}e<n&&(p.size=d-p.start,++f),this._dcIndex=f,this._aIndex=l,this._iIndex=d},r.prototype.bindAndClearTexArray=function(t){for(var e=this.renderer.texture,n=0;n<t.count;n++)e.bind(t.elements[n],t.ids[n]),t.elements[n]=null;t.count=0},r.prototype.updateGeometry=function(){var t=this,e=t._packedGeometries,n=t._attributeBuffer,a=t._indexBuffer;D.CAN_UPLOAD_SAME_BUFFER?(e[this._flushId]._buffer.update(n.rawBinaryData),e[this._flushId]._indexBuffer.update(a),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(n.rawBinaryData),e[this._flushId]._indexBuffer.update(a),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},r.prototype.drawBatches=function(){for(var t=this._dcIndex,e=this.renderer,n=e.gl,a=e.state,o=r._drawCallPool,s=null,h=0;h<t;h++){var u=o[h],c=u.texArray,f=u.type,l=u.size,d=u.start,p=u.blend;s!==c&&(s=c,this.bindAndClearTexArray(c)),this.state.blendMode=p,a.set(this.state),n.drawElements(f,l,n.UNSIGNED_SHORT,d*2)}},r.prototype.flush=function(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},r.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.shader.bind(this._shader),D.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},r.prototype.stop=function(){this.flush()},r.prototype.destroy=function(){for(var t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),i.prototype.destroy.call(this)},r.prototype.getAttributeBuffer=function(t){var e=yr(Math.ceil(t/8)),n=cn(e),a=e*8;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);var o=this._aBuffers[a];return o||(this._aBuffers[a]=o=new wh(a*this.vertexSize*4)),o},r.prototype.getIndexBuffer=function(t){var e=yr(Math.ceil(t/12)),n=cn(e),a=e*12;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);var o=this._iBuffers[n];return o||(this._iBuffers[n]=o=new Uint16Array(a)),o},r.prototype.packInterleavedGeometry=function(t,e,n,a,o){for(var s=e.uint32View,h=e.float32View,u=a/this.vertexSize,c=t.uvs,f=t.indices,l=t.vertexData,d=t._texture.baseTexture._batchLocation,p=Math.min(t.worldAlpha,1),v=p<1&&t._texture.baseTexture.alphaMode?fi(t._tintRGB,p):t._tintRGB+(p*255<<24),y=0;y<l.length;y+=2)h[a++]=l[y],h[a++]=l[y+1],h[a++]=c[y],h[a++]=c[y+1],s[a++]=v,h[a++]=d;for(var y=0;y<f.length;y++)n[o++]=u+f[y]},r._drawCallPool=[],r._textureArrayPool=[],r}(wr),Ih=function(){function i(r,t){if(this.vertexSrc=r,this.fragTemplate=t,this.programCache={},this.defaultGroupCache={},t.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(t.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return i.prototype.generateShader=function(r){if(!this.programCache[r]){for(var t=new Int32Array(r),e=0;e<r;e++)t[e]=e;this.defaultGroupCache[r]=te.from({uSamplers:t},!0);var n=this.fragTemplate;n=n.replace(/%count%/gi,""+r),n=n.replace(/%forloop%/gi,this.generateSampleSrc(r)),this.programCache[r]=new Pr(this.vertexSrc,n)}var a={tint:new Float32Array([1,1,1,1]),translationMatrix:new ht,default:this.defaultGroupCache[r]};return new re(this.programCache[r],a)},i.prototype.generateSampleSrc=function(r){var t="";t+=`
`,t+=`
`;for(var e=0;e<r;e++)e>0&&(t+=`
else `),e<r-1&&(t+="if(vTextureId < "+e+".5)"),t+=`
{`,t+=`
	color = texture2D(uSamplers[`+e+"], vTextureCoord);",t+=`
}`;return t+=`
`,t+=`
`,t},i}(),ga=function(i){V(r,i);function r(t){t===void 0&&(t=!1);var e=i.call(this)||this;return e._buffer=new ct(null,t,!1),e._indexBuffer=new ct(null,t,!0),e.addAttribute("aVertexPosition",e._buffer,2,!1,st.FLOAT).addAttribute("aTextureCoord",e._buffer,2,!1,st.FLOAT).addAttribute("aColor",e._buffer,4,!0,st.UNSIGNED_BYTE).addAttribute("aTextureId",e._buffer,1,!0,st.FLOAT).addIndex(e._indexBuffer),e}return r}(Ze),xo=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,bo=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,Eh=function(){function i(){}return i.create=function(r){var t=Object.assign({vertex:xo,fragment:bo,geometryClass:ga,vertexSize:6},r),e=t.vertex,n=t.fragment,a=t.vertexSize,o=t.geometryClass;return function(s){V(h,s);function h(u){var c=s.call(this,u)||this;return c.shaderGenerator=new Ih(e,n),c.geometryClass=o,c.vertexSize=a,c}return h}(Ph)},Object.defineProperty(i,"defaultVertexSrc",{get:function(){return xo},enumerable:!1,configurable:!0}),Object.defineProperty(i,"defaultFragmentTemplate",{get:function(){return bo},enumerable:!1,configurable:!0}),i}(),Sh=Eh.create();/*!
 * @pixi/app - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Ke=function(){function i(r){var t=this;r=Object.assign({forceCanvas:!1},r),this.renderer=bh(r),this.stage=new St,i._plugins.forEach(function(e){e.init.call(t,r)})}return i.registerPlugin=function(r){i._plugins.push(r)},i.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(i.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),i.prototype.destroy=function(r,t){var e=this,n=i._plugins.slice(0);n.reverse(),n.forEach(function(a){a.destroy.call(e)}),this.stage.destroy(t),this.stage=null,this.renderer.destroy(r),this.renderer=null},i}();Ke._plugins=[];var qc=function(){function i(){}return i.init=function(r){var t=this;Object.defineProperty(this,"resizeTo",{set:function(e){window.removeEventListener("resize",this.queueResize),this._resizeTo=e,e&&(window.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){!t._resizeTo||(t.cancelResize(),t._resizeId=requestAnimationFrame(function(){return t.resize()}))},this.cancelResize=function(){t._resizeId&&(cancelAnimationFrame(t._resizeId),t._resizeId=null)},this.resize=function(){if(!!t._resizeTo){t.cancelResize();var e,n;if(t._resizeTo===window)e=window.innerWidth,n=window.innerHeight;else{var a=t._resizeTo,o=a.clientWidth,s=a.clientHeight;e=o,n=s}t.renderer.resize(e,n)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=r.resizeTo||null},i.destroy=function(){window.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},i}();Ke.registerPlugin(qc);/*!
 * @pixi/extract - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var To=new q,wo=4,Ah=function(){function i(r){this.renderer=r,r.extract=this}return i.prototype.image=function(r,t,e){var n=new Image;return n.src=this.base64(r,t,e),n},i.prototype.base64=function(r,t,e){return this.canvas(r).toDataURL(t,e)},i.prototype.canvas=function(r){var t=this.renderer,e,n,a=!1,o,s=!1;r&&(r instanceof ee?o=r:(o=this.renderer.generateTexture(r),s=!0)),o?(e=o.baseTexture.resolution,n=o.frame,a=!1,t.renderTexture.bind(o)):(e=this.renderer.resolution,a=!0,n=To,n.width=this.renderer.width,n.height=this.renderer.height,t.renderTexture.bind(null));var h=Math.floor(n.width*e+1e-4),u=Math.floor(n.height*e+1e-4),c=new pn(h,u,1),f=new Uint8Array(wo*h*u),l=t.gl;l.readPixels(n.x*e,n.y*e,h,u,l.RGBA,l.UNSIGNED_BYTE,f);var d=c.context.getImageData(0,0,h,u);if(i.arrayPostDivide(f,d.data),c.context.putImageData(d,0,0),a){var p=new pn(c.width,c.height,1);p.context.scale(1,-1),p.context.drawImage(c.canvas,0,-u),c.destroy(),c=p}return s&&o.destroy(!0),c.canvas},i.prototype.pixels=function(r){var t=this.renderer,e,n,a,o=!1;r&&(r instanceof ee?a=r:(a=this.renderer.generateTexture(r),o=!0)),a?(e=a.baseTexture.resolution,n=a.frame,t.renderTexture.bind(a)):(e=t.resolution,n=To,n.width=t.width,n.height=t.height,t.renderTexture.bind(null));var s=n.width*e,h=n.height*e,u=new Uint8Array(wo*s*h),c=t.gl;return c.readPixels(n.x*e,n.y*e,s,h,c.RGBA,c.UNSIGNED_BYTE,u),o&&a.destroy(!0),i.arrayPostDivide(u,u),u},i.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},i.arrayPostDivide=function(r,t){for(var e=0;e<r.length;e+=4){var n=t[e+3]=r[e+3];n!==0?(t[e]=Math.round(Math.min(r[e]*255/n,255)),t[e+1]=Math.round(Math.min(r[e+1]*255/n,255)),t[e+2]=Math.round(Math.min(r[e+2]*255/n,255))):(t[e]=r[e],t[e+1]=r[e+1],t[e+2]=r[e+2])}},i}(),Oh=(i,r={})=>{if(!i)return;const t={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?))?((((?:[^?#/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@/]*@)([^:/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#/]*\.[^?#/.]+(?:[?#]|$)))*\/?)?([^?#/]*))(?:\?([^#]*))?(?:#(.*))?)/}},e=t.parser[r.strictMode?"strict":"loose"].exec(i),n={};let a=14;for(;a--;)n[t.key[a]]=e[a]||"";return n[t.q.name]={},n[t.key[12]].replace(t.q.parser,function(o,s,h){s&&(n[t.q.name][s]=h)}),n};class jr{constructor(r,t=!1,e){this._fn=r,this._once=t,this._thisArg=e,this._next=this._prev=this._owner=null}detach(){return this._owner===null?!1:(this._owner.detach(this),!0)}}function Po(i,r){return i._head?(i._tail._next=r,r._prev=i._tail,i._tail=r):(i._head=r,i._tail=r),r._owner=i,r}class Xt{constructor(){this._head=this._tail=void 0}handlers(r=!1){let t=this._head;if(r)return!!t;const e=[];for(;t;)e.push(t),t=t._next;return e}has(r){if(!(r instanceof jr))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return r._owner===this}dispatch(){let r=this._head;if(!r)return!1;for(;r;)r._once&&this.detach(r),r._fn.apply(r._thisArg,arguments),r=r._next;return!0}add(r,t=null){if(typeof r!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return Po(this,new jr(r,!1,t))}once(r,t=null){if(typeof r!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return Po(this,new jr(r,!0,t))}detach(r){if(!(r instanceof jr))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return r._owner!==this?this:(r._prev&&(r._prev._next=r._next),r._next&&(r._next._prev=r._prev),r===this._head?(this._head=r._next,r._next===null&&(this._tail=null)):r===this._tail&&(this._tail=r._prev,this._tail._next=null),r._owner=null,this)}detachAll(){let r=this._head;if(!r)return this;for(this._head=this._tail=null;r;)r._owner=null,r=r._next;return this}}/*!
 * resource-loader - v3.0.1
 * https://github.com/pixijs/pixi-sound
 * Compiled Tue, 02 Jul 2019 14:06:18 UTC
 *
 * resource-loader is licensed under the MIT license.
 * http://www.opensource.org/licenses/mit-license
 */function se(){}function Io(i,r,t,e){var n=0,a=i.length;(function o(s){if(s||n===a){t&&t(s);return}e?setTimeout(function(){r(i[n++],o)},1):r(i[n++],o)})()}function Zc(i){return function(){if(i===null)throw new Error("Callback was already called.");var t=i;i=null,t.apply(this,arguments)}}function Kc(i,r){if(r==null)r=1;else if(r===0)throw new Error("Concurrency must not be zero");var t=0,e={_tasks:[],concurrency:r,saturated:se,unsaturated:se,buffer:r/4,empty:se,drain:se,error:se,started:!1,paused:!1,push:function(s,h){n(s,!1,h)},kill:function(){t=0,e.drain=se,e.started=!1,e._tasks=[]},unshift:function(s,h){n(s,!0,h)},process:function(){for(;!e.paused&&t<e.concurrency&&e._tasks.length;){var s=e._tasks.shift();e._tasks.length===0&&e.empty(),t+=1,t===e.concurrency&&e.saturated(),i(s.data,Zc(a(s)))}},length:function(){return e._tasks.length},running:function(){return t},idle:function(){return e._tasks.length+t===0},pause:function(){e.paused!==!0&&(e.paused=!0)},resume:function(){if(e.paused!==!1){e.paused=!1;for(var s=1;s<=e.concurrency;s++)e.process()}}};function n(o,s,h){if(h!=null&&typeof h!="function")throw new Error("task callback must be a function");if(e.started=!0,o==null&&e.idle()){setTimeout(function(){return e.drain()},1);return}var u={data:o,callback:typeof h=="function"?h:se};s?e._tasks.unshift(u):e._tasks.push(u),setTimeout(function(){return e.process()},1)}function a(o){return function(){t-=1,o.callback.apply(o,arguments),arguments[0]!=null&&e.error(arguments[0],o.data),t<=e.concurrency-e.buffer&&e.unsaturated(),e.idle()&&e.drain(),e.process()}}return e}var Gi={};function Jc(i,r){var t=this;Gi[i.url]?(i.data=Gi[i.url],i.complete()):i.onComplete.once(function(){return Gi[t.url]=t.data}),r()}function Eo(i,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(i,e.key,e)}}function Ch(i,r,t){return r&&Eo(i.prototype,r),t&&Eo(i,t),i}var Qc=!!(window.XDomainRequest&&!("withCredentials"in new XMLHttpRequest)),Vr=null,td=0,So=200,ed=204,rd=1223,id=2;function nd(){}var k=function(){i.setExtensionLoadType=function(e,n){Ao(i._loadTypeMap,e,n)},i.setExtensionXhrType=function(e,n){Ao(i._xhrTypeMap,e,n)};function i(t,e,n){if(typeof t!="string"||typeof e!="string")throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(i.STATUS_FLAGS.DATA_URL,e.indexOf("data:")===0),this.name=t,this.url=e,this.extension=this._getExtension(),this.data=null,this.crossOrigin=n.crossOrigin===!0?"anonymous":n.crossOrigin,this.timeout=n.timeout||0,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=i.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=nd,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new Xt,this.onProgress=new Xt,this.onComplete=new Xt,this.onAfterMiddleware=new Xt}var r=i.prototype;return r.complete=function(){this._clearEvents(),this._finish()},r.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=i.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},r.load=function(e){var n=this;if(!this.isLoading){if(this.isComplete){e&&setTimeout(function(){return e(n)},1);return}else e&&this.onComplete.once(e);switch(this._setFlag(i.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(this.crossOrigin===!1||typeof this.crossOrigin!="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case i.LOAD_TYPE.IMAGE:this.type=i.TYPE.IMAGE,this._loadElement("image");break;case i.LOAD_TYPE.AUDIO:this.type=i.TYPE.AUDIO,this._loadSourceElement("audio");break;case i.LOAD_TYPE.VIDEO:this.type=i.TYPE.VIDEO,this._loadSourceElement("video");break;case i.LOAD_TYPE.XHR:default:Qc&&this.crossOrigin?this._loadXdr():this._loadXhr();break}}},r._hasFlag=function(e){return(this._flags&e)!==0},r._setFlag=function(e,n){this._flags=n?this._flags|e:this._flags&~e},r._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},r._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(i.STATUS_FLAGS.COMPLETE,!0),this._setFlag(i.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},r._loadElement=function(e){this.metadata.loadElement?this.data=this.metadata.loadElement:e==="image"&&typeof window.Image!="undefined"?this.data=new Image:this.data=document.createElement(e),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},r._loadSourceElement=function(e){if(this.metadata.loadElement?this.data=this.metadata.loadElement:e==="audio"&&typeof window.Audio!="undefined"?this.data=new Audio:this.data=document.createElement(e),this.data===null){this.abort("Unsupported element: "+e);return}if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var n=this.metadata.mimeType,a=0;a<this.url.length;++a)this.data.appendChild(this._createSource(e,this.url[a],Array.isArray(n)?n[a]:n));else{var o=this.metadata.mimeType;this.data.appendChild(this._createSource(e,this.url,Array.isArray(o)?o[0]:o))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},r._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===i.XHR_RESPONSE_TYPE.JSON||this.xhrType===i.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=i.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},r._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XDomainRequest;e.timeout=this.timeout||5e3,e.onerror=this._boundXhrOnError,e.ontimeout=this._boundXhrOnTimeout,e.onprogress=this._boundOnProgress,e.onload=this._boundXhrOnLoad,e.open("GET",this.url,!0),setTimeout(function(){return e.send()},1)},r._createSource=function(e,n,a){a||(a=e+"/"+this._getExtension(n));var o=document.createElement("source");return o.src=n,o.type=a,o},r._onError=function(e){this.abort("Failed to load element using: "+e.target.nodeName)},r._onProgress=function(e){e&&e.lengthComputable&&this.onProgress.dispatch(this,e.loaded/e.total)},r._onTimeout=function(){this.abort("Load timed out.")},r._xhrOnError=function(){var e=this.xhr;this.abort(Hi(e)+" Request failed. Status: "+e.status+', text: "'+e.statusText+'"')},r._xhrOnTimeout=function(){var e=this.xhr;this.abort(Hi(e)+" Request timed out.")},r._xhrOnAbort=function(){var e=this.xhr;this.abort(Hi(e)+" Request was aborted by the user.")},r._xhrOnLoad=function(){var e=this.xhr,n="",a=typeof e.status=="undefined"?So:e.status;(e.responseType===""||e.responseType==="text"||typeof e.responseType=="undefined")&&(n=e.responseText),a===td&&(n.length>0||e.responseType===i.XHR_RESPONSE_TYPE.BUFFER)?a=So:a===rd&&(a=ed);var o=a/100|0;if(o===id)if(this.xhrType===i.XHR_RESPONSE_TYPE.TEXT)this.data=n,this.type=i.TYPE.TEXT;else if(this.xhrType===i.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(n),this.type=i.TYPE.JSON}catch(u){this.abort("Error trying to parse loaded json: "+u);return}else if(this.xhrType===i.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var s=new DOMParser;this.data=s.parseFromString(n,"text/xml")}else{var h=document.createElement("div");h.innerHTML=n,this.data=h}this.type=i.TYPE.XML}catch(u){this.abort("Error trying to parse loaded xml: "+u);return}else this.data=e.response||n;else{this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL);return}this.complete()},r._determineCrossOrigin=function(e,n){if(e.indexOf("data:")===0)return"";if(window.origin!==window.location.origin)return"anonymous";n=n||window.location,Vr||(Vr=document.createElement("a")),Vr.href=e,e=Oh(Vr.href,{strictMode:!0});var a=!e.port&&n.port===""||e.port===n.port,o=e.protocol?e.protocol+":":"";return e.host!==n.hostname||!a||o!==n.protocol?"anonymous":""},r._determineXhrType=function(){return i._xhrTypeMap[this.extension]||i.XHR_RESPONSE_TYPE.TEXT},r._determineLoadType=function(){return i._loadTypeMap[this.extension]||i.LOAD_TYPE.XHR},r._getExtension=function(){var e=this.url,n="";if(this.isDataUrl){var a=e.indexOf("/");n=e.substring(a+1,e.indexOf(";",a))}else{var o=e.indexOf("?"),s=e.indexOf("#"),h=Math.min(o>-1?o:e.length,s>-1?s:e.length);e=e.substring(0,h),n=e.substring(e.lastIndexOf(".")+1)}return n.toLowerCase()},r._getMimeFromXhrType=function(e){switch(e){case i.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case i.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case i.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case i.XHR_RESPONSE_TYPE.JSON:return"application/json";case i.XHR_RESPONSE_TYPE.DEFAULT:case i.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},Ch(i,[{key:"isDataUrl",get:function(){return this._hasFlag(i.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(i.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(i.STATUS_FLAGS.LOADING)}}]),i}();k.STATUS_FLAGS={NONE:0,DATA_URL:1<<0,COMPLETE:1<<1,LOADING:1<<2};k.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6};k.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4};k.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"};k._loadTypeMap={gif:k.LOAD_TYPE.IMAGE,png:k.LOAD_TYPE.IMAGE,bmp:k.LOAD_TYPE.IMAGE,jpg:k.LOAD_TYPE.IMAGE,jpeg:k.LOAD_TYPE.IMAGE,tif:k.LOAD_TYPE.IMAGE,tiff:k.LOAD_TYPE.IMAGE,webp:k.LOAD_TYPE.IMAGE,tga:k.LOAD_TYPE.IMAGE,svg:k.LOAD_TYPE.IMAGE,"svg+xml":k.LOAD_TYPE.IMAGE,mp3:k.LOAD_TYPE.AUDIO,ogg:k.LOAD_TYPE.AUDIO,wav:k.LOAD_TYPE.AUDIO,mp4:k.LOAD_TYPE.VIDEO,webm:k.LOAD_TYPE.VIDEO};k._xhrTypeMap={xhtml:k.XHR_RESPONSE_TYPE.DOCUMENT,html:k.XHR_RESPONSE_TYPE.DOCUMENT,htm:k.XHR_RESPONSE_TYPE.DOCUMENT,xml:k.XHR_RESPONSE_TYPE.DOCUMENT,tmx:k.XHR_RESPONSE_TYPE.DOCUMENT,svg:k.XHR_RESPONSE_TYPE.DOCUMENT,tsx:k.XHR_RESPONSE_TYPE.DOCUMENT,gif:k.XHR_RESPONSE_TYPE.BLOB,png:k.XHR_RESPONSE_TYPE.BLOB,bmp:k.XHR_RESPONSE_TYPE.BLOB,jpg:k.XHR_RESPONSE_TYPE.BLOB,jpeg:k.XHR_RESPONSE_TYPE.BLOB,tif:k.XHR_RESPONSE_TYPE.BLOB,tiff:k.XHR_RESPONSE_TYPE.BLOB,webp:k.XHR_RESPONSE_TYPE.BLOB,tga:k.XHR_RESPONSE_TYPE.BLOB,json:k.XHR_RESPONSE_TYPE.JSON,text:k.XHR_RESPONSE_TYPE.TEXT,txt:k.XHR_RESPONSE_TYPE.TEXT,ttf:k.XHR_RESPONSE_TYPE.BUFFER,otf:k.XHR_RESPONSE_TYPE.BUFFER};k.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";function Ao(i,r,t){r&&r.indexOf(".")===0&&(r=r.substring(1)),r&&(i[r]=t)}function Hi(i){return i.toString().replace("object ","")}var ad="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function od(i){for(var r="",t=0;t<i.length;){for(var e=[0,0,0],n=[0,0,0,0],a=0;a<e.length;++a)t<i.length?e[a]=i.charCodeAt(t++)&255:e[a]=0;n[0]=e[0]>>2,n[1]=(e[0]&3)<<4|e[1]>>4,n[2]=(e[1]&15)<<2|e[2]>>6,n[3]=e[2]&63;var o=t-(i.length-1);switch(o){case 2:n[3]=64,n[2]=64;break;case 1:n[3]=64;break}for(var s=0;s<n.length;++s)r+=ad.charAt(n[s])}return r}var Oo=window.URL||window.webkitURL;function sd(i,r){if(!i.data){r();return}if(i.xhr&&i.xhrType===k.XHR_RESPONSE_TYPE.BLOB){if(!window.Blob||typeof i.data=="string"){var t=i.xhr.getResponseHeader("content-type");if(t&&t.indexOf("image")===0){i.data=new Image,i.data.src="data:"+t+";base64,"+od(i.xhr.responseText),i.type=k.TYPE.IMAGE,i.data.onload=function(){i.data.onload=null,r()};return}}else if(i.data.type.indexOf("image")===0){var e=Oo.createObjectURL(i.data);i.blob=i.data,i.data=new Image,i.data.src=e,i.type=k.TYPE.IMAGE,i.data.onload=function(){Oo.revokeObjectURL(e),i.data.onload=null,r()};return}}r()}var hd={caching:Jc,parsing:sd},ji=100,ud=/(#[\w-]+)?$/,Vt=function(){function i(t,e){var n=this;t===void 0&&(t=""),e===void 0&&(e=10),this.baseUrl=t,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(s,h){return n._loadResource(s,h)},this._queue=Kc(this._boundLoadResource,e),this._queue.pause(),this.resources={},this.onProgress=new Xt,this.onError=new Xt,this.onLoad=new Xt,this.onStart=new Xt,this.onComplete=new Xt;for(var a=0;a<i._defaultBeforeMiddleware.length;++a)this.pre(i._defaultBeforeMiddleware[a]);for(var o=0;o<i._defaultAfterMiddleware.length;++o)this.use(i._defaultAfterMiddleware[o])}var r=i.prototype;return r.add=function(e,n,a,o){if(Array.isArray(e)){for(var s=0;s<e.length;++s)this.add(e[s]);return this}if(typeof e=="object"&&(o=n||e.callback||e.onComplete,a=e,n=e.url,e=e.name||e.key||e.url),typeof n!="string"&&(o=a,a=n,n=e),typeof n!="string")throw new Error("No url passed to add resource to loader.");if(typeof a=="function"&&(o=a,a=null),this.loading&&(!a||!a.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[e])throw new Error('Resource named "'+e+'" already exists.');if(n=this._prepareUrl(n),this.resources[e]=new k(e,n,a),typeof o=="function"&&this.resources[e].onAfterMiddleware.once(o),this.loading){for(var h=a.parentResource,u=[],c=0;c<h.children.length;++c)h.children[c].isComplete||u.push(h.children[c]);var f=h.progressChunk*(u.length+1),l=f/(u.length+2);h.children.push(this.resources[e]),h.progressChunk=l;for(var d=0;d<u.length;++d)u[d].progressChunk=l;this.resources[e].progressChunk=l}return this._queue.push(this.resources[e]),this},r.pre=function(e){return this._beforeMiddleware.push(e),this},r.use=function(e){return this._afterMiddleware.push(e),this},r.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var e in this.resources){var n=this.resources[e];n._onLoadBinding&&n._onLoadBinding.detach(),n.isLoading&&n.abort()}return this.resources={},this},r.load=function(e){if(typeof e=="function"&&this.onComplete.once(e),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var n=this._queue._tasks.length,a=ji/n,o=0;o<this._queue._tasks.length;++o)this._queue._tasks[o].data.progressChunk=a;this._onStart(),this._queue.resume()}return this},r._prepareUrl=function(e){var n=Oh(e,{strictMode:!0}),a;if(n.protocol||!n.path||e.indexOf("//")===0?a=e:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&e.charAt(0)!=="/"?a=this.baseUrl+"/"+e:a=this.baseUrl+e,this.defaultQueryString){var o=ud.exec(a)[0];a=a.substr(0,a.length-o.length),a.indexOf("?")!==-1?a+="&"+this.defaultQueryString:a+="?"+this.defaultQueryString,a+=o}return a},r._loadResource=function(e,n){var a=this;e._dequeue=n,Io(this._beforeMiddleware,function(o,s){o.call(a,e,function(){s(e.isComplete?{}:null)})},function(){e.isComplete?a._onLoad(e):(e._onLoadBinding=e.onComplete.once(a._onLoad,a),e.load())},!0)},r._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},r._onComplete=function(){this.progress=ji,this.loading=!1,this.onComplete.dispatch(this,this.resources)},r._onLoad=function(e){var n=this;e._onLoadBinding=null,this._resourcesParsing.push(e),e._dequeue(),Io(this._afterMiddleware,function(a,o){a.call(n,e,o)},function(){e.onAfterMiddleware.dispatch(e),n.progress=Math.min(ji,n.progress+e.progressChunk),n.onProgress.dispatch(n,e),e.error?n.onError.dispatch(e.error,n,e):n.onLoad.dispatch(n,e),n._resourcesParsing.splice(n._resourcesParsing.indexOf(e),1),n._queue.idle()&&n._resourcesParsing.length===0&&n._onComplete()},!0)},Ch(i,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(e){this._queue.concurrency=e}}]),i}();Vt._defaultBeforeMiddleware=[];Vt._defaultAfterMiddleware=[];Vt.pre=function(r){return Vt._defaultBeforeMiddleware.push(r),Vt};Vt.use=function(r){return Vt._defaultAfterMiddleware.push(r),Vt};/*!
 * @pixi/loaders - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var fr=k;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var bn=function(i,r){return bn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},bn(i,r)};function ld(i,r){bn(i,r);function t(){this.constructor=i}i.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var Rh=function(){function i(){}return i.use=function(r,t){r.data&&r.type===k.TYPE.IMAGE&&(r.texture=G.fromLoader(r.data,r.url,r.name)),t()},i}(),we=function(i){ld(r,i);function r(t,e){for(var n=i.call(this,t,e)||this,a=0;a<r._plugins.length;++a){var o=r._plugins[a],s=o.pre,h=o.use;s&&n.pre(s),h&&n.use(h)}return n._protected=!1,n}return r.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(r,"shared",{get:function(){var t=r._shared;return t||(t=new r,t._protected=!0,r._shared=t),t},enumerable:!1,configurable:!0}),r.registerPlugin=function(t){return r._plugins.push(t),t.add&&t.add(),r},r._plugins=[],r}(Vt);we.registerPlugin({use:hd.parsing});we.registerPlugin(Rh);var Fh=function(){function i(){}return i.init=function(r){r=Object.assign({sharedLoader:!1},r),this.loader=r.sharedLoader?we.shared:new we},i.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},i}();/*!
 * @pixi/particles - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/particles is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Tn=function(i,r){return Tn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},Tn(i,r)};function Mh(i,r){Tn(i,r);function t(){this.constructor=i}i.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var fd=function(i){Mh(r,i);function r(t,e,n,a){t===void 0&&(t=1500),n===void 0&&(n=16384),a===void 0&&(a=!1);var o=i.call(this)||this,s=16384;return n>s&&(n=s),o._properties=[!1,!0,!1,!1,!1],o._maxSize=t,o._batchSize=n,o._buffers=null,o._bufferUpdateIDs=[],o._updateID=0,o.interactiveChildren=!1,o.blendMode=U.NORMAL,o.autoResize=a,o.roundPixels=!0,o.baseTexture=null,o.setProperties(e),o._tint=0,o.tintRgb=new Float32Array(4),o.tint=16777215,o}return r.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},r.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(r.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,be(t,this.tintRgb)},enumerable:!1,configurable:!0}),r.prototype.render=function(t){var e=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return e.onChildrenChange(0)})),t.batch.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},r.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},r.prototype.dispose=function(){if(this._buffers){for(var t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._buffers=null}},r.prototype.destroy=function(t){i.prototype.destroy.call(this,t),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},r}(St),Co=function(){function i(r,t,e){this.geometry=new Ze,this.indexBuffer=null,this.size=e,this.dynamicProperties=[],this.staticProperties=[];for(var n=0;n<r.length;++n){var a=r[n];a={attributeName:a.attributeName,size:a.size,uploadFunction:a.uploadFunction,type:a.type||st.FLOAT,offset:a.offset},t[n]?this.dynamicProperties.push(a):this.staticProperties.push(a)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return i.prototype.initBuffers=function(){var r=this.geometry,t=0;this.indexBuffer=new ct(Ps(this.size),!0,!0),r.addIndex(this.indexBuffer),this.dynamicStride=0;for(var e=0;e<this.dynamicProperties.length;++e){var n=this.dynamicProperties[e];n.offset=t,t+=n.size,this.dynamicStride+=n.size}var a=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(a),this.dynamicDataUint32=new Uint32Array(a),this.dynamicBuffer=new ct(this.dynamicData,!1,!1);var o=0;this.staticStride=0;for(var e=0;e<this.staticProperties.length;++e){var n=this.staticProperties[e];n.offset=o,o+=n.size,this.staticStride+=n.size}var s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new ct(this.staticData,!0,!1);for(var e=0;e<this.dynamicProperties.length;++e){var n=this.dynamicProperties[e];r.addAttribute(n.attributeName,this.dynamicBuffer,0,n.type===st.UNSIGNED_BYTE,n.type,this.dynamicStride*4,n.offset*4)}for(var e=0;e<this.staticProperties.length;++e){var n=this.staticProperties[e];r.addAttribute(n.attributeName,this.staticBuffer,0,n.type===st.UNSIGNED_BYTE,n.type,this.staticStride*4,n.offset*4)}},i.prototype.uploadDynamic=function(r,t,e){for(var n=0;n<this.dynamicProperties.length;n++){var a=this.dynamicProperties[n];a.uploadFunction(r,t,e,a.type===st.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,a.offset)}this.dynamicBuffer._updateID++},i.prototype.uploadStatic=function(r,t,e){for(var n=0;n<this.staticProperties.length;n++){var a=this.staticProperties[n];a.uploadFunction(r,t,e,a.type===st.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,a.offset)}this.staticBuffer._updateID++},i.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},i}(),cd=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,dd=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`,Lh=function(i){Mh(r,i);function r(t){var e=i.call(this,t)||this;return e.shader=null,e.properties=null,e.tempMatrix=new ht,e.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:e.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:e.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:e.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:e.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:st.UNSIGNED_BYTE,uploadFunction:e.uploadTint,offset:0}],e.shader=re.from(dd,cd,{}),e.state=ne.for2d(),e}return r.prototype.render=function(t){var e=t.children,n=t._maxSize,a=t._batchSize,o=this.renderer,s=e.length;if(s!==0){s>n&&!t.autoResize&&(s=n);var h=t._buffers;h||(h=t._buffers=this.generateBuffers(t));var u=e[0]._texture.baseTexture;this.state.blendMode=oa(t.blendMode,u.alphaMode),o.state.set(this.state);var c=o.gl,f=t.worldTransform.copyTo(this.tempMatrix);f.prepend(o.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=f.toArray(!0),this.shader.uniforms.uColor=ws(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,u.alphaMode),this.shader.uniforms.uSampler=u,this.renderer.shader.bind(this.shader);for(var l=!1,d=0,p=0;d<s;d+=a,p+=1){var v=s-d;v>a&&(v=a),p>=h.length&&h.push(this._generateOneMoreBuffer(t));var y=h[p];y.uploadDynamic(e,d,v);var g=t._bufferUpdateIDs[p]||0;l=l||y._updateID<g,l&&(y._updateID=t._updateID,y.uploadStatic(e,d,v)),o.geometry.bind(y.geometry),c.drawElements(c.TRIANGLES,v*6,c.UNSIGNED_SHORT,0)}}},r.prototype.generateBuffers=function(t){for(var e=[],n=t._maxSize,a=t._batchSize,o=t._properties,s=0;s<n;s+=a)e.push(new Co(this.properties,o,a));return e},r.prototype._generateOneMoreBuffer=function(t){var e=t._batchSize,n=t._properties;return new Co(this.properties,n,e)},r.prototype.uploadVertices=function(t,e,n,a,o,s){for(var h=0,u=0,c=0,f=0,l=0;l<n;++l){var d=t[e+l],p=d._texture,v=d.scale.x,y=d.scale.y,g=p.trim,x=p.orig;g?(u=g.x-d.anchor.x*x.width,h=u+g.width,f=g.y-d.anchor.y*x.height,c=f+g.height):(h=x.width*(1-d.anchor.x),u=x.width*-d.anchor.x,c=x.height*(1-d.anchor.y),f=x.height*-d.anchor.y),a[s]=u*v,a[s+1]=f*y,a[s+o]=h*v,a[s+o+1]=f*y,a[s+o*2]=h*v,a[s+o*2+1]=c*y,a[s+o*3]=u*v,a[s+o*3+1]=c*y,s+=o*4}},r.prototype.uploadPosition=function(t,e,n,a,o,s){for(var h=0;h<n;h++){var u=t[e+h].position;a[s]=u.x,a[s+1]=u.y,a[s+o]=u.x,a[s+o+1]=u.y,a[s+o*2]=u.x,a[s+o*2+1]=u.y,a[s+o*3]=u.x,a[s+o*3+1]=u.y,s+=o*4}},r.prototype.uploadRotation=function(t,e,n,a,o,s){for(var h=0;h<n;h++){var u=t[e+h].rotation;a[s]=u,a[s+o]=u,a[s+o*2]=u,a[s+o*3]=u,s+=o*4}},r.prototype.uploadUvs=function(t,e,n,a,o,s){for(var h=0;h<n;++h){var u=t[e+h]._texture._uvs;u?(a[s]=u.x0,a[s+1]=u.y0,a[s+o]=u.x1,a[s+o+1]=u.y1,a[s+o*2]=u.x2,a[s+o*2+1]=u.y2,a[s+o*3]=u.x3,a[s+o*3+1]=u.y3,s+=o*4):(a[s]=0,a[s+1]=0,a[s+o]=0,a[s+o+1]=0,a[s+o*2]=0,a[s+o*2+1]=0,a[s+o*3]=0,a[s+o*3+1]=0,s+=o*4)}},r.prototype.uploadTint=function(t,e,n,a,o,s){for(var h=0;h<n;++h){var u=t[e+h],c=u._texture.baseTexture.alphaMode>0,f=u.alpha,l=f<1&&c?fi(u._tintRGB,f):u._tintRGB+(f*255<<24);a[s]=l,a[s+o]=l,a[s+o*2]=l,a[s+o*3]=l,s+=o*4}},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},r}(wr);/*!
 * @pixi/graphics - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/graphics is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Gt;(function(i){i.MITER="miter",i.BEVEL="bevel",i.ROUND="round"})(Gt||(Gt={}));var Ht;(function(i){i.BUTT="butt",i.ROUND="round",i.SQUARE="square"})(Ht||(Ht={}));var ze={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(i,r){if(r===void 0&&(r=20),!this.adaptive||!i||isNaN(i))return r;var t=Math.ceil(i/this.maxLength);return t<this.minSegments?t=this.minSegments:t>this.maxSegments&&(t=this.maxSegments),t}},_a=function(){function i(){this.color=16777215,this.alpha=1,this.texture=G.WHITE,this.matrix=null,this.visible=!1,this.reset()}return i.prototype.clone=function(){var r=new i;return r.color=this.color,r.alpha=this.alpha,r.texture=this.texture,r.matrix=this.matrix,r.visible=this.visible,r},i.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=G.WHITE,this.matrix=null,this.visible=!1},i.prototype.destroy=function(){this.texture=null,this.matrix=null},i}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var wn=function(i,r){return wn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},wn(i,r)};function vi(i,r){wn(i,r);function t(){this.constructor=i}i.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var xa={build:function(i){i.points=i.shape.points.slice()},triangulate:function(i,r){var t=i.points,e=i.holes,n=r.points,a=r.indices;if(t.length>=6){for(var o=[],s=0;s<e.length;s++){var h=e[s];o.push(t.length/2),t=t.concat(h.points)}var u=$n(t,o,2);if(!u)return;for(var c=n.length/2,s=0;s<u.length;s+=3)a.push(u[s]+c),a.push(u[s+1]+c),a.push(u[s+2]+c);for(var s=0;s<t.length;s++)n.push(t[s])}}},Pn={build:function(i){var r=i.shape,t=i.points,e=r.x,n=r.y,a,o;if(t.length=0,i.type===at.CIRC)a=r.radius,o=r.radius;else{var s=i.shape;a=s.width,o=s.height}if(!(a===0||o===0)){var h=Math.floor(30*Math.sqrt(r.radius))||Math.floor(15*Math.sqrt(a+o));h/=2.3;for(var u=Math.PI*2/h,c=0;c<h-.5;c++)t.push(e+Math.sin(-u*c)*a,n+Math.cos(-u*c)*o);t.push(t[0],t[1])}},triangulate:function(i,r){var t=i.points,e=r.points,n=r.indices,a=e.length/2,o=a,s=i.shape,h=i.matrix,u=s.x,c=s.y;e.push(i.matrix?h.a*u+h.c*c+h.tx:u,i.matrix?h.b*u+h.d*c+h.ty:c);for(var f=0;f<t.length;f+=2)e.push(t[f],t[f+1]),n.push(a++,o,a)}},Nh={build:function(i){var r=i.shape,t=r.x,e=r.y,n=r.width,a=r.height,o=i.points;o.length=0,o.push(t,e,t+n,e,t+n,e+a,t,e+a)},triangulate:function(i,r){var t=i.points,e=r.points,n=e.length/2;e.push(t[0],t[1],t[2],t[3],t[6],t[7],t[4],t[5]),r.indices.push(n,n+1,n+2,n+1,n+2,n+3)}};function Ae(i,r,t){var e=r-i;return i+e*t}function zr(i,r,t,e,n,a,o){o===void 0&&(o=[]);for(var s=20,h=o,u=0,c=0,f=0,l=0,d=0,p=0,v=0,y=0;v<=s;++v)y=v/s,u=Ae(i,t,y),c=Ae(r,e,y),f=Ae(t,n,y),l=Ae(e,a,y),d=Ae(u,f,y),p=Ae(c,l,y),h.push(d,p);return h}var Dh={build:function(i){var r=i.shape,t=i.points,e=r.x,n=r.y,a=r.width,o=r.height,s=Math.max(0,Math.min(r.radius,Math.min(a,o)/2));t.length=0,s?(zr(e,n+s,e,n,e+s,n,t),zr(e+a-s,n,e+a,n,e+a,n+s,t),zr(e+a,n+o-s,e+a,n+o,e+a-s,n+o,t),zr(e+s,n+o,e,n+o,e,n+o-s,t)):t.push(e,n,e+a,n,e+a,n+o,e,n+o)},triangulate:function(i,r){for(var t=i.points,e=r.points,n=r.indices,a=e.length/2,o=$n(t,null,2),s=0,h=o.length;s<h;s+=3)n.push(o[s]+a),n.push(o[s+1]+a),n.push(o[s+2]+a);for(var s=0,h=t.length;s<h;s++)e.push(t[s],t[++s])}};function Ro(i,r,t,e,n,a,o,s){var h=i-t*n,u=r-e*n,c=i+t*a,f=r+e*a,l,d;o?(l=e,d=-t):(l=-e,d=t);var p=h+l,v=u+d,y=c+l,g=f+d;return s.push(p,v),s.push(y,g),2}function Oe(i,r,t,e,n,a,o,s){var h=t-i,u=e-r,c=Math.atan2(h,u),f=Math.atan2(n-i,a-r);s&&c<f?c+=Math.PI*2:!s&&c>f&&(f+=Math.PI*2);var l=c,d=f-c,p=Math.abs(d),v=Math.sqrt(h*h+u*u),y=(15*p*Math.sqrt(v)/Math.PI>>0)+1,g=d/y;if(l+=g,s){o.push(i,r),o.push(t,e);for(var x=1,m=l;x<y;x++,m+=g)o.push(i,r),o.push(i+Math.sin(m)*v,r+Math.cos(m)*v);o.push(i,r),o.push(n,a)}else{o.push(t,e),o.push(i,r);for(var x=1,m=l;x<y;x++,m+=g)o.push(i+Math.sin(m)*v,r+Math.cos(m)*v),o.push(i,r);o.push(n,a),o.push(i,r)}return y*2}function pd(i,r){var t=i.shape,e=i.points||t.points.slice(),n=r.closePointEps;if(e.length!==0){var a=i.lineStyle,o=new pt(e[0],e[1]),s=new pt(e[e.length-2],e[e.length-1]),h=t.type!==at.POLY||t.closeStroke,u=Math.abs(o.x-s.x)<n&&Math.abs(o.y-s.y)<n;if(h){e=e.slice(),u&&(e.pop(),e.pop(),s.set(e[e.length-2],e[e.length-1]));var c=(o.x+s.x)*.5,f=(s.y+o.y)*.5;e.unshift(c,f),e.push(c,f)}var l=r.points,d=e.length/2,p=e.length,v=l.length/2,y=a.width/2,g=y*y,x=a.miterLimit*a.miterLimit,m=e[0],T=e[1],b=e[2],w=e[3],N=0,E=0,_=-(T-w),P=m-b,S=0,R=0,F=Math.sqrt(_*_+P*P);_/=F,P/=F,_*=y,P*=y;var z=a.alignment,M=(1-z)*2,C=z*2;h||(a.cap===Ht.ROUND?p+=Oe(m-_*(M-C)*.5,T-P*(M-C)*.5,m-_*M,T-P*M,m+_*C,T+P*C,l,!0)+2:a.cap===Ht.SQUARE&&(p+=Ro(m,T,_,P,M,C,!0,l))),l.push(m-_*M,T-P*M),l.push(m+_*C,T+P*C);for(var O=1;O<d-1;++O){m=e[(O-1)*2],T=e[(O-1)*2+1],b=e[O*2],w=e[O*2+1],N=e[(O+1)*2],E=e[(O+1)*2+1],_=-(T-w),P=m-b,F=Math.sqrt(_*_+P*P),_/=F,P/=F,_*=y,P*=y,S=-(w-E),R=b-N,F=Math.sqrt(S*S+R*R),S/=F,R/=F,S*=y,R*=y;var Ft=b-m,Mt=T-w,L=b-N,B=E-w,H=Mt*L-B*Ft,$=H<0;if(Math.abs(H)<.1){l.push(b-_*M,w-P*M),l.push(b+_*C,w+P*C);continue}var Z=(-_+m)*(-P+w)-(-_+b)*(-P+T),rt=(-S+N)*(-R+w)-(-S+b)*(-R+E),K=(Ft*rt-L*Z)/H,tt=(B*Z-Mt*rt)/H,ot=(K-b)*(K-b)+(tt-w)*(tt-w),j=b+(K-b)*M,it=w+(tt-w)*M,Y=b-(K-b)*C,X=w-(tt-w)*C,nt=Math.min(Ft*Ft+Mt*Mt,L*L+B*B),yt=$?M:C,_t=nt+yt*yt*g,qt=ot<=_t;qt?a.join===Gt.BEVEL||ot/g>x?($?(l.push(j,it),l.push(b+_*C,w+P*C),l.push(j,it),l.push(b+S*C,w+R*C)):(l.push(b-_*M,w-P*M),l.push(Y,X),l.push(b-S*M,w-R*M),l.push(Y,X)),p+=2):a.join===Gt.ROUND?$?(l.push(j,it),l.push(b+_*C,w+P*C),p+=Oe(b,w,b+_*C,w+P*C,b+S*C,w+R*C,l,!0)+4,l.push(j,it),l.push(b+S*C,w+R*C)):(l.push(b-_*M,w-P*M),l.push(Y,X),p+=Oe(b,w,b-_*M,w-P*M,b-S*M,w-R*M,l,!1)+4,l.push(b-S*M,w-R*M),l.push(Y,X)):(l.push(j,it),l.push(Y,X)):(l.push(b-_*M,w-P*M),l.push(b+_*C,w+P*C),a.join===Gt.BEVEL||ot/g>x||(a.join===Gt.ROUND?$?p+=Oe(b,w,b+_*C,w+P*C,b+S*C,w+R*C,l,!0)+2:p+=Oe(b,w,b-_*M,w-P*M,b-S*M,w-R*M,l,!1)+2:($?(l.push(Y,X),l.push(Y,X)):(l.push(j,it),l.push(j,it)),p+=2)),l.push(b-S*M,w-R*M),l.push(b+S*C,w+R*C),p+=2)}m=e[(d-2)*2],T=e[(d-2)*2+1],b=e[(d-1)*2],w=e[(d-1)*2+1],_=-(T-w),P=m-b,F=Math.sqrt(_*_+P*P),_/=F,P/=F,_*=y,P*=y,l.push(b-_*M,w-P*M),l.push(b+_*C,w+P*C),h||(a.cap===Ht.ROUND?p+=Oe(b-_*(M-C)*.5,w-P*(M-C)*.5,b-_*M,w-P*M,b+_*C,w+P*C,l,!1)+2:a.cap===Ht.SQUARE&&(p+=Ro(b,w,_,P,M,C,!1,l)));for(var Sr=r.indices,Ar=ze.epsilon*ze.epsilon,O=v;O<p+v-2;++O)m=l[O*2],T=l[O*2+1],b=l[(O+1)*2],w=l[(O+1)*2+1],N=l[(O+2)*2],E=l[(O+2)*2+1],!(Math.abs(m*(w-E)+b*(E-T)+N*(T-w))<Ar)&&Sr.push(O,O+1,O+2)}}function vd(i,r){var t=0,e=i.shape,n=i.points||e.points,a=e.type!==at.POLY||e.closeStroke;if(n.length!==0){var o=r.points,s=r.indices,h=n.length/2,u=o.length/2,c=u;for(o.push(n[0],n[1]),t=1;t<h;t++)o.push(n[t*2],n[t*2+1]),s.push(c,c+1),c++;a&&s.push(c,u)}}function In(i,r){i.lineStyle.native?vd(i,r):pd(i,r)}var Uh=function(i){vi(r,i);function r(t,e,n,a,o,s){s===void 0&&(s=0);var h=this;o=o||a/2;for(var u=-1*Math.PI/2+s,c=n*2,f=je/c,l=[],d=0;d<c;d++){var p=d%2?o:a,v=d*f+u;l.push(t+p*Math.cos(v),e+p*Math.sin(v))}return h=i.call(this,l)||this,h}return r}(De),En=function(){function i(){}return i.curveTo=function(r,t,e,n,a,o){var s=o[o.length-2],h=o[o.length-1],u=h-t,c=s-r,f=n-t,l=e-r,d=Math.abs(u*l-c*f);if(d<1e-8||a===0)return(o[o.length-2]!==r||o[o.length-1]!==t)&&o.push(r,t),null;var p=u*u+c*c,v=f*f+l*l,y=u*f+c*l,g=a*Math.sqrt(p)/d,x=a*Math.sqrt(v)/d,m=g*y/p,T=x*y/v,b=g*l+x*c,w=g*f+x*u,N=c*(x+m),E=u*(x+m),_=l*(g+T),P=f*(g+T),S=Math.atan2(E-w,N-b),R=Math.atan2(P-w,_-b);return{cx:b+r,cy:w+t,radius:a,startAngle:S,endAngle:R,anticlockwise:c*f>l*u}},i.arc=function(r,t,e,n,a,o,s,h,u){for(var c=s-o,f=ze._segmentsCount(Math.abs(c)*a,Math.ceil(Math.abs(c)/je)*40),l=c/(f*2),d=l*2,p=Math.cos(l),v=Math.sin(l),y=f-1,g=y%1/y,x=0;x<=y;++x){var m=x+g*x,T=l+o+d*m,b=Math.cos(T),w=-Math.sin(T);u.push((p*b+v*w)*a+e,(p*-w+v*b)*a+n)}},i}(),Bh=function(){function i(){}return i.curveLength=function(r,t,e,n,a,o,s,h){for(var u=10,c=0,f=0,l=0,d=0,p=0,v=0,y=0,g=0,x=0,m=0,T=0,b=r,w=t,N=1;N<=u;++N)f=N/u,l=f*f,d=l*f,p=1-f,v=p*p,y=v*p,g=y*r+3*v*f*e+3*p*l*a+d*s,x=y*t+3*v*f*n+3*p*l*o+d*h,m=b-g,T=w-x,b=g,w=x,c+=Math.sqrt(m*m+T*T);return c},i.curveTo=function(r,t,e,n,a,o,s){var h=s[s.length-2],u=s[s.length-1];s.length-=2;var c=ze._segmentsCount(i.curveLength(h,u,r,t,e,n,a,o)),f=0,l=0,d=0,p=0,v=0;s.push(h,u);for(var y=1,g=0;y<=c;++y)g=y/c,f=1-g,l=f*f,d=l*f,p=g*g,v=p*g,s.push(d*h+3*l*g*r+3*f*p*e+v*a,d*u+3*l*g*t+3*f*p*n+v*o)},i}(),kh=function(){function i(){}return i.curveLength=function(r,t,e,n,a,o){var s=r-2*e+a,h=t-2*n+o,u=2*e-2*r,c=2*n-2*t,f=4*(s*s+h*h),l=4*(s*u+h*c),d=u*u+c*c,p=2*Math.sqrt(f+l+d),v=Math.sqrt(f),y=2*f*v,g=2*Math.sqrt(d),x=l/v;return(y*p+v*l*(p-g)+(4*d*f-l*l)*Math.log((2*v+x+p)/(x+g)))/(4*y)},i.curveTo=function(r,t,e,n,a){for(var o=a[a.length-2],s=a[a.length-1],h=ze._segmentsCount(i.curveLength(o,s,r,t,e,n)),u=0,c=0,f=1;f<=h;++f){var l=f/h;u=o+(r-o)*l,c=s+(t-s)*l,a.push(u+(r+(e-r)*l-u)*l,c+(t+(n-t)*l-c)*l)}},i}(),Xh=function(){function i(){this.reset()}return i.prototype.begin=function(r,t,e){this.reset(),this.style=r,this.start=t,this.attribStart=e},i.prototype.end=function(r,t){this.attribSize=t-this.attribStart,this.size=r-this.start},i.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},i}(),he,Jr=(he={},he[at.POLY]=xa,he[at.CIRC]=Pn,he[at.ELIP]=Pn,he[at.RECT]=Nh,he[at.RREC]=Dh,he),Sn=[],or=[],yd={buildPoly:xa,buildCircle:Pn,buildRectangle:Nh,buildRoundedRectangle:Dh,FILL_COMMANDS:Jr,BATCH_POOL:Sn,DRAW_CALL_POOL:or,buildLine:In,Star:Uh,ArcUtils:En,BezierUtils:Bh,QuadraticUtils:kh,BatchPart:Xh},An=function(){function i(r,t,e,n){t===void 0&&(t=null),e===void 0&&(e=null),n===void 0&&(n=null),this.shape=r,this.lineStyle=e,this.fillStyle=t,this.matrix=n,this.type=r.type,this.points=[],this.holes=[]}return i.prototype.clone=function(){return new i(this.shape,this.fillStyle,this.lineStyle,this.matrix)},i.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},i}(),Ce=new pt,md=new gr,Gh=function(i){vi(r,i);function r(){var t=i.call(this)||this;return t.uvsFloat32=null,t.indicesUint16=null,t.points=[],t.colors=[],t.uvs=[],t.indices=[],t.textureIds=[],t.graphicsData=[],t.dirty=0,t.batchDirty=-1,t.cacheDirty=-1,t.clearDirty=0,t.drawCalls=[],t.batches=[],t.shapeIndex=0,t._bounds=new gr,t.boundsDirty=-1,t.boundsPadding=0,t.batchable=!1,t.indicesUint16=null,t.uvsFloat32=null,t.closePointEps=1e-4,t}return Object.defineProperty(r.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),r.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),or.push(this.drawCalls[t]);this.drawCalls.length=0;for(var t=0;t<this.batches.length;t++){var e=this.batches[t];e.reset(),Sn.push(e)}this.batches.length=0},r.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},r.prototype.drawShape=function(t,e,n,a){e===void 0&&(e=null),n===void 0&&(n=null),a===void 0&&(a=null);var o=new An(t,e,n,a);return this.graphicsData.push(o),this.dirty++,this},r.prototype.drawHole=function(t,e){if(e===void 0&&(e=null),!this.graphicsData.length)return null;var n=new An(t,null,null,e),a=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=a.lineStyle,a.holes.push(n),this.dirty++,this},r.prototype.destroy=function(){i.prototype.destroy.call(this);for(var t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},r.prototype.containsPoint=function(t){for(var e=this.graphicsData,n=0;n<e.length;++n){var a=e[n];if(!!a.fillStyle.visible&&a.shape&&(a.matrix?a.matrix.applyInverse(t,Ce):Ce.copyFrom(t),a.shape.contains(Ce.x,Ce.y))){var o=!1;if(a.holes)for(var s=0;s<a.holes.length;s++){var h=a.holes[s];if(h.shape.contains(Ce.x,Ce.y)){o=!0;break}}if(!o)return!0}}return!1},r.prototype.updateBatches=function(t){if(!this.graphicsData.length){this.batchable=!0;return}if(!!this.validateBatching()){this.cacheDirty=this.dirty;var e=this.uvs,n=this.graphicsData,a=null,o=null;this.batches.length>0&&(a=this.batches[this.batches.length-1],o=a.style);for(var s=this.shapeIndex;s<n.length;s++){this.shapeIndex++;var h=n[s],u=h.fillStyle,c=h.lineStyle,f=Jr[h.type];f.build(h),h.matrix&&this.transformPoints(h.points,h.matrix);for(var l=0;l<2;l++){var d=l===0?u:c;if(!!d.visible){var p=d.texture.baseTexture,v=this.indices.length,y=this.points.length/2;p.wrapMode=jt.REPEAT,l===0?this.processFill(h):this.processLine(h);var g=this.points.length/2-y;g!==0&&(a&&!this._compareStyles(o,d)&&(a.end(v,y),a=null),a||(a=Sn.pop()||new Xh,a.begin(d,v,y),this.batches.push(a),o=d),this.addUvs(this.points,e,d.texture,y,g,d.matrix))}}}var x=this.indices.length,m=this.points.length/2;if(a&&a.end(x,m),this.batches.length===0){this.batchable=!0;return}if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var T=m>65535&&t;this.indicesUint16=T?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}},r.prototype._compareStyles=function(t,e){return!(!t||!e||t.texture.baseTexture!==e.texture.baseTexture||t.color+t.alpha!==e.color+e.alpha||!!t.native!=!!e.native)},r.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var t=0,e=this.graphicsData.length;t<e;t++){var n=this.graphicsData[t],a=n.fillStyle,o=n.lineStyle;if(a&&!a.texture.baseTexture.valid||o&&!o.texture.baseTexture.valid)return!1}return!0},r.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var t=this.batches,e=0,n=t.length;e<n;e++)for(var a=t[e],o=0;o<a.size;o++){var s=a.start+o;this.indicesUint16[s]=this.indicesUint16[s]-a.attribStart}},r.prototype.isBatchable=function(){if(this.points.length>65535*2)return!1;for(var t=this.batches,e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<r.BATCHABLE_SIZE*2},r.prototype.buildDrawCalls=function(){for(var t=++J._globalBatch,e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),or.push(this.drawCalls[e]);this.drawCalls.length=0;var n=this.colors,a=this.textureIds,o=or.pop();o||(o=new oi,o.texArray=new si),o.texArray.count=0,o.start=0,o.size=0,o.type=It.TRIANGLES;var s=0,h=null,u=0,c=!1,f=It.TRIANGLES,l=0;this.drawCalls.push(o);for(var e=0;e<this.batches.length;e++){var d=this.batches[e],p=8,v=d.style,y=v.texture.baseTexture;c!==!!v.native&&(c=!!v.native,f=c?It.LINES:It.TRIANGLES,h=null,s=p,t++),h!==y&&(h=y,y._batchEnabled!==t&&(s===p&&(t++,s=0,o.size>0&&(o=or.pop(),o||(o=new oi,o.texArray=new si),this.drawCalls.push(o)),o.start=l,o.size=0,o.texArray.count=0,o.type=f),y.touched=1,y._batchEnabled=t,y._batchLocation=s,y.wrapMode=10497,o.texArray.elements[o.texArray.count++]=y,s++)),o.size+=d.size,l+=d.size,u=y._batchLocation,this.addColors(n,v.color,v.alpha,d.attribSize,d.attribStart),this.addTextureIds(a,u,d.attribSize,d.attribStart)}J._globalBatch=t,this.packAttributes()},r.prototype.packAttributes=function(){for(var t=this.points,e=this.uvs,n=this.colors,a=this.textureIds,o=new ArrayBuffer(t.length*3*4),s=new Float32Array(o),h=new Uint32Array(o),u=0,c=0;c<t.length/2;c++)s[u++]=t[c*2],s[u++]=t[c*2+1],s[u++]=e[c*2],s[u++]=e[c*2+1],h[u++]=n[c],s[u++]=a[c];this._buffer.update(o),this._indexBuffer.update(this.indicesUint16)},r.prototype.processFill=function(t){if(t.holes.length)this.processHoles(t.holes),xa.triangulate(t,this);else{var e=Jr[t.type];e.triangulate(t,this)}},r.prototype.processLine=function(t){In(t,this);for(var e=0;e<t.holes.length;e++)In(t.holes[e],this)},r.prototype.processHoles=function(t){for(var e=0;e<t.length;e++){var n=t[e],a=Jr[n.type];a.build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}},r.prototype.calculateBounds=function(){var t=this._bounds,e=md,n=ht.IDENTITY;this._bounds.clear(),e.clear();for(var a=0;a<this.graphicsData.length;a++){var o=this.graphicsData[a],s=o.shape,h=o.type,u=o.lineStyle,c=o.matrix||ht.IDENTITY,f=0;if(u&&u.visible){var l=u.alignment;f=u.width,h===at.POLY?f=f*(.5+Math.abs(.5-l)):f=f*Math.max(0,l)}if(n!==c&&(e.isEmpty()||(t.addBoundsMatrix(e,n),e.clear()),n=c),h===at.RECT||h===at.RREC){var d=s;e.addFramePad(d.x,d.y,d.x+d.width,d.y+d.height,f,f)}else if(h===at.CIRC){var p=s;e.addFramePad(p.x,p.y,p.x,p.y,p.radius+f,p.radius+f)}else if(h===at.ELIP){var v=s;e.addFramePad(v.x,v.y,v.x,v.y,v.width+f,v.height+f)}else{var y=s;t.addVerticesMatrix(n,y.points,0,y.points.length,f,f)}}e.isEmpty()||t.addBoundsMatrix(e,n),t.pad(this.boundsPadding,this.boundsPadding)},r.prototype.transformPoints=function(t,e){for(var n=0;n<t.length/2;n++){var a=t[n*2],o=t[n*2+1];t[n*2]=e.a*a+e.c*o+e.tx,t[n*2+1]=e.b*a+e.d*o+e.ty}},r.prototype.addColors=function(t,e,n,a,o){o===void 0&&(o=0);var s=(e>>16)+(e&65280)+((e&255)<<16),h=fi(s,n);t.length=Math.max(t.length,o+a);for(var u=0;u<a;u++)t[o+u]=h},r.prototype.addTextureIds=function(t,e,n,a){a===void 0&&(a=0),t.length=Math.max(t.length,a+n);for(var o=0;o<n;o++)t[a+o]=e},r.prototype.addUvs=function(t,e,n,a,o,s){s===void 0&&(s=null);for(var h=0,u=e.length,c=n.frame;h<o;){var f=t[(a+h)*2],l=t[(a+h)*2+1];if(s){var d=s.a*f+s.c*l+s.tx;l=s.b*f+s.d*l+s.ty,f=d}h++,e.push(f/c.width,l/c.height)}var p=n.baseTexture;(c.width<p.width||c.height<p.height)&&this.adjustUvs(e,n,u,o)},r.prototype.adjustUvs=function(t,e,n,a){for(var o=e.baseTexture,s=1e-6,h=n+a*2,u=e.frame,c=u.width/o.width,f=u.height/o.height,l=u.x/u.width,d=u.y/u.height,p=Math.floor(t[n]+s),v=Math.floor(t[n+1]+s),y=n+2;y<h;y+=2)p=Math.min(p,Math.floor(t[y]+s)),v=Math.min(v,Math.floor(t[y+1]+s));l-=p,d-=v;for(var y=n;y<h;y+=2)t[y]=(t[y]+l)*c,t[y+1]=(t[y+1]+d)*f},r.BATCHABLE_SIZE=100,r}(ga),Hh=function(i){vi(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.width=0,t.alignment=.5,t.native=!1,t.cap=Ht.BUTT,t.join=Gt.MITER,t.miterLimit=10,t}return r.prototype.clone=function(){var t=new r;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t.cap=this.cap,t.join=this.join,t.miterLimit=this.miterLimit,t},r.prototype.reset=function(){i.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},r}(_a),gd=new Float32Array(3),Vi={},ba=function(i){vi(r,i);function r(t){t===void 0&&(t=null);var e=i.call(this)||this;return e._geometry=t||new Gh,e._geometry.refCount++,e.shader=null,e.state=ne.for2d(),e._fillStyle=new _a,e._lineStyle=new Hh,e._matrix=null,e._holeMode=!1,e.currentPath=null,e.batches=[],e.batchTint=-1,e.batchDirty=-1,e.vertexData=null,e.pluginName="batch",e._transformID=-1,e.tint=16777215,e.blendMode=U.NORMAL,e}return Object.defineProperty(r.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),r.prototype.clone=function(){return this.finishPoly(),new r(this._geometry)},Object.defineProperty(r.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),r.prototype.lineStyle=function(t){if(t===void 0&&(t=null),typeof t=="number"){var e=arguments;t={width:e[0]||0,color:e[1]||0,alpha:e[2]!==void 0?e[2]:1,alignment:e[3]!==void 0?e[3]:.5,native:!!e[4]}}return this.lineTextureStyle(t)},r.prototype.lineTextureStyle=function(t){if(typeof t=="number"){I("v5.2.0","Please use object-based options for Graphics#lineTextureStyle");var e=arguments,n=e[0],a=e[1],o=e[2],s=e[3],h=e[4],u=e[5],c=e[6];t={width:n,texture:a,color:o,alpha:s,matrix:h,alignment:u,native:c},Object.keys(t).forEach(function(l){return t[l]===void 0&&delete t[l]})}t=Object.assign({width:0,texture:G.WHITE,color:t&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:Ht.BUTT,join:Gt.MITER,miterLimit:10},t),this.currentPath&&this.startPoly();var f=t.width>0&&t.alpha>0;return f?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:f},t)):this._lineStyle.reset(),this},r.prototype.startPoly=function(){if(this.currentPath){var t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new De,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new De,this.currentPath.closeStroke=!1},r.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},r.prototype.moveTo=function(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this},r.prototype.lineTo=function(t,e){this.currentPath||this.moveTo(0,0);var n=this.currentPath.points,a=n[n.length-2],o=n[n.length-1];return(a!==t||o!==e)&&n.push(t,e),this},r.prototype._initCurve=function(t,e){t===void 0&&(t=0),e===void 0&&(e=0),this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[t,e]):this.moveTo(t,e)},r.prototype.quadraticCurveTo=function(t,e,n,a){this._initCurve();var o=this.currentPath.points;return o.length===0&&this.moveTo(0,0),kh.curveTo(t,e,n,a,o),this},r.prototype.bezierCurveTo=function(t,e,n,a,o,s){return this._initCurve(),Bh.curveTo(t,e,n,a,o,s,this.currentPath.points),this},r.prototype.arcTo=function(t,e,n,a,o){this._initCurve(t,e);var s=this.currentPath.points,h=En.curveTo(t,e,n,a,o,s);if(h){var u=h.cx,c=h.cy,f=h.radius,l=h.startAngle,d=h.endAngle,p=h.anticlockwise;this.arc(u,c,f,l,d,p)}return this},r.prototype.arc=function(t,e,n,a,o,s){if(s===void 0&&(s=!1),a===o)return this;!s&&o<=a?o+=je:s&&a<=o&&(a+=je);var h=o-a;if(h===0)return this;var u=t+Math.cos(a)*n,c=e+Math.sin(a)*n,f=this._geometry.closePointEps,l=this.currentPath?this.currentPath.points:null;if(l){var d=Math.abs(l[l.length-2]-u),p=Math.abs(l[l.length-1]-c);d<f&&p<f||l.push(u,c)}else this.moveTo(u,c),l=this.currentPath.points;return En.arc(u,c,t,e,n,a,o,s,l),this},r.prototype.beginFill=function(t,e){return t===void 0&&(t=0),e===void 0&&(e=1),this.beginTextureFill({texture:G.WHITE,color:t,alpha:e})},r.prototype.beginTextureFill=function(t){if(t instanceof G){I("v5.2.0","Please use object-based options for Graphics#beginTextureFill");var e=arguments,n=e[0],a=e[1],o=e[2],s=e[3];t={texture:n,color:a,alpha:o,matrix:s},Object.keys(t).forEach(function(u){return t[u]===void 0&&delete t[u]})}t=Object.assign({texture:G.WHITE,color:16777215,alpha:1,matrix:null},t),this.currentPath&&this.startPoly();var h=t.alpha>0;return h?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:h},t)):this._fillStyle.reset(),this},r.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},r.prototype.drawRect=function(t,e,n,a){return this.drawShape(new q(t,e,n,a))},r.prototype.drawRoundedRect=function(t,e,n,a,o){return this.drawShape(new Ms(t,e,n,a,o))},r.prototype.drawCircle=function(t,e,n){return this.drawShape(new Rs(t,e,n))},r.prototype.drawEllipse=function(t,e,n,a){return this.drawShape(new Fs(t,e,n,a))},r.prototype.drawPolygon=function(){for(var t=arguments,e=[],n=0;n<arguments.length;n++)e[n]=t[n];var a,o=!0,s=e[0];s.points?(o=s.closeStroke,a=s.points):Array.isArray(e[0])?a=e[0]:a=e;var h=new De(a);return h.closeStroke=o,this.drawShape(h),this},r.prototype.drawShape=function(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},r.prototype.drawStar=function(t,e,n,a,o,s){return s===void 0&&(s=0),this.drawPolygon(new Uh(t,e,n,a,o,s))},r.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},r.prototype.isFastRect=function(){var t=this._geometry.graphicsData;return t.length===1&&t[0].shape.type===at.RECT&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)},r.prototype._render=function(t){this.finishPoly();var e=this._geometry,n=t.context.supports.uint32Indices;e.updateBatches(n),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))},r.prototype._populateBatches=function(){var t=this._geometry,e=this.blendMode,n=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(t.points);for(var a=0;a<n;a++){var o=t.batches[a],s=o.style.color,h=new Float32Array(this.vertexData.buffer,o.attribStart*4*2,o.attribSize*2),u=new Float32Array(t.uvsFloat32.buffer,o.attribStart*4*2,o.attribSize*2),c=new Uint16Array(t.indicesUint16.buffer,o.start*2,o.size),f={vertexData:h,blendMode:e,indices:c,uvs:u,_batchRGB:be(s),_tintRGB:s,_texture:o.style.texture,alpha:o.style.alpha,worldAlpha:1};this.batches[a]=f}},r.prototype._renderBatched=function(t){if(!!this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var e=0,n=this.batches.length;e<n;e++){var a=this.batches[e];a.worldAlpha=this.worldAlpha*a.alpha,t.plugins[this.pluginName].render(a)}}},r.prototype._renderDirect=function(t){var e=this._resolveDirectShader(t),n=this._geometry,a=this.tint,o=this.worldAlpha,s=e.uniforms,h=n.drawCalls;s.translationMatrix=this.transform.worldTransform,s.tint[0]=(a>>16&255)/255*o,s.tint[1]=(a>>8&255)/255*o,s.tint[2]=(a&255)/255*o,s.tint[3]=o,t.shader.bind(e),t.geometry.bind(n,e),t.state.set(this.state);for(var u=0,c=h.length;u<c;u++)this._renderDrawCallDirect(t,n.drawCalls[u])},r.prototype._renderDrawCallDirect=function(t,e){for(var n=e.texArray,a=e.type,o=e.size,s=e.start,h=n.count,u=0;u<h;u++)t.texture.bind(n.elements[u],u);t.geometry.draw(a,o,s)},r.prototype._resolveDirectShader=function(t){var e=this.shader,n=this.pluginName;if(!e){if(!Vi[n]){for(var a=t.plugins.batch.MAX_TEXTURES,o=new Int32Array(a),s=0;s<a;s++)o[s]=s;var h={tint:new Float32Array([1,1,1,1]),translationMatrix:new ht,default:te.from({uSamplers:o},!0)},u=t.plugins[n]._shader.program;Vi[n]=new re(u,h)}e=Vi[n]}return e},r.prototype._calculateBounds=function(){this.finishPoly();var t=this._geometry;if(!!t.graphicsData.length){var e=t.bounds,n=e.minX,a=e.minY,o=e.maxX,s=e.maxY;this._bounds.addFrame(this.transform,n,a,o,s)}},r.prototype.containsPoint=function(t){return this.worldTransform.applyInverse(t,r._TEMP_POINT),this._geometry.containsPoint(r._TEMP_POINT)},r.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var t=be(this.tint,gd),e=0;e<this.batches.length;e++){var n=this.batches[e],a=n._batchRGB,o=t[0]*a[0]*255,s=t[1]*a[1]*255,h=t[2]*a[2]*255,u=(o<<16)+(s<<8)+(h|0);n._tintRGB=(u>>16)+(u&65280)+((u&255)<<16)}}},r.prototype.calculateVertices=function(){var t=this.transform._worldID;if(this._transformID!==t){this._transformID=t;for(var e=this.transform.worldTransform,n=e.a,a=e.b,o=e.c,s=e.d,h=e.tx,u=e.ty,c=this._geometry.points,f=this.vertexData,l=0,d=0;d<c.length;d+=2){var p=c[d],v=c[d+1];f[l++]=n*p+o*v+h,f[l++]=s*v+a*p+u}}},r.prototype.closePath=function(){var t=this.currentPath;return t&&(t.closeStroke=!0),this},r.prototype.setMatrix=function(t){return this._matrix=t,this},r.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},r.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},r.prototype.destroy=function(t){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,i.prototype.destroy.call(this,t)},r._TEMP_POINT=new pt,r}(St);/*!
 * @pixi/sprite - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var On=function(i,r){return On=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},On(i,r)};function _d(i,r){On(i,r);function t(){this.constructor=i}i.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var nr=new pt,xd=new Uint16Array([0,1,2,0,2,3]),ae=function(i){_d(r,i);function r(t){var e=i.call(this)||this;return e._anchor=new ve(e._onAnchorUpdate,e,t?t.defaultAnchor.x:0,t?t.defaultAnchor.y:0),e._texture=null,e._width=0,e._height=0,e._tint=null,e._tintRGB=null,e.tint=16777215,e.blendMode=U.NORMAL,e._cachedTint=16777215,e.uvs=null,e.texture=t||G.EMPTY,e.vertexData=new Float32Array(8),e.vertexTrimmedData=null,e._transformID=-1,e._textureID=-1,e._transformTrimmedID=-1,e._textureTrimmedID=-1,e.indices=xd,e.pluginName="batch",e.isSprite=!0,e._roundPixels=D.ROUND_PIXELS,e}return r.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=pe(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=pe(this.scale.y)*this._height/this._texture.orig.height)},r.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},r.prototype.calculateVertices=function(){var t=this._texture;if(!(this._transformID===this.transform._worldID&&this._textureID===t._updateID)){this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;var e=this.transform.worldTransform,n=e.a,a=e.b,o=e.c,s=e.d,h=e.tx,u=e.ty,c=this.vertexData,f=t.trim,l=t.orig,d=this._anchor,p=0,v=0,y=0,g=0;if(f?(v=f.x-d._x*l.width,p=v+f.width,g=f.y-d._y*l.height,y=g+f.height):(v=-d._x*l.width,p=v+l.width,g=-d._y*l.height,y=g+l.height),c[0]=n*v+o*g+h,c[1]=s*g+a*v+u,c[2]=n*p+o*g+h,c[3]=s*g+a*p+u,c[4]=n*p+o*y+h,c[5]=s*y+a*p+u,c[6]=n*v+o*y+h,c[7]=s*y+a*v+u,this._roundPixels)for(var x=D.RESOLUTION,m=0;m<c.length;++m)c[m]=Math.round((c[m]*x|0)/x)}},r.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,n=t.orig,a=this._anchor,o=this.transform.worldTransform,s=o.a,h=o.b,u=o.c,c=o.d,f=o.tx,l=o.ty,d=-a._x*n.width,p=d+n.width,v=-a._y*n.height,y=v+n.height;e[0]=s*d+u*v+f,e[1]=c*v+h*d+l,e[2]=s*p+u*v+f,e[3]=c*v+h*p+l,e[4]=s*p+u*y+f,e[5]=c*y+h*p+l,e[6]=s*d+u*y+f,e[7]=c*y+h*d+l},r.prototype._render=function(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},r.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},r.prototype.getLocalBounds=function(t){return this.children.length===0?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new q),t=this._localBoundsRect),this._bounds.getRectangle(t)):i.prototype.getLocalBounds.call(this,t)},r.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,nr);var e=this._texture.orig.width,n=this._texture.orig.height,a=-e*this.anchor.x,o=0;return nr.x>=a&&nr.x<a+e&&(o=-n*this.anchor.y,nr.y>=o&&nr.y<o+n)},r.prototype.destroy=function(t){i.prototype.destroy.call(this,t),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var e=typeof t=="boolean"?t:t&&t.texture;if(e){var n=typeof t=="boolean"?t:t&&t.baseTexture;this._texture.destroy(!!n)}this._texture=null},r.from=function(t,e){var n=t instanceof G?t:G.from(t,e);return new r(n)},Object.defineProperty(r.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=pe(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=pe(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"anchor",{get:function(){return this._anchor},set:function(t){this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(t&65280)+((t&255)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=t||G.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),r}(St);/*!
 * @pixi/text - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/text is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Cn=function(i,r){return Cn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},Cn(i,r)};function bd(i,r){Cn(i,r);function t(){this.constructor=i}i.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var We;(function(i){i[i.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",i[i.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"})(We||(We={}));var zi={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:We.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},Td=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Pe=function(){function i(r){this.styleID=0,this.reset(),Yi(this,r,r)}return i.prototype.clone=function(){var r={};return Yi(r,this,zi),new i(r)},i.prototype.reset=function(){Yi(this,zi,zi)},Object.defineProperty(i.prototype,"align",{get:function(){return this._align},set:function(r){this._align!==r&&(this._align=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"breakWords",{get:function(){return this._breakWords},set:function(r){this._breakWords!==r&&(this._breakWords=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(r){this._dropShadow!==r&&(this._dropShadow=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(r){this._dropShadowAlpha!==r&&(this._dropShadowAlpha=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(r){this._dropShadowAngle!==r&&(this._dropShadowAngle=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(r){this._dropShadowBlur!==r&&(this._dropShadowBlur=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(r){var t=Wi(r);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(r){this._dropShadowDistance!==r&&(this._dropShadowDistance=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fill",{get:function(){return this._fill},set:function(r){var t=Wi(r);this._fill!==t&&(this._fill=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(r){this._fillGradientType!==r&&(this._fillGradientType=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(r){wd(this._fillGradientStops,r)||(this._fillGradientStops=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(r){this.fontFamily!==r&&(this._fontFamily=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fontSize",{get:function(){return this._fontSize},set:function(r){this._fontSize!==r&&(this._fontSize=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(r){this._fontStyle!==r&&(this._fontStyle=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(r){this._fontVariant!==r&&(this._fontVariant=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(r){this._fontWeight!==r&&(this._fontWeight=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(r){this._letterSpacing!==r&&(this._letterSpacing=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(r){this._lineHeight!==r&&(this._lineHeight=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"leading",{get:function(){return this._leading},set:function(r){this._leading!==r&&(this._leading=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(r){this._lineJoin!==r&&(this._lineJoin=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(r){this._miterLimit!==r&&(this._miterLimit=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"padding",{get:function(){return this._padding},set:function(r){this._padding!==r&&(this._padding=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"stroke",{get:function(){return this._stroke},set:function(r){var t=Wi(r);this._stroke!==t&&(this._stroke=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(r){this._strokeThickness!==r&&(this._strokeThickness=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(r){this._textBaseline!==r&&(this._textBaseline=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"trim",{get:function(){return this._trim},set:function(r){this._trim!==r&&(this._trim=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(r){this._whiteSpace!==r&&(this._whiteSpace=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(r){this._wordWrap!==r&&(this._wordWrap=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(r){this._wordWrapWidth!==r&&(this._wordWrapWidth=r,this.styleID++)},enumerable:!1,configurable:!0}),i.prototype.toFontString=function(){var r=typeof this.fontSize=="number"?this.fontSize+"px":this.fontSize,t=this.fontFamily;Array.isArray(this.fontFamily)||(t=this.fontFamily.split(","));for(var e=t.length-1;e>=0;e--){var n=t[e].trim();!/([\"\'])[^\'\"]+\1/.test(n)&&Td.indexOf(n)<0&&(n='"'+n+'"'),t[e]=n}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+r+" "+t.join(",")},i}();function Fo(i){return typeof i=="number"?ia(i):(typeof i=="string"&&i.indexOf("0x")===0&&(i=i.replace("0x","#")),i)}function Wi(i){if(Array.isArray(i)){for(var r=0;r<i.length;++r)i[r]=Fo(i[r]);return i}else return Fo(i)}function wd(i,r){if(!Array.isArray(i)||!Array.isArray(r)||i.length!==r.length)return!1;for(var t=0;t<i.length;++t)if(i[t]!==r[t])return!1;return!0}function Yi(i,r,t){for(var e in t)Array.isArray(r[e])?i[e]=r[e].slice():i[e]=r[e]}var At=function(){function i(r,t,e,n,a,o,s,h,u){this.text=r,this.style=t,this.width=e,this.height=n,this.lines=a,this.lineWidths=o,this.lineHeight=s,this.maxLineWidth=h,this.fontProperties=u}return i.measureText=function(r,t,e,n){n===void 0&&(n=i._canvas),e=e==null?t.wordWrap:e;var a=t.toFontString(),o=i.measureFont(a);o.fontSize===0&&(o.fontSize=t.fontSize,o.ascent=t.fontSize);var s=n.getContext("2d");s.font=a;for(var h=e?i.wordWrap(r,t,n):r,u=h.split(/(?:\r\n|\r|\n)/),c=new Array(u.length),f=0,l=0;l<u.length;l++){var d=s.measureText(u[l]).width+(u[l].length-1)*t.letterSpacing;c[l]=d,f=Math.max(f,d)}var p=f+t.strokeThickness;t.dropShadow&&(p+=t.dropShadowDistance);var v=t.lineHeight||o.fontSize+t.strokeThickness,y=Math.max(v,o.fontSize+t.strokeThickness)+(u.length-1)*(v+t.leading);return t.dropShadow&&(y+=t.dropShadowDistance),new i(r,t,p,y,u,c,v+t.leading,f,o)},i.wordWrap=function(r,t,e){e===void 0&&(e=i._canvas);for(var n=e.getContext("2d"),a=0,o="",s="",h=Object.create(null),u=t.letterSpacing,c=t.whiteSpace,f=i.collapseSpaces(c),l=i.collapseNewlines(c),d=!f,p=t.wordWrapWidth+u,v=i.tokenize(r),y=0;y<v.length;y++){var g=v[y];if(i.isNewline(g)){if(!l){s+=i.addLine(o),d=!f,o="",a=0;continue}g=" "}if(f){var x=i.isBreakingSpace(g),m=i.isBreakingSpace(o[o.length-1]);if(x&&m)continue}var T=i.getFromCache(g,u,h,n);if(T>p)if(o!==""&&(s+=i.addLine(o),o="",a=0),i.canBreakWords(g,t.breakWords))for(var b=i.wordWrapSplit(g),w=0;w<b.length;w++){for(var N=b[w],E=1;b[w+E];){var _=b[w+E],P=N[N.length-1];if(!i.canBreakChars(P,_,g,w,t.breakWords))N+=_;else break;E++}w+=N.length-1;var S=i.getFromCache(N,u,h,n);S+a>p&&(s+=i.addLine(o),d=!1,o="",a=0),o+=N,a+=S}else{o.length>0&&(s+=i.addLine(o),o="",a=0);var R=y===v.length-1;s+=i.addLine(g,!R),d=!1,o="",a=0}else T+a>p&&(d=!1,s+=i.addLine(o),o="",a=0),(o.length>0||!i.isBreakingSpace(g)||d)&&(o+=g,a+=T)}return s+=i.addLine(o,!1),s},i.addLine=function(r,t){return t===void 0&&(t=!0),r=i.trimRight(r),r=t?r+`
`:r,r},i.getFromCache=function(r,t,e,n){var a=e[r];if(typeof a!="number"){var o=r.length*t;a=n.measureText(r).width+o,e[r]=a}return a},i.collapseSpaces=function(r){return r==="normal"||r==="pre-line"},i.collapseNewlines=function(r){return r==="normal"},i.trimRight=function(r){if(typeof r!="string")return"";for(var t=r.length-1;t>=0;t--){var e=r[t];if(!i.isBreakingSpace(e))break;r=r.slice(0,-1)}return r},i.isNewline=function(r){return typeof r!="string"?!1:i._newlines.indexOf(r.charCodeAt(0))>=0},i.isBreakingSpace=function(r){return typeof r!="string"?!1:i._breakingSpaces.indexOf(r.charCodeAt(0))>=0},i.tokenize=function(r){var t=[],e="";if(typeof r!="string")return t;for(var n=0;n<r.length;n++){var a=r[n];if(i.isBreakingSpace(a)||i.isNewline(a)){e!==""&&(t.push(e),e=""),t.push(a);continue}e+=a}return e!==""&&t.push(e),t},i.canBreakWords=function(r,t){return t},i.canBreakChars=function(r,t,e,n,a){return!0},i.wordWrapSplit=function(r){return r.split("")},i.measureFont=function(r){if(i._fonts[r])return i._fonts[r];var t={ascent:0,descent:0,fontSize:0},e=i._canvas,n=i._context;n.font=r;var a=i.METRICS_STRING+i.BASELINE_SYMBOL,o=Math.ceil(n.measureText(a).width),s=Math.ceil(n.measureText(i.BASELINE_SYMBOL).width),h=2*s;s=s*i.BASELINE_MULTIPLIER|0,e.width=o,e.height=h,n.fillStyle="#f00",n.fillRect(0,0,o,h),n.font=r,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(a,0,s);var u=n.getImageData(0,0,o,h).data,c=u.length,f=o*4,l=0,d=0,p=!1;for(l=0;l<s;++l){for(var v=0;v<f;v+=4)if(u[d+v]!==255){p=!0;break}if(!p)d+=f;else break}for(t.ascent=s-l,d=c-f,p=!1,l=h;l>s;--l){for(var v=0;v<f;v+=4)if(u[d+v]!==255){p=!0;break}if(!p)d-=f;else break}return t.descent=l-s,t.fontSize=t.ascent+t.descent,i._fonts[r]=t,t},i.clearMetrics=function(r){r===void 0&&(r=""),r?delete i._fonts[r]:i._fonts={}},i}(),hi=function(){try{var i=new OffscreenCanvas(0,0),r=i.getContext("2d");return r&&r.measureText?i:document.createElement("canvas")}catch{return document.createElement("canvas")}}();hi.width=hi.height=10;At._canvas=hi;At._context=hi.getContext("2d");At._fonts={};At.METRICS_STRING="|\xC9q\xC5";At.BASELINE_SYMBOL="M";At.BASELINE_MULTIPLIER=1.4;At._newlines=[10,13];At._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var Pd={texture:!0,children:!1,baseTexture:!0},Ta=function(i){bd(r,i);function r(t,e,n){var a=this,o=!1;n||(n=document.createElement("canvas"),o=!0),n.width=3,n.height=3;var s=G.from(n);return s.orig=new q,s.trim=new q,a=i.call(this,s)||this,a._ownCanvas=o,a.canvas=n,a.context=a.canvas.getContext("2d"),a._resolution=D.RESOLUTION,a._autoResolution=!0,a._text=null,a._style=null,a._styleListener=null,a._font="",a.text=t,a.style=e,a.localStyleID=-1,a}return r.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!(!this.dirty&&t)){this._font=this._style.toFontString();var n=this.context,a=At.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),o=a.width,s=a.height,h=a.lines,u=a.lineHeight,c=a.lineWidths,f=a.maxLineWidth,l=a.fontProperties;this.canvas.width=Math.ceil((Math.max(1,o)+e.padding*2)*this._resolution),this.canvas.height=Math.ceil((Math.max(1,s)+e.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=e.strokeThickness,n.textBaseline=e.textBaseline,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit;for(var d,p,v=e.dropShadow?2:1,y=0;y<v;++y){var g=e.dropShadow&&y===0,x=g?Math.ceil(Math.max(1,s)+e.padding*2):0,m=x*this._resolution;if(g){n.fillStyle="black",n.strokeStyle="black";var T=e.dropShadowColor,b=be(typeof T=="number"?T:na(T)),w=e.dropShadowBlur*this._resolution,N=e.dropShadowDistance*this._resolution;n.shadowColor="rgba("+b[0]*255+","+b[1]*255+","+b[2]*255+","+e.dropShadowAlpha+")",n.shadowBlur=w,n.shadowOffsetX=Math.cos(e.dropShadowAngle)*N,n.shadowOffsetY=Math.sin(e.dropShadowAngle)*N+m}else n.fillStyle=this._generateFillStyle(e,h,a),n.strokeStyle=e.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;for(var E=0;E<h.length;E++)d=e.strokeThickness/2,p=e.strokeThickness/2+E*u+l.ascent,e.align==="right"?d+=f-c[E]:e.align==="center"&&(d+=(f-c[E])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(h[E],d+e.padding,p+e.padding-x,!0),e.fill&&this.drawLetterSpacing(h[E],d+e.padding,p+e.padding-x)}this.updateTexture()}},r.prototype.drawLetterSpacing=function(t,e,n,a){a===void 0&&(a=!1);var o=this._style,s=o.letterSpacing;if(s===0){a?this.context.strokeText(t,e,n):this.context.fillText(t,e,n);return}for(var h=e,u=Array.from?Array.from(t):t.split(""),c=this.context.measureText(t).width,f=0,l=0;l<u.length;++l){var d=u[l];a?this.context.strokeText(d,h,n):this.context.fillText(d,h,n),f=this.context.measureText(t.substring(l+1)).width,h+=c-f+s,c=f}},r.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=Es(t);e.data&&(t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0))}var n=this._texture,a=this._style,o=a.trim?0:a.padding,s=n.baseTexture;n.trim.width=n._frame.width=Math.ceil(t.width/this._resolution),n.trim.height=n._frame.height=Math.ceil(t.height/this._resolution),n.trim.x=-o,n.trim.y=-o,n.orig.width=n._frame.width-o*2,n.orig.height=n._frame.height-o*2,this._onTextureUpdate(),s.setRealSize(t.width,t.height,this._resolution),this._recursivePostUpdateTransform(),this.dirty=!1},r.prototype._render=function(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),i.prototype._render.call(this,t)},r.prototype.getLocalBounds=function(t){return this.updateText(!0),i.prototype.getLocalBounds.call(this,t)},r.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},r.prototype._generateFillStyle=function(t,e,n){var a=t.fill;if(Array.isArray(a)){if(a.length===1)return a[0]}else return a;var o,s=t.dropShadow?t.dropShadowDistance:0,h=t.padding||0,u=Math.ceil(this.canvas.width/this._resolution)-s-h*2,c=Math.ceil(this.canvas.height/this._resolution)-s-h*2,f=a.slice(),l=t.fillGradientStops.slice();if(!l.length)for(var d=f.length+1,p=1;p<d;++p)l.push(p/d);if(f.unshift(a[0]),l.unshift(0),f.push(a[a.length-1]),l.push(1),t.fillGradientType===We.LINEAR_VERTICAL){o=this.context.createLinearGradient(u/2,h,u/2,c+h);for(var v=0,y=n.fontProperties.fontSize+t.strokeThickness,g=y/c,p=0;p<e.length;p++)for(var x=n.lineHeight*p,m=0;m<f.length;m++){var T=0;typeof l[m]=="number"?T=l[m]:T=m/f.length;var b=x/c+T*g,w=Math.max(v,b);w=Math.min(w,1),o.addColorStop(w,f[m]),v=w}}else{o=this.context.createLinearGradient(h,c/2,u+h,c/2);for(var N=f.length+1,E=1,p=0;p<f.length;p++){var _=void 0;typeof l[p]=="number"?_=l[p]:_=E/N,o.addColorStop(_,f[p]),E++}}return o},r.prototype.destroy=function(t){typeof t=="boolean"&&(t={children:t}),t=Object.assign({},Pd,t),i.prototype.destroy.call(this,t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(r.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=pe(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=pe(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"style",{get:function(){return this._style},set:function(t){t=t||{},t instanceof Pe?this._style=t:this._style=new Pe(t),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"text",{get:function(){return this._text},set:function(t){t=String(t==null?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)},enumerable:!1,configurable:!0}),r}(ae);/*!
 * @pixi/prepare - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */D.UPLOADS_PER_FRAME=4;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Rn=function(i,r){return Rn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},Rn(i,r)};function Id(i,r){Rn(i,r);function t(){this.constructor=i}i.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var jh=function(){function i(r){this.maxItemsPerFrame=r,this.itemsLeft=0}return i.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},i.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},i}();function Ed(i,r){var t=!1;if(i&&i._textures&&i._textures.length){for(var e=0;e<i._textures.length;e++)if(i._textures[e]instanceof G){var n=i._textures[e].baseTexture;r.indexOf(n)===-1&&(r.push(n),t=!0)}}return t}function Sd(i,r){if(i.baseTexture instanceof J){var t=i.baseTexture;return r.indexOf(t)===-1&&r.push(t),!0}return!1}function Ad(i,r){if(i._texture&&i._texture instanceof G){var t=i._texture.baseTexture;return r.indexOf(t)===-1&&r.push(t),!0}return!1}function Od(i,r){return r instanceof Ta?(r.updateText(!0),!0):!1}function Cd(i,r){if(r instanceof Pe){var t=r.toFontString();return At.measureFont(t),!0}return!1}function Rd(i,r){if(i instanceof Ta){r.indexOf(i.style)===-1&&r.push(i.style),r.indexOf(i)===-1&&r.push(i);var t=i._texture.baseTexture;return r.indexOf(t)===-1&&r.push(t),!0}return!1}function Fd(i,r){return i instanceof Pe?(r.indexOf(i)===-1&&r.push(i),!0):!1}var Vh=function(){function i(r){var t=this;this.limiter=new jh(D.UPLOADS_PER_FRAME),this.renderer=r,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){!t.queue||t.prepareItems()},this.registerFindHook(Rd),this.registerFindHook(Fd),this.registerFindHook(Ed),this.registerFindHook(Sd),this.registerFindHook(Ad),this.registerUploadHook(Od),this.registerUploadHook(Cd)}return i.prototype.upload=function(r,t){typeof r=="function"&&(t=r,r=null),r&&this.add(r),this.queue.length?(t&&this.completes.push(t),this.ticking||(this.ticking=!0,dt.system.addOnce(this.tick,this,Ut.UTILITY))):t&&t()},i.prototype.tick=function(){setTimeout(this.delayedTick,0)},i.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var r=this.queue[0],t=!1;if(r&&!r._destroyed){for(var e=0,n=this.uploadHooks.length;e<n;e++)if(this.uploadHooks[e](this.uploadHookHelper,r)){this.queue.shift(),t=!0;break}}t||this.queue.shift()}if(this.queue.length)dt.system.addOnce(this.tick,this,Ut.UTILITY);else{this.ticking=!1;var a=this.completes.slice(0);this.completes.length=0;for(var e=0,n=a.length;e<n;e++)a[e]()}},i.prototype.registerFindHook=function(r){return r&&this.addHooks.push(r),this},i.prototype.registerUploadHook=function(r){return r&&this.uploadHooks.push(r),this},i.prototype.add=function(r){for(var t=0,e=this.addHooks.length;t<e&&!this.addHooks[t](r,this.queue);t++);if(r instanceof St)for(var t=r.children.length-1;t>=0;t--)this.add(r.children[t]);return this},i.prototype.destroy=function(){this.ticking&&dt.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},i}();function zh(i,r){return r instanceof J?(r._glTextures[i.CONTEXT_UID]||i.texture.bind(r),!0):!1}function Md(i,r){if(!(r instanceof ba))return!1;var t=r.geometry;r.finishPoly(),t.updateBatches();for(var e=t.batches,n=0;n<e.length;n++){var a=e[n].style.texture;a&&zh(i,a.baseTexture)}return t.batchable||i.geometry.bind(t,r._resolveDirectShader(i)),!0}function Ld(i,r){return i instanceof ba?(r.push(i),!0):!1}var Wh=function(i){Id(r,i);function r(t){var e=i.call(this,t)||this;return e.uploadHookHelper=e.renderer,e.registerFindHook(Ld),e.registerUploadHook(zh),e.registerUploadHook(Md),e}return r}(Vh),Nd=function(){function i(r){this.maxMilliseconds=r,this.frameStart=0}return i.prototype.beginFrame=function(){this.frameStart=Date.now()},i.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},i}();/*!
 * @pixi/spritesheet - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/spritesheet is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Yh=function(){function i(r,t,e){e===void 0&&(e=null),this._texture=r instanceof G?r:null,this.baseTexture=r instanceof J?r:this._texture.baseTexture,this.textures={},this.animations={},this.data=t;var n=this.baseTexture.resource;this.resolution=this._updateResolution(e||(n?n.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return i.prototype._updateResolution=function(r){r===void 0&&(r=null);var t=this.data.meta.scale,e=mr(r,null);return e===null&&(e=t!==void 0?parseFloat(t):1),e!==1&&this.baseTexture.setResolution(e),e},i.prototype.parse=function(r){this._batchIndex=0,this._callback=r,this._frameKeys.length<=i.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},i.prototype._processFrames=function(r){for(var t=r,e=i.BATCH_SIZE;t-r<e&&t<this._frameKeys.length;){var n=this._frameKeys[t],a=this._frames[n],o=a.frame;if(o){var s=null,h=null,u=a.trimmed!==!1&&a.sourceSize?a.sourceSize:a.frame,c=new q(0,0,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution);a.rotated?s=new q(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):s=new q(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),a.trimmed!==!1&&a.spriteSourceSize&&(h=new q(Math.floor(a.spriteSourceSize.x)/this.resolution,Math.floor(a.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[n]=new G(this.baseTexture,s,c,h,a.rotated?2:0,a.anchor),G.addToCache(this.textures[n],n)}t++}},i.prototype._processAnimations=function(){var r=this.data.animations||{};for(var t in r){this.animations[t]=[];for(var e=0;e<r[t].length;e++){var n=r[t][e];this.animations[t].push(this.textures[n])}}},i.prototype._parseComplete=function(){var r=this._callback;this._callback=null,this._batchIndex=0,r.call(this,this.textures)},i.prototype._nextBatch=function(){var r=this;this._processFrames(this._batchIndex*i.BATCH_SIZE),this._batchIndex++,setTimeout(function(){r._batchIndex*i.BATCH_SIZE<r._frameKeys.length?r._nextBatch():(r._processAnimations(),r._parseComplete())},0)},i.prototype.destroy=function(r){var t;r===void 0&&(r=!1);for(var e in this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,r&&((t=this._texture)===null||t===void 0||t.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},i.BATCH_SIZE=1e3,i}(),$h=function(){function i(){}return i.use=function(r,t){var e=this,n=r.name+"_image";if(!r.data||r.type!==fr.TYPE.JSON||!r.data.frames||e.resources[n]){t();return}var a={crossOrigin:r.crossOrigin,metadata:r.metadata.imageMetadata,parentResource:r},o=i.getResourcePath(r,e.baseUrl);e.add(n,o,a,function(h){if(h.error){t(h.error);return}var u=new Yh(h.texture,r.data,r.url);u.parse(function(){r.spritesheet=u,r.textures=u.textures,t()})})},i.getResourcePath=function(r,t){return r.isDataUrl?r.data.meta.image:Ie.resolve(r.url.replace(t,""),r.data.meta.image)},i}();/*!
 * @pixi/sprite-tiling - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Fn=function(i,r){return Fn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},Fn(i,r)};function qh(i,r){Fn(i,r);function t(){this.constructor=i}i.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var ar=new pt,Dd=function(i){qh(r,i);function r(t,e,n){e===void 0&&(e=100),n===void 0&&(n=100);var a=i.call(this,t)||this;return a.tileTransform=new ha,a._width=e,a._height=n,a.uvMatrix=a.texture.uvMatrix||new pi(t),a.pluginName="tilingSprite",a.uvRespectAnchor=!1,a}return Object.defineProperty(r.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(t){this.uvMatrix.clampMargin=t,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copyFrom(t)},enumerable:!1,configurable:!0}),r.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},r.prototype._render=function(t){var e=this._texture;!e||!e.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},r.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),a=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,n,a)},r.prototype.getLocalBounds=function(t){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new q),t=this._localBoundsRect),this._bounds.getRectangle(t)):i.prototype.getLocalBounds.call(this,t)},r.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,ar);var e=this._width,n=this._height,a=-e*this.anchor._x;if(ar.x>=a&&ar.x<a+e){var o=-n*this.anchor._y;if(ar.y>=o&&ar.y<o+n)return!0}return!1},r.prototype.destroy=function(t){i.prototype.destroy.call(this,t),this.tileTransform=null,this.uvMatrix=null},r.from=function(t,e){return typeof e=="number"&&(I("5.3.0","TilingSprite.from use options instead of width and height args"),e={width:e,height:arguments[2]}),new r(G.from(t,e),e.width,e.height)},Object.defineProperty(r.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t},enumerable:!1,configurable:!0}),r}(ae),Mo=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,Ud=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture2D(uSampler, coord);
    gl_FragColor = texSample * uColor;
}
`,Bd=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`,Wr=new ht,Zh=function(i){qh(r,i);function r(t){var e=i.call(this,t)||this,n={globals:e.renderer.globalUniforms};return e.shader=re.from(Mo,Ud,n),e.simpleShader=re.from(Mo,Bd,n),e.quad=new ya,e.state=ne.for2d(),e}return r.prototype.render=function(t){var e=this.renderer,n=this.quad,a=n.vertices;a[0]=a[6]=t._width*-t.anchor.x,a[1]=a[3]=t._height*-t.anchor.y,a[2]=a[4]=t._width*(1-t.anchor.x),a[5]=a[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&(a=n.uvs,a[0]=a[6]=-t.anchor.x,a[1]=a[3]=-t.anchor.y,a[2]=a[4]=1-t.anchor.x,a[5]=a[7]=1-t.anchor.y),n.invalidate();var o=t._texture,s=o.baseTexture,h=t.tileTransform.localTransform,u=t.uvMatrix,c=s.isPowerOfTwo&&o.frame.width===s.width&&o.frame.height===s.height;c&&(s._glTextures[e.CONTEXT_UID]?c=s.wrapMode!==jt.CLAMP:s.wrapMode===jt.CLAMP&&(s.wrapMode=jt.REPEAT));var f=c?this.simpleShader:this.shader,l=o.width,d=o.height,p=t._width,v=t._height;Wr.set(h.a*l/p,h.b*l/v,h.c*d/p,h.d*d/v,h.tx/p,h.ty/v),Wr.invert(),c?Wr.prepend(u.mapCoord):(f.uniforms.uMapCoord=u.mapCoord.toArray(!0),f.uniforms.uClampFrame=u.uClampFrame,f.uniforms.uClampOffset=u.uClampOffset),f.uniforms.uTransform=Wr.toArray(!0),f.uniforms.uColor=sa(t.tint,t.worldAlpha,f.uniforms.uColor,s.alphaMode),f.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),f.uniforms.uSampler=o,e.shader.bind(f),e.geometry.bind(n),this.state.blendMode=oa(t.blendMode,s.alphaMode),e.state.set(this.state),e.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},r}(wr);/*!
 * @pixi/mesh - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Mn=function(i,r){return Mn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},Mn(i,r)};function wa(i,r){Mn(i,r);function t(){this.constructor=i}i.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var Kh=function(){function i(r,t){this.uvBuffer=r,this.uvMatrix=t,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return i.prototype.update=function(r){if(!(!r&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var t=this.uvBuffer.data;(!this.data||this.data.length!==t.length)&&(this.data=new Float32Array(t.length)),this.uvMatrix.multiplyUvs(t,this.data),this._updateID++}},i}(),$i=new pt,Lo=new De,Ye=function(i){wa(r,i);function r(t,e,n,a){a===void 0&&(a=It.TRIANGLES);var o=i.call(this)||this;return o.geometry=t,t.refCount++,o.shader=e,o.state=n||ne.for2d(),o.drawMode=a,o.start=0,o.size=0,o.uvs=null,o.indices=null,o.vertexData=new Float32Array(1),o.vertexDirty=0,o._transformID=-1,o._roundPixels=D.ROUND_PIXELS,o.batchUvs=null,o}return Object.defineProperty(r.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"material",{get:function(){return this.shader},set:function(t){this.shader=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tint",{get:function(){return this.shader.tint},set:function(t){this.shader.tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"texture",{get:function(){return this.shader.texture},set:function(t){this.shader.texture=t},enumerable:!1,configurable:!0}),r.prototype._render=function(t){var e=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===It.TRIANGLES&&e.length<r.BATCHABLE_SIZE*2?this._renderToBatch(t):this._renderDefault(t)},r.prototype._renderDefault=function(t){var e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.program.uniformData.translationMatrix&&(e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},r.prototype._renderToBatch=function(t){var e=this.geometry;this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=this.shader._tintRGB,this._texture=this.shader.texture;var n=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[n]),t.plugins[n].render(this)},r.prototype.calculateVertices=function(){var t=this.geometry,e=t.buffers[0].data;if(!(t.vertexDirtyId===this.vertexDirty&&this._transformID===this.transform._worldID)){this._transformID=this.transform._worldID,this.vertexData.length!==e.length&&(this.vertexData=new Float32Array(e.length));for(var n=this.transform.worldTransform,a=n.a,o=n.b,s=n.c,h=n.d,u=n.tx,c=n.ty,f=this.vertexData,l=0;l<f.length/2;l++){var d=e[l*2],p=e[l*2+1];f[l*2]=a*d+s*p+u,f[l*2+1]=o*d+h*p+c}if(this._roundPixels)for(var v=D.RESOLUTION,l=0;l<f.length;++l)f[l]=Math.round((f[l]*v|0)/v);this.vertexDirty=t.vertexDirtyId}},r.prototype.calculateUvs=function(){var t=this.geometry.buffers[1];this.shader.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new Kh(t,this.shader.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},r.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},r.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,$i);for(var e=this.geometry.getBuffer("aVertexPosition").data,n=Lo.points,a=this.geometry.getIndex().data,o=a.length,s=this.drawMode===4?3:1,h=0;h+2<o;h+=s){var u=a[h]*2,c=a[h+1]*2,f=a[h+2]*2;if(n[0]=e[u],n[1]=e[u+1],n[2]=e[c],n[3]=e[c+1],n[4]=e[f],n[5]=e[f+1],Lo.contains($i.x,$i.y))return!0}return!1},r.prototype.destroy=function(t){i.prototype.destroy.call(this,t),this.geometry.refCount--,this.geometry.refCount===0&&this.geometry.dispose(),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},r.BATCHABLE_SIZE=100,r}(St),kd=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,Xd=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`,Ir=function(i){wa(r,i);function r(t,e){var n=this,a={uSampler:t,alpha:1,uTextureMatrix:ht.IDENTITY,uColor:new Float32Array([1,1,1,1])};return e=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},e),e.uniforms&&Object.assign(a,e.uniforms),n=i.call(this,e.program||Pr.from(Xd,kd),a)||this,n._colorDirty=!1,n.uvMatrix=new pi(t),n.batchable=e.program===void 0,n.pluginName=e.pluginName,n.tint=e.tint,n.alpha=e.alpha,n}return Object.defineProperty(r.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(t){this.uniforms.uSampler!==t&&(this.uniforms.uSampler=t,this.uvMatrix.texture=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"alpha",{get:function(){return this._alpha},set:function(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tint",{get:function(){return this._tint},set:function(t){t!==this._tint&&(this._tint=t,this._tintRGB=(t>>16)+(t&65280)+((t&255)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),r.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var t=this.texture.baseTexture;sa(this._tint,this._alpha,this.uniforms.uColor,t.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},r}(re),Er=function(i){wa(r,i);function r(t,e,n){var a=i.call(this)||this,o=new ct(t),s=new ct(e,!0),h=new ct(n,!0,!0);return a.addAttribute("aVertexPosition",o,2,!1,st.FLOAT).addAttribute("aTextureCoord",s,2,!1,st.FLOAT).addIndex(h),a._updateId=-1,a}return Object.defineProperty(r.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),r}(Ze);/*!
 * @pixi/text-bitmap - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/text-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Ln=function(i,r){return Ln=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},Ln(i,r)};function Gd(i,r){Ln(i,r);function t(){this.constructor=i}i.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var _r=function(){function i(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[]}return i}(),Hd=function(){function i(){}return i.test=function(r){return typeof r=="string"&&r.indexOf("info face=")===0},i.parse=function(r){var t=r.match(/^[a-z]+\s+.+$/gm),e={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[]};for(var n in t){var a=t[n].match(/^[a-z]+/gm)[0],o=t[n].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),s={};for(var h in o){var u=o[h].split("="),c=u[0],f=u[1].replace(/"/gm,""),l=parseFloat(f),d=isNaN(l)?f:l;s[c]=d}e[a].push(s)}var p=new _r;return e.info.forEach(function(v){return p.info.push({face:v.face,size:parseInt(v.size,10)})}),e.common.forEach(function(v){return p.common.push({lineHeight:parseInt(v.lineHeight,10)})}),e.page.forEach(function(v){return p.page.push({id:parseInt(v.id,10),file:v.file})}),e.char.forEach(function(v){return p.char.push({id:parseInt(v.id,10),page:parseInt(v.page,10),x:parseInt(v.x,10),y:parseInt(v.y,10),width:parseInt(v.width,10),height:parseInt(v.height,10),xoffset:parseInt(v.xoffset,10),yoffset:parseInt(v.yoffset,10),xadvance:parseInt(v.xadvance,10)})}),e.kerning.forEach(function(v){return p.kerning.push({first:parseInt(v.first,10),second:parseInt(v.second,10),amount:parseInt(v.amount,10)})}),p},i}(),Nn=function(){function i(){}return i.test=function(r){return r instanceof XMLDocument&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null},i.parse=function(r){for(var t=new _r,e=r.getElementsByTagName("info"),n=r.getElementsByTagName("common"),a=r.getElementsByTagName("page"),o=r.getElementsByTagName("char"),s=r.getElementsByTagName("kerning"),h=0;h<e.length;h++)t.info.push({face:e[h].getAttribute("face"),size:parseInt(e[h].getAttribute("size"),10)});for(var h=0;h<n.length;h++)t.common.push({lineHeight:parseInt(n[h].getAttribute("lineHeight"),10)});for(var h=0;h<a.length;h++)t.page.push({id:parseInt(a[h].getAttribute("id"),10)||0,file:a[h].getAttribute("file")});for(var h=0;h<o.length;h++){var u=o[h];t.char.push({id:parseInt(u.getAttribute("id"),10),page:parseInt(u.getAttribute("page"),10)||0,x:parseInt(u.getAttribute("x"),10),y:parseInt(u.getAttribute("y"),10),width:parseInt(u.getAttribute("width"),10),height:parseInt(u.getAttribute("height"),10),xoffset:parseInt(u.getAttribute("xoffset"),10),yoffset:parseInt(u.getAttribute("yoffset"),10),xadvance:parseInt(u.getAttribute("xadvance"),10)})}for(var h=0;h<s.length;h++)t.kerning.push({first:parseInt(s[h].getAttribute("first"),10),second:parseInt(s[h].getAttribute("second"),10),amount:parseInt(s[h].getAttribute("amount"),10)});return t},i}(),jd=function(){function i(){}return i.test=function(r){if(typeof r=="string"&&r.indexOf("<font>")>-1){var t=new self.DOMParser().parseFromString(r,"text/xml");return Nn.test(t)}return!1},i.parse=function(r){var t=new window.DOMParser().parseFromString(r,"text/xml");return Nn.parse(t)},i}(),qi=[Hd,Nn,jd];function Jh(i){for(var r=0;r<qi.length;r++)if(qi[r].test(i))return qi[r];return null}function Vd(i,r,t,e,n,a){var o=t.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;var s,h=t.dropShadow?t.dropShadowDistance:0,u=t.padding||0,c=Math.ceil(i.width/e)-h-u*2,f=Math.ceil(i.height/e)-h-u*2,l=o.slice(),d=t.fillGradientStops.slice();if(!d.length)for(var p=l.length+1,v=1;v<p;++v)d.push(v/p);if(l.unshift(o[0]),d.unshift(0),l.push(o[o.length-1]),d.push(1),t.fillGradientType===We.LINEAR_VERTICAL){s=r.createLinearGradient(c/2,u,c/2,f+u);for(var y=0,g=a.fontProperties.fontSize+t.strokeThickness,x=g/f,v=0;v<n.length;v++)for(var m=a.lineHeight*v,T=0;T<l.length;T++){var b=0;typeof d[T]=="number"?b=d[T]:b=T/l.length;var w=m/f+b*x,N=Math.max(y,w);N=Math.min(N,1),s.addColorStop(N,l[T]),y=N}}else{s=r.createLinearGradient(u,f/2,c+u,f/2);for(var E=l.length+1,_=1,v=0;v<l.length;v++){var P=void 0;typeof d[v]=="number"?P=d[v]:P=_/E,s.addColorStop(P,l[v]),_++}}return s}function zd(i,r,t,e,n,a,o){var s=t.text,h=t.fontProperties;r.translate(e,n),r.scale(a,a);var u=o.strokeThickness/2,c=-(o.strokeThickness/2);if(r.font=o.toFontString(),r.lineWidth=o.strokeThickness,r.textBaseline=o.textBaseline,r.lineJoin=o.lineJoin,r.miterLimit=o.miterLimit,r.fillStyle=Vd(i,r,o,a,[s],t),r.strokeStyle=o.stroke,o.dropShadow){var f=o.dropShadowColor,l=be(typeof f=="number"?f:na(f)),d=o.dropShadowBlur*a,p=o.dropShadowDistance*a;r.shadowColor="rgba("+l[0]*255+","+l[1]*255+","+l[2]*255+","+o.dropShadowAlpha+")",r.shadowBlur=d,r.shadowOffsetX=Math.cos(o.dropShadowAngle)*p,r.shadowOffsetY=Math.sin(o.dropShadowAngle)*p}else r.shadowColor="black",r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0;o.stroke&&o.strokeThickness&&r.strokeText(s,u,c+t.lineHeight-h.descent),o.fill&&r.fillText(s,u,c+t.lineHeight-h.descent),r.setTransform(1,0,0,1,0,0),r.fillStyle="rgba(0, 0, 0, 0)"}function Wd(i){typeof i=="string"&&(i=[i]);for(var r=[],t=0,e=i.length;t<e;t++){var n=i[t];if(Array.isArray(n)){if(n.length!==2)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+n.length+".");var a=n[0].charCodeAt(0),o=n[1].charCodeAt(0);if(o<a)throw new Error("[BitmapFont]: Invalid character range.");for(var s=a,h=o;s<=h;s++)r.push(String.fromCharCode(s))}else r.push.apply(r,n.split(""))}if(r.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return r}var Kt=function(){function i(r,t,e){var n=r.info[0],a=r.common[0],o=r.page[0],s=mr(o.file),h={};this._ownsTextures=e,this.font=n.face,this.size=n.size,this.lineHeight=a.lineHeight/s,this.chars={},this.pageTextures=h;for(var u=0;u<r.page.length;u++){var c=r.page[u],f=c.id,l=c.file;h[f]=t instanceof Array?t[u]:t[l]}for(var u=0;u<r.char.length;u++){var d=r.char[u],f=d.id,p=d.page,v=r.char[u],y=v.x,g=v.y,x=v.width,m=v.height,T=v.xoffset,b=v.yoffset,w=v.xadvance;y/=s,g/=s,x/=s,m/=s,T/=s,b/=s,w/=s;var N=new q(y+h[p].frame.x/s,g+h[p].frame.y/s,x,m);this.chars[f]={xOffset:T,yOffset:b,xAdvance:w,kerning:{},texture:new G(h[p].baseTexture,N),page:p}}for(var u=0;u<r.kerning.length;u++){var E=r.kerning[u],_=E.first,P=E.second,S=E.amount;_/=s,P/=s,S/=s,this.chars[P]&&(this.chars[P].kerning[_]=S)}}return i.prototype.destroy=function(){for(var r in this.chars)this.chars[r].texture.destroy(),this.chars[r].texture=null;for(var r in this.pageTextures)this._ownsTextures&&this.pageTextures[r].destroy(!0),this.pageTextures[r]=null;this.chars=null,this.pageTextures=null},i.install=function(r,t,e){var n;if(r instanceof _r)n=r;else{var a=Jh(r);if(!a)throw new Error("Unrecognized data format for font.");n=a.parse(r)}t instanceof G&&(t=[t]);var o=new i(n,t,e);return i.available[o.font]=o,o},i.uninstall=function(r){var t=i.available[r];if(!t)throw new Error("No font found named '"+r+"'");t.destroy(),delete i.available[r]},i.from=function(r,t,e){if(!r)throw new Error("[BitmapFont] Property `name` is required.");var n=Object.assign({},i.defaultOptions,e),a=n.chars,o=n.padding,s=n.resolution,h=n.textureWidth,u=n.textureHeight,c=Wd(a),f=t instanceof Pe?t:new Pe(t),l=h,d=new _r;d.info[0]={face:f.fontFamily,size:f.fontSize},d.common[0]={lineHeight:f.fontSize};for(var p=0,v=0,y,g,x,m=0,T=[],b=0;b<c.length;b++){y||(y=document.createElement("canvas"),y.width=h,y.height=u,g=y.getContext("2d"),x=new J(y,{resolution:s}),T.push(new G(x)),d.page.push({id:T.length-1,file:""}));var w=At.measureText(c[b],f,!1,y),N=w.width,E=Math.ceil(w.height),_=Math.ceil((f.fontStyle==="italic"?2:1)*N);if(v>=u-E*s){if(v===0)throw new Error("[BitmapFont] textureHeight "+u+"px is "+("too small for "+f.fontSize+"px fonts"));--b,y=null,g=null,x=null,v=0,p=0,m=0;continue}if(m=Math.max(E+w.fontProperties.descent,m),_*s+p>=l){--b,v+=m*s,v=Math.ceil(v),p=0,m=0;continue}zd(y,g,w,p,v,s,f);var P=w.text.charCodeAt(0);d.char.push({id:P,page:T.length-1,x:p/s,y:v/s,width:_,height:E,xoffset:0,yoffset:0,xadvance:Math.ceil(N-(f.dropShadow?f.dropShadowDistance:0)-(f.stroke?f.strokeThickness:0))}),p+=(_+2*o)*s,p=Math.ceil(p)}var S=new i(d,T,!0);return i.available[r]!==void 0&&i.uninstall(r),i.available[r]=S,S},i.ALPHA=[["a","z"],["A","Z"]," "],i.NUMERIC=[["0","9"]],i.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],i.ASCII=[[" ","~"]],i.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:i.ALPHANUMERIC},i.available={},i}(),No=[],Do=[],Yd=function(i){Gd(r,i);function r(t,e){e===void 0&&(e={});var n=i.call(this)||this;n._tint=16777215,e.font&&(I("5.3.0","PIXI.BitmapText constructor style.font property is deprecated."),n._upgradeStyle(e));var a=Object.assign({},r.styleDefaults,e),o=a.align,s=a.tint,h=a.maxWidth,u=a.letterSpacing,c=a.fontName,f=a.fontSize;if(!Kt.available[c])throw new Error('Missing BitmapFont "'+c+'"');return n._activePagesMeshData=[],n._textWidth=0,n._textHeight=0,n._align=o,n._tint=s,n._fontName=c,n._fontSize=f||Kt.available[c].size,n._text=t,n._maxWidth=h,n._maxLineHeight=0,n._letterSpacing=u,n._anchor=new ve(function(){n.dirty=!0},n,0,0),n._roundPixels=D.ROUND_PIXELS,n.dirty=!0,n._textureCache={},n}return r.prototype.updateText=function(){for(var t,e=Kt.available[this._fontName],n=this._fontSize/e.size,a=new pt,o=[],s=[],h=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",u=h.length,c=this._maxWidth*e.size/this._fontSize,f=null,l=0,d=0,p=0,v=-1,y=0,g=0,x=0,m=0;m<u;m++){var T=h.charCodeAt(m),b=h.charAt(m);if(/(?:\s)/.test(b)&&(v=m,y=l),b==="\r"||b===`
`){s.push(l),d=Math.max(d,l),++p,++g,a.x=0,a.y+=e.lineHeight,f=null;continue}var w=e.chars[T];if(!!w){f&&w.kerning[f]&&(a.x+=w.kerning[f]);var N=Do.pop()||{texture:G.EMPTY,line:0,charCode:0,position:new pt};N.texture=w.texture,N.line=p,N.charCode=T,N.position.x=a.x+w.xOffset+this._letterSpacing/2,N.position.y=a.y+w.yOffset,o.push(N),a.x+=w.xAdvance+this._letterSpacing,l=a.x,x=Math.max(x,w.yOffset+w.texture.height),f=T,v!==-1&&c>0&&a.x>c&&(++g,ge(o,1+v-g,1+m-v),m=v,v=-1,s.push(y),d=Math.max(d,y),p++,a.x=0,a.y+=e.lineHeight,f=null)}}var E=h.charAt(h.length-1);E!=="\r"&&E!==`
`&&(/(?:\s)/.test(E)&&(l=y),s.push(l),d=Math.max(d,l));for(var _=[],m=0;m<=p;m++){var P=0;this._align==="right"?P=d-s[m]:this._align==="center"&&(P=(d-s[m])/2),_.push(P)}for(var S=o.length,R={},F=[],z=this._activePagesMeshData,m=0;m<z.length;m++)No.push(z[m]);for(var m=0;m<S;m++){var M=o[m].texture,C=M.baseTexture.uid;if(!R[C]){var O=No.pop();if(!O){var Ft=new Er,Mt=new Ir(G.EMPTY),L=new Ye(Ft,Mt);O={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:L,vertices:null,uvs:null,indices:null}}O.index=0,O.indexCount=0,O.vertexCount=0,O.uvsCount=0,O.total=0;var B=this._textureCache;B[C]=B[C]||new G(M.baseTexture),O.mesh.texture=B[C],O.mesh.tint=this._tint,F.push(O),R[C]=O}R[C].total++}for(var m=0;m<z.length;m++)F.indexOf(z[m])===-1&&this.removeChild(z[m].mesh);for(var m=0;m<F.length;m++)F[m].mesh.parent!==this&&this.addChild(F[m].mesh);this._activePagesMeshData=F;for(var m in R){var O=R[m],H=O.total;if(!(((t=O.indices)===null||t===void 0?void 0:t.length)>6*H)||O.vertices.length<Ye.BATCHABLE_SIZE*2)O.vertices=new Float32Array(4*2*H),O.uvs=new Float32Array(4*2*H),O.indices=new Uint16Array(6*H);else for(var $=O.total,Z=O.vertices,rt=$*4*2;rt<Z.length;rt++)Z[rt]=0;O.mesh.size=6*H}for(var m=0;m<S;m++){var b=o[m],K=b.position.x+_[b.line];this._roundPixels&&(K=Math.round(K));var tt=K*n,ot=b.position.y*n,M=b.texture,j=R[M.baseTexture.uid],it=M.frame,Y=M._uvs,X=j.index++;j.indices[X*6+0]=0+X*4,j.indices[X*6+1]=1+X*4,j.indices[X*6+2]=2+X*4,j.indices[X*6+3]=0+X*4,j.indices[X*6+4]=2+X*4,j.indices[X*6+5]=3+X*4,j.vertices[X*8+0]=tt,j.vertices[X*8+1]=ot,j.vertices[X*8+2]=tt+it.width*n,j.vertices[X*8+3]=ot,j.vertices[X*8+4]=tt+it.width*n,j.vertices[X*8+5]=ot+it.height*n,j.vertices[X*8+6]=tt,j.vertices[X*8+7]=ot+it.height*n,j.uvs[X*8+0]=Y.x0,j.uvs[X*8+1]=Y.y0,j.uvs[X*8+2]=Y.x1,j.uvs[X*8+3]=Y.y1,j.uvs[X*8+4]=Y.x2,j.uvs[X*8+5]=Y.y2,j.uvs[X*8+6]=Y.x3,j.uvs[X*8+7]=Y.y3}this._textWidth=d*n,this._textHeight=(a.y+e.lineHeight)*n;for(var m in R){var O=R[m];if(this.anchor.x!==0||this.anchor.y!==0)for(var nt=0,yt=this._textWidth*this.anchor.x,_t=this._textHeight*this.anchor.y,qt=0;qt<O.total;qt++)O.vertices[nt++]-=yt,O.vertices[nt++]-=_t,O.vertices[nt++]-=yt,O.vertices[nt++]-=_t,O.vertices[nt++]-=yt,O.vertices[nt++]-=_t,O.vertices[nt++]-=yt,O.vertices[nt++]-=_t;this._maxLineHeight=x*n;var Sr=O.mesh.geometry.getBuffer("aVertexPosition"),Ar=O.mesh.geometry.getBuffer("aTextureCoord"),Pa=O.mesh.geometry.getIndex();Sr.data=O.vertices,Ar.data=O.uvs,Pa.data=O.indices,Sr.update(),Ar.update(),Pa.update()}for(var m=0;m<o.length;m++)Do.push(o[m])},r.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},r.prototype.getLocalBounds=function(){return this.validate(),i.prototype.getLocalBounds.call(this)},r.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(r.prototype,"tint",{get:function(){return this._tint},set:function(t){if(this._tint!==t){this._tint=t;for(var e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fontName",{get:function(){return this._fontName},set:function(t){if(!Kt.available[t])throw new Error('Missing BitmapFont "'+t+'"');this._fontName!==t&&(this._fontName=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"anchor",{get:function(){return this._anchor},set:function(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"text",{get:function(){return this._text},set:function(t){t=String(t==null?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),r.prototype._upgradeStyle=function(t){if(typeof t.font=="string"){var e=t.font.split(" ");t.fontName=e.length===1?e[0]:e.slice(1).join(" "),e.length>=2&&(t.fontSize=parseInt(e[0],10))}else t.fontName=t.font.name,t.fontSize=typeof t.font.size=="number"?t.font.size:parseInt(t.font.size,10)},r.prototype.destroy=function(t){var e=this._textureCache;for(var n in e){var a=e[n];a.destroy(),delete e[n]}this._textureCache=null,i.prototype.destroy.call(this,t)},r.registerFont=function(t,e){return I("5.3.0","PIXI.BitmapText.registerFont is deprecated, use PIXI.BitmapFont.install"),Kt.install(t,e)},Object.defineProperty(r,"fonts",{get:function(){return I("5.3.0","PIXI.BitmapText.fonts is deprecated, use PIXI.BitmapFont.available"),Kt.available},enumerable:!1,configurable:!0}),r.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},r}(St),Qh=function(){function i(){}return i.add=function(){fr.setExtensionXhrType("fnt",fr.XHR_RESPONSE_TYPE.TEXT)},i.use=function(r,t){var e=Jh(r.data);if(!e){t();return}for(var n=i.getBaseUrl(this,r),a=e.parse(r.data),o={},s=function(v){o[v.metadata.pageFile]=v.texture,Object.keys(o).length===a.page.length&&(r.bitmapFont=Kt.install(a,o,!0),t())},h=0;h<a.page.length;++h){var u=a.page[h].file,c=n+u,f=!1;for(var l in this.resources){var d=this.resources[l];if(d.url===c){d.metadata.pageFile=u,d.texture?s(d):d.onAfterMiddleware.add(s),f=!0;break}}if(!f){var p={crossOrigin:r.crossOrigin,loadType:fr.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:u},r.metadata.imageMetadata),parentResource:r};this.add(c,p,s)}}},i.getBaseUrl=function(r,t){var e=t.isDataUrl?"":i.dirname(t.url);return t.isDataUrl&&(e==="."&&(e=""),r.baseUrl&&e&&r.baseUrl.charAt(r.baseUrl.length-1)==="/"&&(e+="/")),e=e.replace(r.baseUrl,""),e&&e.charAt(e.length-1)!=="/"&&(e+="/"),e},i.dirname=function(r){var t=r.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return t===r?".":t===""?"/":t},i}();/*!
 * @pixi/filter-alpha - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/filter-alpha is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Dn=function(i,r){return Dn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},Dn(i,r)};function $d(i,r){Dn(i,r);function t(){this.constructor=i}i.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var qd=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`,Zd=function(i){$d(r,i);function r(t){t===void 0&&(t=1);var e=i.call(this,Th,qd,{uAlpha:1})||this;return e.alpha=t,e}return Object.defineProperty(r.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),r}(Yt);/*!
 * @pixi/filter-blur - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/filter-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Un=function(i,r){return Un=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},Un(i,r)};function tu(i,r){Un(i,r);function t(){this.constructor=i}i.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var Kd=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function Jd(i,r){var t=Math.ceil(i/2),e=Kd,n="",a;r?a="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":a="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var o=0;o<i;o++){var s=a.replace("%index%",o.toString());s=s.replace("%sampleIndex%",o-(t-1)+".0"),n+=s,n+=`
`}return e=e.replace("%blur%",n),e=e.replace("%size%",i.toString()),e}var Qd={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},tp=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function ep(i){for(var r=Qd[i],t=r.length,e=tp,n="",a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",o,s=0;s<i;s++){var h=a.replace("%index%",s.toString());o=s,s>=t&&(o=i-s-1),h=h.replace("%value%",r[o].toString()),n+=h,n+=`
`}return e=e.replace("%blur%",n),e=e.replace("%size%",i.toString()),e}var Uo;(function(i){i[i.WEBGL_LEGACY=0]="WEBGL_LEGACY",i[i.WEBGL=1]="WEBGL",i[i.WEBGL2=2]="WEBGL2"})(Uo||(Uo={}));var Bo;(function(i){i[i.UNKNOWN=0]="UNKNOWN",i[i.WEBGL=1]="WEBGL",i[i.CANVAS=2]="CANVAS"})(Bo||(Bo={}));var ko;(function(i){i[i.COLOR=16384]="COLOR",i[i.DEPTH=256]="DEPTH",i[i.STENCIL=1024]="STENCIL"})(ko||(ko={}));var Xo;(function(i){i[i.NORMAL=0]="NORMAL",i[i.ADD=1]="ADD",i[i.MULTIPLY=2]="MULTIPLY",i[i.SCREEN=3]="SCREEN",i[i.OVERLAY=4]="OVERLAY",i[i.DARKEN=5]="DARKEN",i[i.LIGHTEN=6]="LIGHTEN",i[i.COLOR_DODGE=7]="COLOR_DODGE",i[i.COLOR_BURN=8]="COLOR_BURN",i[i.HARD_LIGHT=9]="HARD_LIGHT",i[i.SOFT_LIGHT=10]="SOFT_LIGHT",i[i.DIFFERENCE=11]="DIFFERENCE",i[i.EXCLUSION=12]="EXCLUSION",i[i.HUE=13]="HUE",i[i.SATURATION=14]="SATURATION",i[i.COLOR=15]="COLOR",i[i.LUMINOSITY=16]="LUMINOSITY",i[i.NORMAL_NPM=17]="NORMAL_NPM",i[i.ADD_NPM=18]="ADD_NPM",i[i.SCREEN_NPM=19]="SCREEN_NPM",i[i.NONE=20]="NONE",i[i.SRC_OVER=0]="SRC_OVER",i[i.SRC_IN=21]="SRC_IN",i[i.SRC_OUT=22]="SRC_OUT",i[i.SRC_ATOP=23]="SRC_ATOP",i[i.DST_OVER=24]="DST_OVER",i[i.DST_IN=25]="DST_IN",i[i.DST_OUT=26]="DST_OUT",i[i.DST_ATOP=27]="DST_ATOP",i[i.ERASE=26]="ERASE",i[i.SUBTRACT=28]="SUBTRACT",i[i.XOR=29]="XOR"})(Xo||(Xo={}));var Go;(function(i){i[i.POINTS=0]="POINTS",i[i.LINES=1]="LINES",i[i.LINE_LOOP=2]="LINE_LOOP",i[i.LINE_STRIP=3]="LINE_STRIP",i[i.TRIANGLES=4]="TRIANGLES",i[i.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",i[i.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(Go||(Go={}));var Ho;(function(i){i[i.RGBA=6408]="RGBA",i[i.RGB=6407]="RGB",i[i.ALPHA=6406]="ALPHA",i[i.LUMINANCE=6409]="LUMINANCE",i[i.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",i[i.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",i[i.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(Ho||(Ho={}));var jo;(function(i){i[i.TEXTURE_2D=3553]="TEXTURE_2D",i[i.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",i[i.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",i[i.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",i[i.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",i[i.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",i[i.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",i[i.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",i[i.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(jo||(jo={}));var Vo;(function(i){i[i.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",i[i.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",i[i.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",i[i.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",i[i.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",i[i.FLOAT=5126]="FLOAT",i[i.HALF_FLOAT=36193]="HALF_FLOAT"})(Vo||(Vo={}));var zo;(function(i){i[i.NEAREST=0]="NEAREST",i[i.LINEAR=1]="LINEAR"})(zo||(zo={}));var Wo;(function(i){i[i.CLAMP=33071]="CLAMP",i[i.REPEAT=10497]="REPEAT",i[i.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(Wo||(Wo={}));var Yo;(function(i){i[i.OFF=0]="OFF",i[i.POW2=1]="POW2",i[i.ON=2]="ON"})(Yo||(Yo={}));var $o;(function(i){i[i.NPM=0]="NPM",i[i.UNPACK=1]="UNPACK",i[i.PMA=2]="PMA",i[i.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",i[i.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",i[i.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"})($o||($o={}));var xr;(function(i){i[i.NO=0]="NO",i[i.YES=1]="YES",i[i.AUTO=2]="AUTO",i[i.BLEND=0]="BLEND",i[i.CLEAR=1]="CLEAR",i[i.BLIT=2]="BLIT"})(xr||(xr={}));var qo;(function(i){i[i.AUTO=0]="AUTO",i[i.MANUAL=1]="MANUAL"})(qo||(qo={}));var Zo;(function(i){i.LOW="lowp",i.MEDIUM="mediump",i.HIGH="highp"})(Zo||(Zo={}));var Ko;(function(i){i[i.NONE=0]="NONE",i[i.SCISSOR=1]="SCISSOR",i[i.STENCIL=2]="STENCIL",i[i.SPRITE=3]="SPRITE"})(Ko||(Ko={}));var Jo;(function(i){i[i.NONE=0]="NONE",i[i.LOW=2]="LOW",i[i.MEDIUM=4]="MEDIUM",i[i.HIGH=8]="HIGH"})(Jo||(Jo={}));var Bn=function(i){tu(r,i);function r(t,e,n,a,o){e===void 0&&(e=8),n===void 0&&(n=4),a===void 0&&(a=D.FILTER_RESOLUTION),o===void 0&&(o=5);var s=this,h=Jd(o,t),u=ep(o);return s=i.call(this,h,u)||this,s.horizontal=t,s.resolution=a,s._quality=0,s.quality=n,s.blur=e,s}return r.prototype.apply=function(t,e,n,a){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/e.width):this.uniforms.strength=1/n.height*(n.height/e.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/e.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/e.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)t.applyFilter(this,e,n,a);else{var o=t.getFilterTexture(),s=t.renderer,h=e,u=o;this.state.blend=!1,t.applyFilter(this,h,u,xr.CLEAR);for(var c=1;c<this.passes-1;c++){t.bindAndClear(h,xr.BLIT),this.uniforms.uSampler=u;var f=u;u=h,h=f,s.shader.bind(this),s.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,u,n,a),t.returnFilterTexture(o)}},Object.defineProperty(r.prototype,"blur",{get:function(){return this.strength},set:function(t){this.padding=1+Math.abs(t)*2,this.strength=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"quality",{get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t},enumerable:!1,configurable:!0}),r}(Yt),rp=function(i){tu(r,i);function r(t,e,n,a){t===void 0&&(t=8),e===void 0&&(e=4),n===void 0&&(n=D.FILTER_RESOLUTION),a===void 0&&(a=5);var o=i.call(this)||this;return o.blurXFilter=new Bn(!0,t,e,n,a),o.blurYFilter=new Bn(!1,t,e,n,a),o.resolution=n,o.quality=e,o.blur=t,o.repeatEdgePixels=!1,o}return r.prototype.apply=function(t,e,n,a){var o=Math.abs(this.blurXFilter.strength),s=Math.abs(this.blurYFilter.strength);if(o&&s){var h=t.getFilterTexture();this.blurXFilter.apply(t,e,h,xr.CLEAR),this.blurYFilter.apply(t,h,n,a),t.returnFilterTexture(h)}else s?this.blurYFilter.apply(t,e,n,a):this.blurXFilter.apply(t,e,n,a)},r.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2},Object.defineProperty(r.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(t){this.blurYFilter.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(t){this._repeatEdgePixels=t,this.updatePadding()},enumerable:!1,configurable:!0}),r}(Yt);/*!
 * @pixi/filter-color-matrix - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/filter-color-matrix is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var kn=function(i,r){return kn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},kn(i,r)};function ip(i,r){kn(i,r);function t(){this.constructor=i}i.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var np=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`,Xn=function(i){ip(r,i);function r(){var t=this,e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return t=i.call(this,ma,np,e)||this,t.alpha=1,t}return r.prototype._loadMatrix=function(t,e){e===void 0&&(e=!1);var n=t;e&&(this._multiply(n,this.uniforms.m,t),n=this._colorMatrix(n)),this.uniforms.m=n},r.prototype._multiply=function(t,e,n){return t[0]=e[0]*n[0]+e[1]*n[5]+e[2]*n[10]+e[3]*n[15],t[1]=e[0]*n[1]+e[1]*n[6]+e[2]*n[11]+e[3]*n[16],t[2]=e[0]*n[2]+e[1]*n[7]+e[2]*n[12]+e[3]*n[17],t[3]=e[0]*n[3]+e[1]*n[8]+e[2]*n[13]+e[3]*n[18],t[4]=e[0]*n[4]+e[1]*n[9]+e[2]*n[14]+e[3]*n[19]+e[4],t[5]=e[5]*n[0]+e[6]*n[5]+e[7]*n[10]+e[8]*n[15],t[6]=e[5]*n[1]+e[6]*n[6]+e[7]*n[11]+e[8]*n[16],t[7]=e[5]*n[2]+e[6]*n[7]+e[7]*n[12]+e[8]*n[17],t[8]=e[5]*n[3]+e[6]*n[8]+e[7]*n[13]+e[8]*n[18],t[9]=e[5]*n[4]+e[6]*n[9]+e[7]*n[14]+e[8]*n[19]+e[9],t[10]=e[10]*n[0]+e[11]*n[5]+e[12]*n[10]+e[13]*n[15],t[11]=e[10]*n[1]+e[11]*n[6]+e[12]*n[11]+e[13]*n[16],t[12]=e[10]*n[2]+e[11]*n[7]+e[12]*n[12]+e[13]*n[17],t[13]=e[10]*n[3]+e[11]*n[8]+e[12]*n[13]+e[13]*n[18],t[14]=e[10]*n[4]+e[11]*n[9]+e[12]*n[14]+e[13]*n[19]+e[14],t[15]=e[15]*n[0]+e[16]*n[5]+e[17]*n[10]+e[18]*n[15],t[16]=e[15]*n[1]+e[16]*n[6]+e[17]*n[11]+e[18]*n[16],t[17]=e[15]*n[2]+e[16]*n[7]+e[17]*n[12]+e[18]*n[17],t[18]=e[15]*n[3]+e[16]*n[8]+e[17]*n[13]+e[18]*n[18],t[19]=e[15]*n[4]+e[16]*n[9]+e[17]*n[14]+e[18]*n[19]+e[19],t},r.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},r.prototype.brightness=function(t,e){var n=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(n,e)},r.prototype.greyscale=function(t,e){var n=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(n,e)},r.prototype.blackAndWhite=function(t){var e=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(e,t)},r.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var n=Math.cos(t),a=Math.sin(t),o=Math.sqrt,s=1/3,h=o(s),u=n+(1-n)*s,c=s*(1-n)-h*a,f=s*(1-n)+h*a,l=s*(1-n)+h*a,d=n+s*(1-n),p=s*(1-n)-h*a,v=s*(1-n)-h*a,y=s*(1-n)+h*a,g=n+s*(1-n),x=[u,c,f,0,0,l,d,p,0,0,v,y,g,0,0,0,0,0,1,0];this._loadMatrix(x,e)},r.prototype.contrast=function(t,e){var n=(t||0)+1,a=-.5*(n-1),o=[n,0,0,0,a,0,n,0,0,a,0,0,n,0,a,0,0,0,1,0];this._loadMatrix(o,e)},r.prototype.saturate=function(t,e){t===void 0&&(t=0);var n=t*2/3+1,a=(n-1)*-.5,o=[n,a,a,0,0,a,n,a,0,0,a,a,n,0,0,0,0,0,1,0];this._loadMatrix(o,e)},r.prototype.desaturate=function(){this.saturate(-1)},r.prototype.negative=function(t){var e=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(e,t)},r.prototype.sepia=function(t){var e=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(e,t)},r.prototype.technicolor=function(t){var e=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(e,t)},r.prototype.polaroid=function(t){var e=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(e,t)},r.prototype.toBGR=function(t){var e=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(e,t)},r.prototype.kodachrome=function(t){var e=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(e,t)},r.prototype.browni=function(t){var e=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(e,t)},r.prototype.vintage=function(t){var e=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(e,t)},r.prototype.colorTone=function(t,e,n,a,o){t=t||.2,e=e||.15,n=n||16770432,a=a||3375104;var s=(n>>16&255)/255,h=(n>>8&255)/255,u=(n&255)/255,c=(a>>16&255)/255,f=(a>>8&255)/255,l=(a&255)/255,d=[.3,.59,.11,0,0,s,h,u,t,0,c,f,l,e,0,s-c,h-f,u-l,0,0];this._loadMatrix(d,o)},r.prototype.night=function(t,e){t=t||.1;var n=[t*-2,-t,0,0,0,-t,0,t,0,0,0,t,t*2,0,0,0,0,0,1,0];this._loadMatrix(n,e)},r.prototype.predator=function(t,e){var n=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(n,e)},r.prototype.lsd=function(t){var e=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(e,t)},r.prototype.reset=function(){var t=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(t,!1)},Object.defineProperty(r.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),r}(Yt);Xn.prototype.grayscale=Xn.prototype.greyscale;/*!
 * @pixi/filter-displacement - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Gn=function(i,r){return Gn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},Gn(i,r)};function ap(i,r){Gn(i,r);function t(){this.constructor=i}i.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var op=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,sp=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`,hp=function(i){ap(r,i);function r(t,e){var n=this,a=new ht;return t.renderable=!1,n=i.call(this,sp,op,{mapSampler:t._texture,filterMatrix:a,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this,n.maskSprite=t,n.maskMatrix=a,e==null&&(e=20),n.scale=new pt(e,e),n}return r.prototype.apply=function(t,e,n,a){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var o=this.maskSprite.worldTransform,s=Math.sqrt(o.a*o.a+o.b*o.b),h=Math.sqrt(o.c*o.c+o.d*o.d);s!==0&&h!==0&&(this.uniforms.rotation[0]=o.a/s,this.uniforms.rotation[1]=o.b/s,this.uniforms.rotation[2]=o.c/h,this.uniforms.rotation[3]=o.d/h),t.applyFilter(this,e,n,a)},Object.defineProperty(r.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t},enumerable:!1,configurable:!0}),r}(Yt);/*!
 * @pixi/filter-fxaa - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/filter-fxaa is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Hn=function(i,r){return Hn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},Hn(i,r)};function up(i,r){Hn(i,r);function t(){this.constructor=i}i.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var lp=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputPixel;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`,fp=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputPixel;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,cp=function(i){up(r,i);function r(){return i.call(this,lp,fp)||this}return r}(Yt);/*!
 * @pixi/filter-noise - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/filter-noise is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var jn=function(i,r){return jn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},jn(i,r)};function dp(i,r){jn(i,r);function t(){this.constructor=i}i.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var pp=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`,vp=function(i){dp(r,i);function r(t,e){t===void 0&&(t=.5),e===void 0&&(e=Math.random());var n=i.call(this,ma,pp,{uNoise:0,uSeed:0})||this;return n.noise=t,n.seed=e,n}return Object.defineProperty(r.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t},enumerable:!1,configurable:!0}),r}(Yt);/*!
 * @pixi/mixin-cache-as-bitmap - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/mixin-cache-as-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var eu=new ht;ut.prototype._cacheAsBitmap=!1;ut.prototype._cacheData=null;var yp=function(){function i(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}return i}();Object.defineProperties(ut.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(i){if(this._cacheAsBitmap!==i){this._cacheAsBitmap=i;var r;i?(this._cacheData||(this._cacheData=new yp),r=this._cacheData,r.originalRender=this.render,r.originalRenderCanvas=this.renderCanvas,r.originalUpdateTransform=this.updateTransform,r.originalCalculateBounds=this.calculateBounds,r.originalGetLocalBounds=this.getLocalBounds,r.originalDestroy=this.destroy,r.originalContainsPoint=this.containsPoint,r.originalMask=this._mask,r.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(r=this._cacheData,r.sprite&&this._destroyCachedDisplayObject(),this.render=r.originalRender,this.renderCanvas=r.originalRenderCanvas,this.calculateBounds=r.originalCalculateBounds,this.getLocalBounds=r.originalGetLocalBounds,this.destroy=r.originalDestroy,this.updateTransform=r.originalUpdateTransform,this.containsPoint=r.originalContainsPoint,this._mask=r.originalMask,this.filterArea=r.originalFilterArea)}}}});ut.prototype._renderCached=function(r){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(r),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(r))};ut.prototype._initCachedDisplayObject=function(r){if(!(this._cacheData&&this._cacheData.sprite)){var t=this.alpha;this.alpha=1,r.batch.flush();var e=this.getLocalBounds(null,!0).clone();if(this.filters){var n=this.filters[0].padding;e.pad(n)}e.ceil(D.RESOLUTION);var a=r.renderTexture.current,o=r.renderTexture.sourceFrame.clone(),s=r.renderTexture.destinationFrame.clone(),h=r.projection.transform,u=ee.create({width:e.width,height:e.height}),c="cacheAsBitmap_"+Te();this._cacheData.textureCacheId=c,J.addToCache(u.baseTexture,c),G.addToCache(u,c);var f=this.transform.localTransform.copyTo(eu).invert().translate(-e.x,-e.y);this.render=this._cacheData.originalRender,r.render(this,u,!0,f,!1),r.projection.transform=h,r.renderTexture.bind(a,o,s),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var l=new ae(u);l.transform.worldTransform=this.transform.worldTransform,l.anchor.x=-(e.x/e.width),l.anchor.y=-(e.y/e.height),l.alpha=t,l._bounds=this._bounds,this._cacheData.sprite=l,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=l.containsPoint.bind(l)}};ut.prototype._renderCachedCanvas=function(r){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(r),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(r))};ut.prototype._initCachedDisplayObjectCanvas=function(r){if(!(this._cacheData&&this._cacheData.sprite)){var t=this.getLocalBounds(null,!0),e=this.alpha;this.alpha=1;var n=r.context,a=r._projTransform;t.ceil(D.RESOLUTION);var o=ee.create({width:t.width,height:t.height}),s="cacheAsBitmap_"+Te();this._cacheData.textureCacheId=s,J.addToCache(o.baseTexture,s),G.addToCache(o,s);var h=eu;this.transform.localTransform.copyTo(h),h.invert(),h.tx-=t.x,h.ty-=t.y,this.renderCanvas=this._cacheData.originalRenderCanvas,r.render(this,o,!0,h,!1),r.context=n,r._projTransform=a,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var u=new ae(o);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-(t.x/t.width),u.anchor.y=-(t.y/t.height),u.alpha=e,u._bounds=this._bounds,this._cacheData.sprite=u,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=r._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=u.containsPoint.bind(u)}};ut.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};ut.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};ut.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,J.removeFromCache(this._cacheData.textureCacheId),G.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};ut.prototype._cacheAsBitmapDestroy=function(r){this.cacheAsBitmap=!1,this.destroy(r)};/*!
 * @pixi/mixin-get-child-by-name - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */ut.prototype.name=null;St.prototype.getChildByName=function(r,t){for(var e=0,n=this.children.length;e<n;e++)if(this.children[e].name===r)return this.children[e];if(t)for(var e=0,n=this.children.length;e<n;e++){var a=this.children[e];if(!!a.getChildByName){var o=this.children[e].getChildByName(r,!0);if(o)return o}}return null};/*!
 * @pixi/mixin-get-global-position - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */ut.prototype.getGlobalPosition=function(r,t){return r===void 0&&(r=new pt),t===void 0&&(t=!1),this.parent?this.parent.toGlobal(this.position,r,t):(r.x=this.position.x,r.y=this.position.y),r};/*!
 * @pixi/mesh-extras - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/mesh-extras is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Vn=function(i,r){return Vn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},Vn(i,r)};function Je(i,r){Vn(i,r);function t(){this.constructor=i}i.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var ru=function(i){Je(r,i);function r(t,e,n,a){t===void 0&&(t=100),e===void 0&&(e=100),n===void 0&&(n=10),a===void 0&&(a=10);var o=i.call(this)||this;return o.segWidth=n,o.segHeight=a,o.width=t,o.height=e,o.build(),o}return r.prototype.build=function(){for(var t=this.segWidth*this.segHeight,e=[],n=[],a=[],o=this.segWidth-1,s=this.segHeight-1,h=this.width/o,u=this.height/s,c=0;c<t;c++){var f=c%this.segWidth,l=c/this.segWidth|0;e.push(f*h,l*u),n.push(f/o,l/s)}for(var d=o*s,c=0;c<d;c++){var p=c%o,v=c/o|0,y=v*this.segWidth+p,g=v*this.segWidth+p+1,x=(v+1)*this.segWidth+p,m=(v+1)*this.segWidth+p+1;a.push(y,g,x,g,m,x)}this.buffers[0].data=new Float32Array(e),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(a),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},r}(Er),iu=function(i){Je(r,i);function r(t,e,n){t===void 0&&(t=200),n===void 0&&(n=0);var a=i.call(this,new Float32Array(e.length*4),new Float32Array(e.length*4),new Uint16Array((e.length-1)*6))||this;return a.points=e,a._width=t,a.textureScale=n,a.build(),a}return Object.defineProperty(r.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),r.prototype.build=function(){var t=this.points;if(!!t){var e=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),a=this.getIndex();if(!(t.length<1)){e.data.length/4!==t.length&&(e.data=new Float32Array(t.length*4),n.data=new Float32Array(t.length*4),a.data=new Uint16Array((t.length-1)*6));var o=n.data,s=a.data;o[0]=0,o[1]=0,o[2]=0,o[3]=1;for(var h=0,u=t[0],c=this._width*this.textureScale,f=t.length,l=0;l<f;l++){var d=l*4;if(this.textureScale>0){var p=u.x-t[l].x,v=u.y-t[l].y,y=Math.sqrt(p*p+v*v);u=t[l],h+=y/c}else h=l/(f-1);o[d]=h,o[d+1]=0,o[d+2]=h,o[d+3]=1}for(var g=0,l=0;l<f-1;l++){var d=l*2;s[g++]=d,s[g++]=d+1,s[g++]=d+2,s[g++]=d+2,s[g++]=d+1,s[g++]=d+3}n.update(),a.update(),this.updateVertices()}}},r.prototype.updateVertices=function(){var t=this.points;if(!(t.length<1)){for(var e=t[0],n,a=0,o=0,s=this.buffers[0].data,h=t.length,u=0;u<h;u++){var c=t[u],f=u*4;u<t.length-1?n=t[u+1]:n=c,o=-(n.x-e.x),a=n.y-e.y;var l=Math.sqrt(a*a+o*o),d=this.textureScale>0?this.textureScale*this._width/2:this._width/2;a/=l,o/=l,a*=d,o*=d,s[f]=c.x+a,s[f+1]=c.y+o,s[f+2]=c.x-a,s[f+3]=c.y-o,e=c}this.buffers[0].update()}},r.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},r}(Er),mp=function(i){Je(r,i);function r(t,e,n){n===void 0&&(n=0);var a=this,o=new iu(t.height,e,n),s=new Ir(t);return n>0&&(t.baseTexture.wrapMode=jt.REPEAT),a=i.call(this,o,s)||this,a.autoUpdate=!0,a}return r.prototype._render=function(t){var e=this.geometry;(this.autoUpdate||e._width!==this.shader.texture.height)&&(e._width=this.shader.texture.height,e.update()),i.prototype._render.call(this,t)},r}(Ye),nu=function(i){Je(r,i);function r(t,e,n){var a=this,o=new ru(t.width,t.height,e,n),s=new Ir(G.WHITE);return a=i.call(this,o,s)||this,a.texture=t,a}return r.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var t=this.geometry;t.width=this.shader.texture.width,t.height=this.shader.texture.height,t.build()},Object.defineProperty(r.prototype,"texture",{get:function(){return this.shader.texture},set:function(t){this.shader.texture!==t&&(this.shader.texture=t,this._textureID=-1,t.baseTexture.valid?this.textureUpdated():t.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),r.prototype._render=function(t){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),i.prototype._render.call(this,t)},r.prototype.destroy=function(t){this.shader.texture.off("update",this.textureUpdated,this),i.prototype.destroy.call(this,t)},r}(Ye),gp=function(i){Je(r,i);function r(t,e,n,a,o){t===void 0&&(t=G.EMPTY);var s=this,h=new Er(e,n,a);h.getBuffer("aVertexPosition").static=!1;var u=new Ir(t);return s=i.call(this,h,u,null,o)||this,s.autoUpdate=!0,s}return Object.defineProperty(r.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),r.prototype._render=function(t){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),i.prototype._render.call(this,t)},r}(Ye),Yr=10,_p=function(i){Je(r,i);function r(t,e,n,a,o){e===void 0&&(e=Yr),n===void 0&&(n=Yr),a===void 0&&(a=Yr),o===void 0&&(o=Yr);var s=i.call(this,G.WHITE,4,4)||this;return s._origWidth=t.orig.width,s._origHeight=t.orig.height,s._width=s._origWidth,s._height=s._origHeight,s._leftWidth=e,s._rightWidth=a,s._topHeight=n,s._bottomHeight=o,s.texture=t,s}return r.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(r.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),r.prototype.updateHorizontalVertices=function(){var t=this.vertices,e=this._getMinScale();t[9]=t[11]=t[13]=t[15]=this._topHeight*e,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*e,t[25]=t[27]=t[29]=t[31]=this._height},r.prototype.updateVerticalVertices=function(){var t=this.vertices,e=this._getMinScale();t[2]=t[10]=t[18]=t[26]=this._leftWidth*e,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*e,t[6]=t[14]=t[22]=t[30]=this._width},r.prototype._getMinScale=function(){var t=this._leftWidth+this._rightWidth,e=this._width>t?1:this._width/t,n=this._topHeight+this._bottomHeight,a=this._height>n?1:this._height/n,o=Math.min(e,a);return o},Object.defineProperty(r.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"topHeight",{get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()},enumerable:!1,configurable:!0}),r.prototype._refresh=function(){var t=this.texture,e=this.geometry.buffers[1].data;this._origWidth=t.orig.width,this._origHeight=t.orig.height;var n=1/this._origWidth,a=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=n*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-n*this._rightWidth,e[9]=e[11]=e[13]=e[15]=a*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-a*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},r}(nu);/*!
 * @pixi/sprite-animated - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/sprite-animated is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var zn=function(i,r){return zn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},zn(i,r)};function xp(i,r){zn(i,r);function t(){this.constructor=i}i.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var bp=function(i){xp(r,i);function r(t,e){e===void 0&&(e=!0);var n=i.call(this,t[0]instanceof G?t[0]:t[0].texture)||this;return n._textures=null,n._durations=null,n._autoUpdate=e,n._isConnectedToTicker=!1,n.animationSpeed=1,n.loop=!0,n.updateAnchor=!1,n.onComplete=null,n.onFrameChange=null,n.onLoop=null,n._currentTime=0,n._playing=!1,n._previousFrame=null,n.textures=t,n}return r.prototype.stop=function(){!this._playing||(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(dt.shared.remove(this.update,this),this._isConnectedToTicker=!1))},r.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(dt.shared.add(this.update,this,Ut.HIGH),this._isConnectedToTicker=!0))},r.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},r.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},r.prototype.update=function(t){if(!!this._playing){var e=this.animationSpeed*t,n=this.currentFrame;if(this._durations!==null){var a=this._currentTime%1*this._durations[this.currentFrame];for(a+=e/60*1e3;a<0;)this._currentTime--,a+=this._durations[this.currentFrame];var o=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);a>=this._durations[this.currentFrame];)a-=this._durations[this.currentFrame]*o,this._currentTime+=o;this._currentTime+=a/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n?this.onLoop():this.animationSpeed<0&&this.currentFrame>n&&this.onLoop()),this.updateTexture())}},r.prototype.updateTexture=function(){var t=this.currentFrame;this._previousFrame!==t&&(this._previousFrame=t,this._texture=this._textures[t],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},r.prototype.destroy=function(t){this.stop(),i.prototype.destroy.call(this,t),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},r.fromFrames=function(t){for(var e=[],n=0;n<t.length;++n)e.push(G.from(t[n]));return new r(e)},r.fromImages=function(t){for(var e=[],n=0;n<t.length;++n)e.push(G.from(t[n]));return new r(e)},Object.defineProperty(r.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textures",{get:function(){return this._textures},set:function(t){if(t[0]instanceof G)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"currentFrame",{get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(dt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(dt.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),r}(ae);/*!
 * pixi.js - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Wn=function(i,r){return Wn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},Wn(i,r)};function Qo(i,r){Wn(i,r);function t(){this.constructor=i}i.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var A="5.0.0";function Tp(){var i=this;Object.defineProperties(i,{SVG_SIZE:{get:function(){return I(A,"PIXI.utils.SVG_SIZE property has moved to PIXI.resources.SVGResource.SVG_SIZE"),i.SVGResource.SVG_SIZE}},TransformStatic:{get:function(){return I(A,"PIXI.TransformStatic class has been removed, use PIXI.Transform"),i.Transform}},TransformBase:{get:function(){return I(A,"PIXI.TransformBase class has been removed, use PIXI.Transform"),i.Transform}},TRANSFORM_MODE:{get:function(){return I(A,"PIXI.TRANSFORM_MODE property has been removed"),{STATIC:0,DYNAMIC:1}}},WebGLRenderer:{get:function(){return I(A,"PIXI.WebGLRenderer class has moved to PIXI.Renderer"),i.Renderer}},CanvasRenderTarget:{get:function(){return I(A,"PIXI.CanvasRenderTarget class has moved to PIXI.utils.CanvasRenderTarget"),i.utils.CanvasRenderTarget}},loader:{get:function(){return I(A,"PIXI.loader instance has moved to PIXI.Loader.shared"),i.Loader.shared}},FilterManager:{get:function(){return I(A,"PIXI.FilterManager class has moved to PIXI.systems.FilterSystem"),i.systems.FilterSystem}},CanvasTinter:{get:function(){return I("5.2.0","PIXI.CanvasTinter namespace has moved to PIXI.canvasUtils"),i.canvasUtils}},GroupD8:{get:function(){return I("5.2.0","PIXI.GroupD8 namespace has moved to PIXI.groupD8"),i.groupD8}}}),i.accessibility={},Object.defineProperties(i.accessibility,{AccessibilityManager:{get:function(){return I("5.3.0","PIXI.accessibility.AccessibilityManager moved to PIXI.AccessibilityManager"),i.AccessibilityManager}}}),i.interaction={},Object.defineProperties(i.interaction,{InteractionManager:{get:function(){return I("5.3.0","PIXI.interaction.InteractionManager moved to PIXI.InteractionManager"),i.InteractionManager}},InteractionData:{get:function(){return I("5.3.0","PIXI.interaction.InteractionData moved to PIXI.InteractionData"),i.InteractionData}},InteractionEvent:{get:function(){return I("5.3.0","PIXI.interaction.InteractionEvent moved to PIXI.InteractionEvent"),i.InteractionEvent}}}),i.prepare={},Object.defineProperties(i.prepare,{BasePrepare:{get:function(){return I("5.2.1","PIXI.prepare.BasePrepare moved to PIXI.BasePrepare"),i.BasePrepare}},Prepare:{get:function(){return I("5.2.1","PIXI.prepare.Prepare moved to PIXI.Prepare"),i.Prepare}},CanvasPrepare:{get:function(){return I("5.2.1","PIXI.prepare.CanvasPrepare moved to PIXI.CanvasPrepare"),i.CanvasPrepare}}}),i.extract={},Object.defineProperties(i.extract,{Extract:{get:function(){return I("5.2.1","PIXI.extract.Extract moved to PIXI.Extract"),i.Extract}},CanvasExtract:{get:function(){return I("5.2.1","PIXI.extract.CanvasExtract moved to PIXI.CanvasExtract"),i.CanvasExtract}}}),i.extras={},Object.defineProperties(i.extras,{TilingSprite:{get:function(){return I(A,"PIXI.extras.TilingSprite class has moved to PIXI.TilingSprite"),i.TilingSprite}},TilingSpriteRenderer:{get:function(){return I(A,"PIXI.extras.TilingSpriteRenderer class has moved to PIXI.TilingSpriteRenderer"),i.TilingSpriteRenderer}},AnimatedSprite:{get:function(){return I(A,"PIXI.extras.AnimatedSprite class has moved to PIXI.AnimatedSprite"),i.AnimatedSprite}},BitmapText:{get:function(){return I(A,"PIXI.extras.BitmapText class has moved to PIXI.BitmapText"),i.BitmapText}}}),i.TilingSprite.fromFrame=function(l,d,p){return I("5.3.0","TilingSprite.fromFrame is deprecated, use TilingSprite.from"),i.TilingSprite.from(l,{width:d,height:p})},i.TilingSprite.fromImage=function(l,d,p,v){return v===void 0&&(v={}),I("5.3.0","TilingSprite.fromImage is deprecated, use TilingSprite.from"),v&&typeof v!="object"&&(v={scaleMode:arguments[4],resourceOptions:{crossorigin:arguments[3]}}),v.width=d,v.height=p,i.TilingSprite.from(l,v)},Object.defineProperties(i.utils,{getSvgSize:{get:function(){return I(A,"PIXI.utils.getSvgSize function has moved to PIXI.resources.SVGResource.getSize"),i.resources.SVGResource.getSize}}}),i.mesh={},Object.defineProperties(i.mesh,{Mesh:{get:function(){return I(A,"PIXI.mesh.Mesh class has moved to PIXI.SimpleMesh"),i.SimpleMesh}},NineSlicePlane:{get:function(){return I(A,"PIXI.mesh.NineSlicePlane class has moved to PIXI.NineSlicePlane"),i.NineSlicePlane}},Plane:{get:function(){return I(A,"PIXI.mesh.Plane class has moved to PIXI.SimplePlane"),i.SimplePlane}},Rope:{get:function(){return I(A,"PIXI.mesh.Rope class has moved to PIXI.SimpleRope"),i.SimpleRope}},RawMesh:{get:function(){return I(A,"PIXI.mesh.RawMesh class has moved to PIXI.Mesh"),i.Mesh}},CanvasMeshRenderer:{get:function(){return I(A,"PIXI.mesh.CanvasMeshRenderer class has moved to PIXI.CanvasMeshRenderer"),i.CanvasMeshRenderer}},MeshRenderer:{get:function(){return I(A,"PIXI.mesh.MeshRenderer class has moved to PIXI.MeshRenderer"),i.MeshRenderer}}}),i.particles={},Object.defineProperties(i.particles,{ParticleContainer:{get:function(){return I(A,"PIXI.particles.ParticleContainer class has moved to PIXI.ParticleContainer"),i.ParticleContainer}},ParticleRenderer:{get:function(){return I(A,"PIXI.particles.ParticleRenderer class has moved to PIXI.ParticleRenderer"),i.ParticleRenderer}}}),i.ticker={},Object.defineProperties(i.ticker,{Ticker:{get:function(){return I(A,"PIXI.ticker.Ticker class has moved to PIXI.Ticker"),i.Ticker}},shared:{get:function(){return I(A,"PIXI.ticker.shared instance has moved to PIXI.Ticker.shared"),i.Ticker.shared}}}),i.loaders={},Object.defineProperties(i.loaders,{Loader:{get:function(){return I(A,"PIXI.loaders.Loader class has moved to PIXI.Loader"),i.Loader}},Resource:{get:function(){return I(A,"PIXI.loaders.Resource class has moved to PIXI.LoaderResource"),i.LoaderResource}},bitmapFontParser:{get:function(){return I(A,"PIXI.loaders.bitmapFontParser function has moved to PIXI.BitmapFontLoader.use"),i.BitmapFontLoader.use}},parseBitmapFontData:{get:function(){I(A,"PIXI.loaders.parseBitmapFontData function has removed")}},spritesheetParser:{get:function(){return I(A,"PIXI.loaders.spritesheetParser function has moved to PIXI.SpritesheetLoader.use"),i.SpritesheetLoader.use}},getResourcePath:{get:function(){return I(A,"PIXI.loaders.getResourcePath property has moved to PIXI.SpritesheetLoader.getResourcePath"),i.SpritesheetLoader.getResourcePath}}}),i.Loader.addPixiMiddleware=function(l){return I(A,"PIXI.loaders.Loader.addPixiMiddleware function is deprecated, use PIXI.loaders.Loader.registerPlugin"),i.loaders.Loader.registerPlugin({use:l()})};var r=function(f){return"on"+f.charAt(0).toUpperCase()+f.slice(1)};Object.assign(i.Loader.prototype,{on:function(f){var l=r(f);I(A,"PIXI.Loader#on is completely deprecated, use PIXI.Loader#"+l+".add")},once:function(f){var l=r(f);I(A,"PIXI.Loader#once is completely deprecated, use PIXI.Loader#"+l+".once")},off:function(f){var l=r(f);I(A,"PIXI.Loader#off is completely deprecated, use PIXI.Loader#"+l+".detach")}}),Object.defineProperty(i.extract,"WebGLExtract",{get:function(){return I(A,"PIXI.extract.WebGLExtract method has moved to PIXI.Extract"),i.Extract}}),Object.defineProperty(i.prepare,"WebGLPrepare",{get:function(){return I(A,"PIXI.prepare.WebGLPrepare class has moved to PIXI.Prepare"),i.Prepare}}),i.Container.prototype._renderWebGL=function(l){I(A,"PIXI.Container._renderWebGL method has moved to PIXI.Container._render"),this._render(l)},i.Container.prototype.renderWebGL=function(l){I(A,"PIXI.Container.renderWebGL method has moved to PIXI.Container.render"),this.render(l)},i.DisplayObject.prototype.renderWebGL=function(l){I(A,"PIXI.DisplayObject.renderWebGL method has moved to PIXI.DisplayObject.render"),this.render(l)},i.Container.prototype.renderAdvancedWebGL=function(l){I(A,"PIXI.Container.renderAdvancedWebGL method has moved to PIXI.Container.renderAdvanced"),this.renderAdvanced(l)},Object.defineProperties(i.settings,{TRANSFORM_MODE:{get:function(){return I(A,"PIXI.settings.TRANSFORM_MODE property has been removed"),0},set:function(){I(A,"PIXI.settings.TRANSFORM_MODE property has been removed")}}});var t=i.BaseTexture;t.prototype.loadSource=function(l){I(A,"PIXI.BaseTexture.loadSource method has been deprecated");var d=i.resources.autoDetectResource(l);d.internal=!0,this.setResource(d),this.update()};var e=!1;Object.defineProperties(t.prototype,{hasLoaded:{get:function(){return I(A,"PIXI.BaseTexture.hasLoaded property has been removed, use PIXI.BaseTexture.valid"),this.valid}},imageUrl:{get:function(){var f;return I(A,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),(f=this.resource)===null||f===void 0?void 0:f.url},set:function(f){I(A,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),this.resource&&(this.resource.url=f)}},source:{get:function(){return I(A,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source`"),this.resource.source},set:function(f){I(A,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source` if you want to set HTMLCanvasElement. Otherwise, create new BaseTexture."),this.resource&&(this.resource.source=f)}},premultiplyAlpha:{get:function(){return I("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode!==0},set:function(f){I("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode=Number(f)}},_id:{get:function(){return e||(I("5.2.0","PIXI.BaseTexture._id batch local field has been changed to `_batchLocation`"),e=!0),this._batchLocation},set:function(f){this._batchLocation=f}}}),t.fromImage=function(l,d,p,v){I(A,"PIXI.BaseTexture.fromImage method has been replaced with PIXI.BaseTexture.from");var y={scale:v,crossorigin:d};return t.from(l,{scaleMode:p,resourceOptions:y})},t.fromCanvas=function(l,d){return I(A,"PIXI.BaseTexture.fromCanvas method has been replaced with PIXI.BaseTexture.from"),t.from(l,{scaleMode:d})},t.fromSVG=function(l,d,p,v){I(A,"PIXI.BaseTexture.fromSVG method has been replaced with PIXI.BaseTexture.from");var y={scale:v,crossorigin:d};return t.from(l,{scaleMode:p,resourceOptions:y})},Object.defineProperties(i.resources.ImageResource.prototype,{premultiplyAlpha:{get:function(){return I("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode!==0},set:function(f){I("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode=Number(f)}}}),i.Point.prototype.copy=function(l){return I(A,"PIXI.Point.copy method has been replaced with PIXI.Point.copyFrom"),this.copyFrom(l)},i.ObservablePoint.prototype.copy=function(l){return I(A,"PIXI.ObservablePoint.copy method has been replaced with PIXI.ObservablePoint.copyFrom"),this.copyFrom(l)},i.Rectangle.prototype.copy=function(l){return I(A,"PIXI.Rectangle.copy method has been replaced with PIXI.Rectangle.copyFrom"),this.copyFrom(l)},i.Matrix.prototype.copy=function(l){return I(A,"PIXI.Matrix.copy method has been replaced with PIXI.Matrix.copyTo"),this.copyTo(l)},i.systems.StateSystem.prototype.setState=function(l){return I("v5.1.0","StateSystem.setState has been renamed to StateSystem.set"),this.set(l)},Object.assign(i.systems.FilterSystem.prototype,{getRenderTarget:function(f,l){return I(A,"PIXI.FilterManager.getRenderTarget method has been replaced with PIXI.systems.FilterSystem#getFilterTexture"),this.getFilterTexture(null,l)},returnRenderTarget:function(f){I(A,"PIXI.FilterManager.returnRenderTarget method has been replaced with PIXI.systems.FilterSystem.returnFilterTexture"),this.returnFilterTexture(f)},calculateScreenSpaceMatrix:function(f){I(A,"PIXI.systems.FilterSystem.calculateScreenSpaceMatrix method is removed, use `(vTextureCoord * inputSize.xy) + outputFrame.xy` instead");var l=f.identity(),d=this.activeState,p=d.sourceFrame,v=d.destinationFrame;return l.translate(p.x/v.width,p.y/v.height),l.scale(v.width,v.height),l},calculateNormalizedScreenSpaceMatrix:function(f){I(A,"PIXI.systems.FilterManager.calculateNormalizedScreenSpaceMatrix method is removed, use `((vTextureCoord * inputSize.xy) + outputFrame.xy) / outputFrame.zw` instead.");var l=this.activeState,d=l.sourceFrame,p=l.destinationFrame,v=f.identity();v.translate(d.x/p.width,d.y/p.height);var y=p.width/d.width,g=p.height/d.height;return v.scale(y,g),v}}),Object.defineProperties(i.RenderTexture.prototype,{sourceFrame:{get:function(){return I(A,"PIXI.RenderTexture.sourceFrame property has been removed"),this.filterFrame}},size:{get:function(){return I(A,"PIXI.RenderTexture.size property has been removed"),this._frame}}});var n=function(f){Qo(l,f);function l(d,p,v,y){var g=this;return I(A,"PIXI.filters.BlurXFilter class is deprecated, use PIXI.filters.BlurFilterPass"),g=f.call(this,!0,d,p,v,y)||this,g}return l}(i.filters.BlurFilterPass),a=function(f){Qo(l,f);function l(d,p,v,y){var g=this;return I(A,"PIXI.filters.BlurYFilter class is deprecated, use PIXI.filters.BlurFilterPass"),g=f.call(this,!1,d,p,v,y)||this,g}return l}(i.filters.BlurFilterPass);Object.assign(i.filters,{BlurXFilter:n,BlurYFilter:a});var o=i.Sprite,s=i.Texture,h=i.Graphics;h.prototype.generateCanvasTexture||(h.prototype.generateCanvasTexture=function(){I(A,'PIXI.Graphics.generateCanvasTexture method is only available in "pixi.js-legacy"')}),Object.defineProperty(h.prototype,"graphicsData",{get:function(){return I(A,"PIXI.Graphics.graphicsData property is deprecated, use PIXI.Graphics.geometry.graphicsData"),this.geometry.graphicsData}});function u(f,l,d,p){return I(A,"PIXI.Sprite."+f+" method is deprecated, use PIXI.Sprite.from"),o.from(l,{resourceOptions:{scale:p,crossorigin:d}})}o.fromImage=u.bind(null,"fromImage"),o.fromSVG=u.bind(null,"fromSVG"),o.fromCanvas=u.bind(null,"fromCanvas"),o.fromVideo=u.bind(null,"fromVideo"),o.fromFrame=u.bind(null,"fromFrame");function c(f,l,d,p){return I(A,"PIXI.Texture."+f+" method is deprecated, use PIXI.Texture.from"),s.from(l,{resourceOptions:{scale:p,crossorigin:d}})}s.fromImage=c.bind(null,"fromImage"),s.fromSVG=c.bind(null,"fromSVG"),s.fromCanvas=c.bind(null,"fromCanvas"),s.fromVideo=c.bind(null,"fromVideo"),s.fromFrame=c.bind(null,"fromFrame"),Object.defineProperty(i.AbstractRenderer.prototype,"autoResize",{get:function(){return I(A,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity},set:function(f){I(A,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity=f}}),Object.defineProperty(i.Renderer.prototype,"textureManager",{get:function(){return I(A,"PIXI.Renderer.textureManager property is deprecated, use PIXI.Renderer.texture"),this.texture}}),i.utils.mixins={mixin:function(){I(A,"PIXI.utils.mixins.mixin function is no longer available")},delayMixin:function(){I(A,"PIXI.utils.mixins.delayMixin function is no longer available")},performMixins:function(){I(A,"PIXI.utils.mixins.performMixins function is no longer available")}},Object.defineProperty(i.BitmapText.prototype,"font",{get:function(){return I("5.3.0","PIXI.BitmapText.font property is deprecated, use fontName, fontSize, tint or align properties"),{name:this._fontName,size:this._fontSize,tint:this._tint,align:this._align}},set:function(f){if(I("5.3.0","PIXI.BitmapText.font property is deprecated, use fontName, fontSize, tint or align properties"),!!f){var l={font:f};this._upgradeStyle(l),l.fontSize=l.fontSize||i.BitmapFont.available[l.fontName].size,this._fontName=l.fontName,this._fontSize=l.fontSize,this.dirty=!0}}})}$t.registerPlugin("accessibility",Ds);$t.registerPlugin("extract",Ah);$t.registerPlugin("interaction",Xs);$t.registerPlugin("particle",Lh);$t.registerPlugin("prepare",Wh);$t.registerPlugin("batch",Sh);$t.registerPlugin("tilingSprite",Zh);we.registerPlugin(Qh);we.registerPlugin($h);Ke.registerPlugin(Us);Ke.registerPlugin(Fh);var wp="5.3.12",Pp={AlphaFilter:Zd,BlurFilter:rp,BlurFilterPass:Bn,ColorMatrixFilter:Xn,DisplacementFilter:hp,FXAAFilter:cp,NoiseFilter:vp},Ip=Object.freeze(Object.defineProperty({__proto__:null,utils:ec,VERSION:wp,filters:Pp,useDeprecated:Tp,AccessibilityManager:Ds,accessibleTarget:Ns,InteractionData:mn,InteractionEvent:Bs,InteractionManager:Xs,InteractionTrackingData:qr,interactiveTarget:ks,Application:Ke,AbstractBatchRenderer:Ph,AbstractRenderer:xh,Attribute:xn,BaseRenderTexture:lr,BaseTexture:J,BatchDrawCall:oi,BatchGeometry:ga,BatchPluginFactory:Eh,BatchRenderer:Sh,BatchShaderGenerator:Ih,BatchTextureArray:si,Buffer:ct,Filter:Yt,FilterState:qs,Framebuffer:ai,GLFramebuffer:Qs,GLProgram:vh,GLTexture:Kr,Geometry:Ze,IGLUniformData:Xc,MaskData:rh,ObjectRenderer:wr,Program:Pr,Quad:$s,QuadUv:ya,RenderTexture:ee,RenderTexturePool:Ws,Renderer:$t,Shader:re,SpriteMaskFilter:hh,State:ne,System:Tt,Texture:G,TextureMatrix:pi,TextureUvs:va,UniformGroup:te,ViewableBuffer:wh,autoDetectRenderer:bh,checkMaxIfStatementsInShader:sh,defaultFilterVertex:ma,defaultVertex:Th,resources:dc,systems:$c,uniformParsers:Zr,Extract:Ah,AppLoaderPlugin:Fh,Loader:we,LoaderResource:fr,TextureLoader:Rh,ParticleContainer:fd,ParticleRenderer:Lh,BasePrepare:Vh,CountLimiter:jh,Prepare:Wh,TimeLimiter:Nd,Spritesheet:Yh,SpritesheetLoader:$h,TilingSprite:Dd,TilingSpriteRenderer:Zh,BitmapFont:Kt,BitmapFontData:_r,BitmapFontLoader:Qh,BitmapText:Yd,Ticker:dt,TickerPlugin:Us,get UPDATE_PRIORITY(){return Ut},get ALPHA_MODES(){return zt},get BLEND_MODES(){return U},get BUFFER_BITS(){return vr},get CLEAR_MODES(){return Ot},get DRAW_MODES(){return It},get ENV(){return Dt},get FORMATS(){return Ge},get GC_MODES(){return ii},get MASK_TYPES(){return xt},get MIPMAP_MODES(){return He},get MSAA_QUALITY(){return xe},get PRECISION(){return Rt},get RENDERER_TYPE(){return Xe},get SCALE_MODES(){return Ct},get TARGETS(){return Qt},get TYPES(){return st},get WRAP_MODES(){return jt},Bounds:gr,Container:St,DisplayObject:ut,TemporaryDisplayObject:la,FillStyle:_a,GRAPHICS_CURVES:ze,Graphics:ba,GraphicsData:An,GraphicsGeometry:Gh,get LINE_CAP(){return Ht},get LINE_JOIN(){return Gt},LineStyle:Hh,graphicsUtils:yd,Circle:Rs,DEG_TO_RAD:Cs,Ellipse:Fs,Matrix:ht,ObservablePoint:ve,PI_2:je,Point:pt,Polygon:De,RAD_TO_DEG:Os,Rectangle:q,RoundedRectangle:Ms,get SHAPES(){return at},Transform:ha,groupD8:Q,Mesh:Ye,MeshBatchUvs:Kh,MeshGeometry:Er,MeshMaterial:Ir,NineSlicePlane:_p,PlaneGeometry:ru,RopeGeometry:iu,SimpleMesh:gp,SimplePlane:nu,SimpleRope:mp,Runner:vt,Sprite:ae,AnimatedSprite:bp,get TEXT_GRADIENT(){return We},Text:Ta,TextMetrics:At,TextStyle:Pe,isMobile:Pt,settings:D},Symbol.toStringTag,{value:"Module"}));const au="0.1.0-alpha.20",Ep=["init","load","saveState","loadState","getStateForAgent","tick"];function Sp(i,r){return new Promise((t,e)=>{if(i.options.game!==void 0)return t(i.options.game);const n=i.header.main;return n===void 0?e("header is missing main attribute with the path to your main script"):r.get(n).then(a=>{let o={};return new Function("vm","stage","PIXI","exports",`${a}
; ${Ep.map(s=>`if (typeof ${s} !== "undefined") exports.${s} = ${s}`).join(";")}`)(i,i.stage,i.PIXI,o),t(o)})})}function Ap(i,r){return new Promise(t=>Sp(r,i.gameServer).then(e=>(console.log("loaded game with hooks",e),e.init!==void 0&&e.init(r.proxy),e.load!==void 0?e.load().then(()=>{t(e)}):t(e))))}class Op{constructor(r,t){this.buffer=ee.create({width:r,height:t}),this.sprite=new ae(this.buffer),this.sprite.pivot.set(0,0),this.sprite.position.set(0,0)}}class Cp{constructor(r){this._vm=r}get header(){return this._vm.header}get PIXI(){return this._vm.PIXI}get SWIDTH(){return this._vm.SWIDTH}get SHEIGHT(){return this._vm.SHEIGHT}get player(){return this._vm.player}get stage(){return this._vm.stage}get renderer(){return this._vm.renderer}get backBuffer(){return this._vm.backBuffer}get autoClearBackBuffer(){return this._vm.autoClearBackBuffer}set autoClearBackBuffer(r){this._vm.autoClearBackBuffer=r}}class Rp{constructor(r){this._ticker=a=>this._tick(a),this._isPlaying=!1,this._displayedTickError=!1,this.autoClearBackBuffer=!0,this.speed=1,this.options=r,this.proxy=new Cp(this),this._player=r.player,D.SCALE_MODE=Ct.NEAREST,this._app=new Ke({backgroundColor:0,resolution:1,autoDensity:!0,width:this._player.width,height:this._player.height,clearBeforeRender:!1,antialias:!1});let t=hu,e=uu;const n=this.header.aspectRatio;if(n!==void 0){const[a,o]=n.split("/").map(s=>parseInt(s));a>=o?e=Math.round(t*o/a):t=Math.round(e*a/o)}console.log(`game size ${t}x${e}`),this._backBuffer=new Op(t,e),this._backStage=new St,this._clearSprite=new ae(G.WHITE),this._clearSprite.width=t,this._clearSprite.height=e,this._clearSprite.tint=0,this.resize()}init(){return new Promise(r=>{Ap(this._player,this).then(t=>(this._game=t,this._initPixiJS(),r()))})}_initPixiJS(){this._player.root.appendChild(this._app.view)}_tick(r){this.ticker!==void 0&&this.ticker(r)}get width(){return this._backBuffer.buffer.width}get height(){return this._backBuffer.buffer.height}get scale(){return lu}help(){return""}play(){this._app===void 0||this._isPlaying||(this._isPlaying=!0,this._displayedTickError=!1,this.resize(),this._ticker=r=>this._tick(r),this._app.ticker.add(this._ticker))}pause(){this._app!==void 0&&this._app.ticker.remove(this._ticker)}stop(){this._app.destroy(!0,{children:!0,texture:!0,baseTexture:!0})}resize(){const t=this._player.width,e=this._player.height;this._app.renderer.resolution=1,this._app.renderer.resize(t,e),this._backBuffer.sprite.scale.set(t/this.SWIDTH,e/this.SHEIGHT)}saveState(){var r,t;return((r=this._game)==null?void 0:r.saveState)!==void 0?(t=this._game)==null?void 0:t.saveState():{}}loadState(r){var t,e;((t=this._game)==null?void 0:t.loadState)!==void 0&&((e=this._game)==null||e.loadState(r))}getStateForAgent(){var r,t;return((r=this._game)==null?void 0:r.getStateForAgent)!==void 0?(t=this._game)==null?void 0:t.getStateForAgent():{}}tick(r,t,e){var n,a;if(((n=this._game)==null?void 0:n.tick)!==void 0)try{(a=this._game)==null||a.tick(r,t,e)}catch(o){this._displayedTickError||(this._displayedTickError=!0,console.error(o))}!e||(this.autoClearBackBuffer&&this._app.renderer.render(this._clearSprite,this._backBuffer.buffer),this._app.renderer.render(this._backStage,this._backBuffer.buffer),this._app.renderer.render(this._backBuffer.sprite))}get header(){return this.player.header}get PIXI(){return Ip}get SWIDTH(){return this._backBuffer.buffer.width}get SHEIGHT(){return this._backBuffer.buffer.height}get player(){return this._player}get stage(){return this._backStage}get renderer(){return this._app.renderer}get backBuffer(){return this._backBuffer.buffer}}function ou(i){const r=new Rp(i);return new Promise(t=>{r.init().then(()=>t(r))})}const Fp=i=>ou({player:i});var Mp=Object.freeze(Object.defineProperty({__proto__:null,VERSION:au,init:ou,boot:Fp},Symbol.toStringTag,{value:"Module"}));window.PixiMoroxel8AI=Mp;document.getElementById("moroboxai-game-sdk-version").innerText=MoroboxAIPlayer.GAME_SDK_VERSION;document.getElementById("moroboxai-player-sdk-version").innerText=MoroboxAIPlayer.SDK_VERSION;document.getElementById("moroboxai-player-web-version").innerText=MoroboxAIPlayer.VERSION;document.getElementById("moroboxai-editor-sdk-version").innerText=MoroboxAIEditor.SDK_VERSION;document.getElementById("moroboxai-editor-web-version").innerText=MoroboxAIEditor.VERSION;document.getElementById("piximoroxel8ai-version").innerText=au;const ts=MoroboxAIPlayer.init(document.getElementById("player"),{url:"https://raw.githubusercontent.com/moroboxai/moroboxai-games/master/piximoroxel8ai-sample/sample/header.yml",resizable:!1,autoPlay:!0,width:256,height:256,onReady:()=>console.log("ready")});MoroboxAIEditor.init({element:document.getElementById("editor"),url:"https://raw.githubusercontent.com/moroboxai/moroboxai-games/master/piximoroxel8ai-sample/sample/agent.js",width:"500px",height:"400px",onLoad:(i,r)=>ts.getController(0).loadAgent({language:i,code:r}),onUnload:()=>ts.getController(0).unloadAgent()});
